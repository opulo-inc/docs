{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Opulo Documentation","text":"<p>Welcome to the Opulo Docs site! Here you'll find build guides, setup instructions, and troubleshooting steps for Opulo products. Be sure to check out product source files on GitHub and the community Discord server. You can also reach out to our customer support line.</p> <p>Something look wrong? Please let us know!</p> <p></p>"},{"location":"byop/","title":"LumenPnP Kit Assembly","text":""},{"location":"byop/#what-is-the-lumenpnp","title":"What is the LumenPnP?","text":"<p>The LumenPnP is an open source Pick and Place project led by Opulo. The LumenPnP is designed to be low cost and suited towards mid-scale manufacturing.</p> <p></p> <p>The LumenPnP is capable of placing parts as small as 0402, with support for down to 0603. It is currently set up to use strip feeders, but development around active, powered feeders is ongoing.</p> <p>It is completely open source and hackable. The main controller has three AUX ports, allowing anyone to add on peripherals or communicate with other machines.</p> <p>WARNING</p> <p>This documentation corresponds with a specific machine Build Number. The Build Number represents what hardware and 3D printed parts your machine has. The first number is what version of the Opulo hardware kit you have. If you're building a BYOP kit, you have a v2 kit, and these docs are for you! You should see \"v2\" on the pamphlet that was included in your kit.</p>"},{"location":"byop/#whats-on-this-site","title":"What's on this site?","text":"<ul> <li>How to assemble the hardware in a LumenPnP Kit</li> <li>How to connect the electrical components in a LumenPnP Kit</li> <li>How to complete basic calibration in OpenPnP</li> </ul>"},{"location":"byop/#read-before-starting","title":"READ BEFORE STARTING","text":""},{"location":"byop/#referencing-source-files","title":"Referencing Source Files","text":"<p>As you go through this guide, you might find that you'd like to refer to the source files for a number of parts in the machine. The exported build files and source for your machine can be found on the Releases Page. Make sure to reference the same Build Number as your machine kit!</p>"},{"location":"byop/#machine-orientation-and-terminology","title":"Machine Orientation and Terminology","text":"<p>Throughout this guide we'll be referring to different orientations and directions of the machine as \"left, right, front, back, up, and down.\" In general, these words are in reference to the typical view of the machine, facing it directly, as shown below.</p> <p></p> <p>We'll also refer to putting the machine \"back on its haunches.\" This refers to a feature of the LumenPnP where it can be lifted up by the front rail and let to rest upright on its back feet. This orientation is tremendously helpful for installing things to the staging plate and plugging things into the motherboard. Whenever putting your machine back, make sure the Y gantry is pushed all the way to the back of the machine to prevent backdriving the Y stepper motor driver. An image of this orientation is below.</p> <p> </p>"},{"location":"byop/#help","title":"Help","text":"<p>If you find that there's something unclear in this documentation, please submit a ticket on Github about it! Select the \"Index Documentation Issue\" template. You can also file an issue using the link in the upper right of any page on this site. We're trying to make this as clear and understandable as possible, so every issue you tag helps us make it better for everyone else. You can also check out the Discord server and ask questions to the community.</p>"},{"location":"byop/#timing","title":"Timing","text":"<p>Expect assembly to take about eight hours provided all parts are printed and ready to use.</p>"},{"location":"byop/#tools-needed","title":"Tools Needed","text":"<ul> <li>M2 Allen Wrench (Long, ball-end)</li> <li>M2.5 Allen Wrench (Long, ball-end)</li> <li>M3 Allen Wrench (Long, ball-end)</li> <li>M4 Allen Wrench (Long, ball-end)</li> <li>Small Phillips Screwdriver</li> <li>Small Flathead Screwdriver</li> <li>Soldering Iron and Solder</li> <li>Needle-nose Pliers</li> <li>Mallet</li> <li>Flush Cutters</li> <li>Wire Stripper</li> <li>Measuring Tape</li> <li>Calipers</li> <li>Hot Air</li> </ul>"},{"location":"byop/#next-steps","title":"Next steps","text":"<p>Let's dive in! The first step is the mechanical assembly, and printing all the parts.</p>"},{"location":"byop/mechanical-assembly/1-printing-parts/","title":"Printing Parts","text":""},{"location":"byop/mechanical-assembly/1-printing-parts/#getting-the-part-models","title":"Getting The Part Models","text":"<p>Alright, time to get the parts we need to print! You can find the parts you need on the Releases Page, and look at the attached Assets at the bottom of the release. Click and download both <code>LumenPnP-STLs</code> and <code>LumenPnP-BOM</code> to get the STL files and BOM for your machine.</p>"},{"location":"byop/mechanical-assembly/1-printing-parts/#printer-requirements","title":"Printer Requirements","text":"<p>These parts are designed to fit onto a printer with a build volume of at least 18 x 18 x 18 cm, such as the Prusa MINI. Although not recommended, it's possible to print the parts on a smaller printer with some creative placements.</p> <p>Additionally these parts are designed for printers with a 0.4mm nozzle. Using a larger nozzle diameter can result in some features not resolving correctly, or parts not fitting as designed.</p>"},{"location":"byop/mechanical-assembly/1-printing-parts/#material","title":"Material","text":"<p>These parts are designed for PLA, however, some folks have printed the parts successfully with PETG. You'll need about 1 kg of the primary filament.</p> <p>There are three situations where you'll need specific filament colors:</p> <ul> <li>White or transparent filament for the light mounts, <code>top-light-mount</code> and <code>bottom-light-mount</code>. These parts act as light diffusers for the ring lights.</li> <li>White or light colored filament for the <code>nozzle-rack</code>. This helps with setting up the automatic tool changer.</li> <li>A darker filament for the Z gantries, <code>z-gantry-left</code> and <code>z-gantry-right</code>. This helps the bottom camera distinguish the nozzle tip from the rest of the gantry. If you print in a lighter color anyway you can use a bit of blue painter's table on the bottom side of the gantry.</li> </ul>"},{"location":"byop/mechanical-assembly/1-printing-parts/#print-settings","title":"Print settings","text":"<p>There are two different print setting profiles you'll need for printing the parts. We use PrusaSlicer's setting names, but you should be able to adapt them if you use a different slicer. Every printer is a little different, but these settings should be a reasonable starting point. You can tune them as needed once you print the calibration print in the next step.</p>"},{"location":"byop/mechanical-assembly/1-printing-parts/#default-settings","title":"Default Settings","text":"<p>These settings are used for the majority of the parts:</p> <ul> <li>Layer height: 0.2 mm</li> <li>Vertical shells &gt; Perimeters: 3</li> <li>Infill &gt; Fill density: 20%</li> <li>Horizontal shells &gt; Solid Layers: 5 for top and bottom</li> <li>Support material &gt; Generate support material: yes</li> </ul>"},{"location":"byop/mechanical-assembly/1-printing-parts/#gantry-settings","title":"Gantry Settings","text":"<p>These settings are used for parts that require more strength:</p> <ul> <li>Layer height: 0.2 mm</li> <li>Vertical shells &gt; Perimeters: 4</li> <li>Infill &gt; Fill density: 30%</li> <li>Horizontal shells &gt; Solid Layers: 5 for top and bottom</li> <li>Support material &gt; Generate support material: yes</li> </ul> <p>Use gantry settings for the following parts:</p> <ul> <li>y-gantry</li> <li>y-gantry-support</li> <li>roller-spacer</li> <li>x-gantry-front</li> <li>x-gantry-back</li> <li>x-idler-mount</li> <li>z-gantry-left</li> <li>z-gantry-right</li> </ul>"},{"location":"byop/mechanical-assembly/1-printing-parts/#calibration-print","title":"Calibration Print","text":"<p>Before printing the parts, print the calibration part. This part contains every feature- screw holes, nut slots, extrusion profiles, etc.- used in the printable parts. Printing this first ensures your printer calibration and print settings are correct.</p> <p></p> <p>This is the calibration print, colloquially referred to as \"the corndog\". This part isn't currently included in the exported STLs, so grab it from the link above.</p> <p>After printing, you can check fit of various fasteners and one of the aluminum extrusions to ensure the parts you print will all fit as expected:</p> <ul> <li>Check that M3 and M5 bolts fit through their counter-sunk holes.</li> <li>Check that M3 and M5 nuts fit in both hexagonal voids and vertical nut slots.</li> <li>Check that M3 and M5 bolts can be self-tap through the two holes inside the lock icon. They should take some effort, but they should grip well into the print.</li> <li>Check that the 20 x 20 mm aluminum extrusion fits into the square hole.</li> </ul> <p>Once you're happy with the fit you can start printing the parts.</p>"},{"location":"byop/mechanical-assembly/1-printing-parts/#printing-the-parts","title":"Printing The Parts","text":"<p>You can find out how many of each part to print in the <code>LumenPnP-BOM</code> zip file you downloaded in the first step. After unzipping, open the HTML file in your browser to see the machine's Bill of Materials.</p> <p>The \"Part Name\" column will tell you which part to print and the \"Quantity\" column will tell you how many to print. There's a rendered image of each 3D printed part as well to help identify them. Just print the parts that have the \"Part Type\" of \"FDM\". The other items in this table are a list of all the other fasteners, hardware, and off the shelf parts used in the machine's mechanical build- all of these have been provided in the kit.</p> <p>The 3d models are already in the preferred orientation for printing, so you only need to make sure they're placed within the build volume when slicing.</p>"},{"location":"byop/mechanical-assembly/1-printing-parts/#optional-parts","title":"Optional Parts","text":"<p>There are some parts in the Bill of Materials page that are highlighted and flagged as optional. These prints are not necessary to print - feel free to print them if you think they'll be useful for you, but they aren't required for building the machine. There are notes in the BOM about what extra parts and steps are necessary to use them.</p>"},{"location":"byop/mechanical-assembly/1-printing-parts/#next-steps","title":"Next steps","text":"<p>Start by assembling the belt tensioners.</p>"},{"location":"byop/mechanical-assembly/10-attaching-belts/","title":"Attaching Belts","text":"<p>With a complete frame assembled, we can now route the GT2 timing belt that makes everything move!</p> Qty Part 1 GT2 Timing Belt 4 FDM-0027 (Belt Clamp) 8 M5x10 machine screw <ol> <li> <p>We'll start with the Y axis. If you'd like to precut your belt instead of routing the entirety of it through the machine, you can cut two 1400mm lengths for the Y axis motors. To help guide the belt through the openings in the prints, bend it backwards as shown below so that the belt has a curve to it.    </p> </li> <li> <p>Take your length of GT2 belt and stick it inside the extrusion (smooth side facing outward), behind the <code>Y Gantry</code> as shown below. Getting the belt to come out of the slot in the Y axis gantry can be difficult. Here's some strategies:</p> </li> <li>Try using a small allen wrench with a ball tip to guide the belt out of the hole. (Photos below)</li> <li>Or, attach a twist tie to the end of the belt and guide that out the hole instead. When you're done, the belt should be coming out of the hole on the side closest to the front of the machine.</li> <li> <p>Running a long zip tie through the hole from the front, you may be able to catch the ridges of the zip tie with the ridges of the belt, and pull it through by retracting the zip tie.    </p> </li> <li> <p>Using 4 M5x10mm machine screws and 2 <code>Belt Clamps</code> on the <code>Y Gantry</code>, slide the belt underneath the <code>Belt Clamps</code> and tighten them down with the GT2 belt flush with the edge of the <code>Y Gantry</code>.</p> </li> <li> <p>Now, take the other end of your belt and feed it through the <code>Front Right Leg</code>. Guide it through and around the idler in the <code>Belt Tension Arm</code>, and feed it back through the other side of the <code>Front Right Leg</code> as shown below.    </p> </li> <li> <p>Continue to feed your belt along the inner side of the aluminum extrusion. Pass behind the <code>Y Gantry Support</code> between it and the aluminum extrusion.</p> </li> <li> <p>Feed the belt through the inner side of the <code>Back Right Leg</code>. Then loop the belt around the GT2 pulley on the stepper motor and feed it through the outer side of the <code>Back Right Leg</code>.   </p> </li> <li> <p>Run the belt along the outer side of the aluminum extrusion. Take the end and feed it through the other opening of the Y gantry, like we did in step 1. Feed the end between the Y gantry and the <code>Belt Clamps</code>. Make sure the belt tensioner on the front leg is completely unscrewed, meaning it's angled as close to the leg as it can be. This will give us the most possible stroke to tension the belt in the next step.</p> </li> <li> <p>Pull on the belt with one hand, while holding the Y gantry steady with the other. Getting it generally taught is preferable, but don't worry about getting it perfect; we'll tension it correctly next. Push down on the belt clamp to hold the belt in place, and tighten the two screws to clamp it down. Cut the belt with at least 20mm remaining out the back side of the Y gantry.</p> </li> <li> <p>Now we can tension the belt. Slowly tighten in the M3 screw on the belt tensioner to increase the belt tension. Pulling back on the belt tensioner arm should be difficult, but possible. A tug should result in only a 2mm deflection.</p> </li> <li> <p>Perform the same steps on the left side Y axis.   </p> </li> <li> <p>We're going to do the exact same operation for the X axis, but with one small thing to keep in mind: when looking at the back of the machine, start by clamping the belt on the right side of the X gantry (the side closest to the motor). This way, the excess belt will be sticking out of the X gantry on the side opposite of the limit switch, and prevent a problem with homing. You can precut a 1500mm strip of belt for the X axis or just use the rest of your belt and trim the excess.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/10-attaching-belts/#next-steps","title":"Next steps","text":"<p>Continue to populating the staging plate.</p>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/","title":"Populating the Staging Plate","text":"<p>We now have the main structure of the machine assembled! Now we'll mount some components to the bottom of the staging plate.</p>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#overview","title":"Overview","text":"<p>Refer to the images below for referencing where to mount parts on the staging plate.</p> <p> </p>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#soldering-pump","title":"Soldering Pump","text":"Qty Part 1 Vacuum Pump 1 Vacuum Pump Wire (Labeled \"P1\") 2 Heatshrink (small) <p>Some LumenPnP kits shipped with a pump that had its connector pre-soldered to it. If your pump is not pre-soldered, follow along here to prepare your pump.</p> <ol> <li> <p>Gather your Pump, the pump wire (labeled \"P1\"), and two lengths of heatshrink.   </p> </li> <li> <p>Slip the heatshrink over the two exposed leads of the wire.   </p> </li> <li> <p>Wrap the red wire around the left lead as shown in the image below. Wrap the black wire around the right lead.   </p> </li> <li> <p>Solder both wires to the pump leads. The polarity does not matter.   </p> </li> <li> <p>Slip the heat shrink over the solder joints and motor lead. Use a hot air gun, lighter, or other heat source to shrink the heatshrink.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#pump-mount","title":"Pump mount","text":"Qty Part 1 FDM-0025 (Pump Mount) 2 M3 Hex Nuts 2 Rubber Band 1 Vacuum Pump 2 M3x10 machine screw <p>The first thing we'll mount to the staging plate is the <code>Pump Mount</code>. This print suspends the pump using two rubber bands to ensure none of the vibration of the pump is transferred into the frame.</p> <ol> <li> <p>Start by press-fitting M3 nuts into the side recesses in the <code>Pump Mount</code>.   </p> </li> <li> <p>Now we'll mount the pump in the <code>Pump Mount</code> using a couple rubber bands. Start by grabbing the rubber band with both hands, giving it a half twist, and folding it over on itself, making two loops.    </p> </li> <li> <p>Now stretch each rubber band over each pair of pegs on the <code>Pump Mount</code>. Guide the pump between each pair of bands so that it's suspended in the <code>Pump Mount</code>.    </p> </li> <li> <p>Mount the <code>Pump Mount</code> to the staging plate using two M3 x 10mm screws in the location shown below, G31 and G33.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#valve-mount","title":"Valve mount","text":"Qty Part 1 FDM-0042 (Valve Mount) 1 Blowoff Valve 4 M3 Hex Nut 6 M3x8 machine screw <p>Now we'll attach the <code>Valve Mount</code> to the staging plate.</p> <ol> <li> <p>Press fit four M3 nuts into the recesses in the <code>Valve Mount</code>.   </p> </li> <li> <p>Use two M3x8mm screws to attach the valve to the <code>Valve Mount</code> as shown below.   </p> </li> <li> <p>Use four M3x8mm screws to mount the <code>Valve Mount</code> to the staging plate in the location shown: E23, E25, G23, G25.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#pneumatic-y-splitter-mount","title":"Pneumatic Y splitter mount","text":"Qty Part 1 M3x30 machine screw 1 M3 Hex nut 1 Y Splitter <ol> <li>Use an M3x30mm screw and an M3 nut to mount the pneumatic Y splitter to the staging plate as shown: B12.    </li> </ol>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#bottom-camera-mount","title":"Bottom camera mount","text":"Qty Part 1 FDM-0019 (Up Light Mount) 1 FDM-0020 (Up Camera Mount) 1 Up Ring Light PCB 1 USB Camera (Bottom) 4 M3x30 machine screw 4 M3 Hex Nut 4 M2.5x8 machine screw 1 Super Lube <ol> <li> <p>Slide the Up Ring Light into the <code>Up Light Mount</code>. The cable connector and LEDs should be facing the printed part, away from the camera in this photo.    </p> </li> <li> <p>Stack the <code>Up Camera Mount</code>Up Light Mount`   </p> </li> <li> <p>Just as with the top camera, you need to make sure you can rotate the camera's lens to adjust its focus. First carefully remove the set screw on the side of the lens assembly that is holding the lens in place. Next, unscrew the lens from the camera. You might need a light grip with pliers (preferably with soft grips) to get it to turn. With the lens removed, use a cotton swab to apply a very small amount of Super Lube to the lens threads. Be careful not to get any of the lubricant inside or on the lens. Wipe off any excess with a cotton swab or microfiber cloth. If necessary, you can clean the lens itself using a microfiber cloth. Screw the lens back into the camera and work the lubricant into the threads. Save the lubricant as you'll use it again later. Finally, add the set screw back to the side of the lens assembly. Tighten the set screw just enough to keep the lens in place but not so much that it prevents you from adjusting the lens with a little force, as you'll need to adjust the lens after the camera is mounted.</p> </li> <li> <p>Stack the Up Camera in the <code>Up Camera Mount</code>. The cable connector for the camera should be as close to the cable connector for the Up Ring Light as possible, as pictured below.    </p> </li> <li> <p>Use four M2.5x8mm screws to mount the camera into the <code>Up Camera Mount</code> by using the inner set of four holes and tapping directly into the plastic.   </p> </li> <li> <p>If you have the fiberglass PCB staging plate, you'll need to install a support foot to keep the staging plate sturdy. Stack the Foot Mount on top of the assembly. If you have the metal staging plate, you can skip this step.   </p> </li> <li> <p>If you have the fiberglass PCB staging plate, push four M3 nuts into the recesses in the Foot Mount.   </p> </li> <li> <p>Use four M3x30mm screws and four M3 nuts mount the whole assembly to the staging plate: D18, B20, D20, F22 (if you have the fiberglass staging plate, these will be the nuts you installed in the previous step). The cable connector for the Up Ring Light should be facing down and to the left, away from the valve.    </p> </li> <li> <p>Ensure that your bottom camera matches the orientation to the image below.    </p> </li> <li> <p>If you have the fiberglass PCB staging plate, note that this is where the foot will get installed when your LumenPnP is ready.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#nozzle-holder","title":"Nozzle Holder","text":"Qty Part 1 FDM-0024 (Nozzle Holder) 3 M3 Hex Nut 3 M3x8 machine screw <ol> <li> <p>Slide three M3 nuts into the slots in the back of the <code>Nozzle Holder</code>.   </p> </li> <li> <p>Using three M3x8mm machine screws, tighten the <code>Nozzle Holder</code> on top of the staging plate as shown: B8, D8, F8. Note: we will install the datum board later, ignore it in the photo below.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#datum-board","title":"Datum Board","text":"<p>Use four M3x16mm screws and four M3 nuts to secure the datum board and datum board mount to the staging plate on the rear of the bottom camera, through holes: B18, A19, A21, B22. The the fisheye calibration pattern should be facing down, and the gold grid lines and fiducial in the center of the Opulo logo facing upwards. Tighten this down securely. </p>"},{"location":"byop/mechanical-assembly/11-populating-staging-plate/#next-steps","title":"Next steps","text":"<p>Continue to installing the motherboard.</p>"},{"location":"byop/mechanical-assembly/2-belt-tensioners/","title":"Belt Tensioners","text":"<p>Alright, time to get into the build! First, we're going to build the belt tensioners that are used for the X and Y axes. You need to build three of these.</p> Qty Part 1 each, 3 total M3 Hex Nut 1 each, 3 total M3x16 machine screw 1 each, 3 total M3 Cap Nut 1 each, 3 total M5x25 machine screw 1 each, 3 total M5 Nyloc Hex Nut 1 each, 3 total M5x40 machine screw 1 each, 3 total M5 Hex Nut 1 each, 3 total GT2 Pulley Idler 1 each, 3 total FDM-0037 (Belt Tension Arm) 1 FDM-0001 (Front Left Leg) 1 FDM-0002 (Front Right Leg) 1 FDM-0013 (X Idler Mount)"},{"location":"byop/mechanical-assembly/2-belt-tensioners/#assembling-the-belt-tensioner-arms","title":"Assembling the Belt Tensioner Arms","text":"<ol> <li> <p>Insert an M3 Hex Nut into its slot on the back of a <code>Belt Tension Arm</code>.   </p> </li> <li> <p>Insert an M3x16mm Machine Screw through the front hole in the <code>Belt Tension Arm</code> and then tighten.   </p> </li> <li> <p>Thread an M3 Cap Nut on the end of the M3x16mm Machine Screw.   </p> </li> <li> <p>Insert an M5x25mm Machine Screw through the hole in the top of the <code>Belt Tension Arm</code> so that it passes through a GT2 Pulley Idler.   </p> </li> <li> <p>Add an M5 Nyloc Hex Nut on the bottom of the <code>Belt Tension Arm</code> and tighten. Make sure the idler can still spin freely.   </p> </li> <li> <p>Repeat this two more times so that you have a total of three arms.</p> </li> </ol>"},{"location":"byop/mechanical-assembly/2-belt-tensioners/#attaching-a-tensioner-to-the-left-side","title":"Attaching a tensioner to the left side","text":"<p>Now you'll attach the first tensioner to the <code>Front Left Leg</code>:</p> <ol> <li> <p>Insert an M5 Nyloc Hex Nut into the recess for a hex nut on the bottom of one of the idler mount arms on the <code>Front Left Leg</code>.   </p> </li> <li> <p>Insert a completed <code>Belt Tension Arm</code> assembly between the arms on the <code>Front Left Leg</code>, with the screw head of the M5x25mm facing up.   </p> </li> <li> <p>Insert an M5x40mm Machine Screw through the hole in the top so that it passes through the <code>Belt Tension Arm</code> and tightens into the M5 Nyloc Hex Nut. Do not over-tighten, and ensure you can still pivot the tension arm.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/2-belt-tensioners/#attaching-a-tensioner-to-the-right-side","title":"Attaching a tensioner to the right side","text":"<p>Next, attach the second tensioner the the <code>Front Right Leg</code>. This is nearly identical to the first one:</p> <ol> <li> <p>Insert the M5 Nyloc Hex Nut into the recess for a hex nut on the bottom of one of the idler mount arms on the <code>Front Right Leg</code>.     </p> </li> <li> <p>Insert a completed <code>Belt Tension Arm</code> assembly between the arms on the <code>Front Right Leg</code>, with the screw head of the M5x25mm facing up.   </p> </li> <li> <p>Insert the M5x40mm Machine Screw through the hole in the top so that it passes through the <code>Belt Tension Arm</code> and tighten into the M5 Nyloc Hex Nut. Do not over-tighten, and ensure you can still pivot the tension arm.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/2-belt-tensioners/#attaching-a-tensioner-to-the-x-idler-mount","title":"Attaching a tensioner to the X idler mount","text":"<p>The third and final tensioner is attached to the <code>X Idler Mount</code>. This is only slightly different from the previous two:</p> <ol> <li> <p>Insert the M5 Nyloc hex nut into the recess on the bottom of the <code>X Idler Mount</code>.   </p> </li> <li> <p>Insert the completed <code>Belt Tension Arm</code> into its slot in the <code>X Idler Mount</code>.   </p> </li> <li> <p>Insert the M5x40mm machine screw through the hole in the top of the <code>X Idler Mount</code> so that it passes through the <code>Belt Tension Arm</code> and tightens into the Nyloc Hex Nut.  Do not over-tighten, and ensure you can still pivot the <code>Belt Tension Arm</code>.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/2-belt-tensioners/#next-steps","title":"Next steps","text":"<p>Now that all the tensioners are in the right place, continue with assembling the left side.</p>"},{"location":"byop/mechanical-assembly/3-left-side/","title":"Left Side","text":"<p>Now that the belt tensioner arms are assembled and attached, it's time to start working on the frame. You'll start by assembling the left side of the machine as seen from the front:</p> <p></p>"},{"location":"byop/mechanical-assembly/3-left-side/#assembly","title":"Assembly","text":"Qty Part 1 FDM-0001 (Front Left Leg) 1 FDM-0003 (Back Left Leg) 2 Aluminum extrusions 6 M5 T-slot nut 6 M5x10 machine screw 1 NEMA17 Stepper motor 1 GT2 Pulley (with grub screws) 6 M3x8 machine screw 1 Limit switch PCB 2 M5x25 machine screw 1 FDM-0007 (Frame Umbilical Mount) 1 FDM-0046 (Umbilical Swivel Part 1) 1 FDM-0047 (Umbilical Swivel Part 2) 1 M5x40 machine screw <ol> <li> <p>Take the <code>Front Left Leg</code> and insert the v-slot extrusions into the two square holes designed to take this part. Ensure that the extrusion comes to the end of the holes in which they're inserted. If you have a hard time getting the extrusion into the slots, gently slide them into place using some taps from a mallet.    </p> </li> <li> <p>Take the <code>Back Left Leg</code>. Your progress should look like the image below.    </p> </li> <li> <p>On the top rail, drop in and position a slot nut underneath the hole in the top of each leg and screw a M5x10mm machine screw into the nut.    </p> </li> <li> <p>On the bottom rail, the outer side has three exposed holes for machine screws (one on the <code>Back Left Leg</code>). For each, drop in and position a slot nut under it and screw a M5x10mm machine screw into it.    </p> </li> <li> <p>On the bottom rail, the inner side has one exposed hole for a machine screw on the <code>Back Left Leg</code>. Drop in and position a slot nut under it and screw a M5x10mm machine screw into it.    </p> </li> <li> <p>Slide the GT2 Pulley onto the the motor shaft of a NEMA17 stepper motor with the set screw side facing the motor body. Align the pulley so that the end is roughly flush with the end of motor shaft, then tighten one of the set screws on the pulley into the flat side of the motor shaft. Tighten the second set screw as well.   </p> </li> <li> <p>Mount the NEMA17 stepper motor to the <code>Back Left Leg</code>. Attach it using four M3x8mm screws, ensuring that the connector is facing inwards towards the zip tie loops as dictated in the picture.    </p> </li> <li> <p>Mount one of the three limit switches to the <code>Front Left Leg</code> as shown in the image. Use two M3x8mm screws and tap them directly into the print.     </p> </li> <li> <p>Next, we'll mount the <code>Frame Umbilical Mount</code> as shown, threading directly into the part.   </p> </li> <li> <p>Lastly, we'll assemble the umbilical swivel. <code>Swivel Part 1 and Swivel Part 2</code> fit together as shown below, and are secured in place with a M5x40mm screw and an M5 nut. Tighten so there's no play in the fit, but the two parts can swivel easily. This part helps keep the X gantry umbilical suspended over the build area. Set it aside for now.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/3-left-side/#next-steps","title":"Next steps","text":"<p>Continue to assembling the right side.</p>"},{"location":"byop/mechanical-assembly/4-right-side/","title":"Right Side","text":"<p>Great! Now lets make the right side. Very similar to the left, just a couple small changes. Remember that we're referring to the right side of the machine as seen from the front:</p> <p></p>"},{"location":"byop/mechanical-assembly/4-right-side/#assembly","title":"Assembly","text":"Qty Part 1 FDM-0002 (Front Right Leg) 1 FDM-0004 (Back Right Leg) 2 Aluminum extrusion 6 M5 T-slot nut 6 M5x10 machine screw 1 NEMA17 stepper motor 1 GT2 Pulley (with grub screws) 4 M3x8 machine screw <ol> <li> <p>Take the <code>Front Right Leg</code> and insert the v-slot extrusions into the two square holes designed to take this part. Ensure that the extrusion comes to the end of the holes in which they're inserted. If you have a hard time getting the extrusion into the slots, gently slide them into place using some taps from a mallet.     </p> </li> <li> <p>Take the <code>Back Right Leg</code>. Your progress should look like the image below.    </p> </li> <li> <p>On the top rail, drop in and position a slot nut underneath the hole in the top of each leg and screw a M5x10mm machine screw into the nut.    </p> </li> <li> <p>On the bottom rail, the outer side has three exposed holes for machine screws (one on the <code>Back Right Leg</code>). For each, drop in and position a slot nut under it and screw a M5x10mm machine screw into it.    </p> </li> <li> <p>On the bottom rail, the inner side has one exposed hole for a machine screw on the <code>Back Right Leg</code>. Drop in and position a slot nut under it and screw a M5x10mm machine screw into it.    </p> </li> <li> <p>Slide the GT2 Pulley onto the the motor shaft of a NEMA17 stepper motor with the set screw side facing the motor body. Align the pulley so that the end is roughly flush with the end of motor shaft, then tighten one of the set screws on the pulley into the flat side of the motor shaft. Tighten the second set screw as well.   </p> </li> <li> <p>Mount the NEMA17 stepper motor to the <code>Back Right Leg</code> with four M3x8mm screws, ensuring that the connector is facing inwards towards the zip tie loops as dictated in the picture.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/4-right-side/#next-steps","title":"Next steps","text":"<p>Continue to connecting the two sides together.</p>"},{"location":"byop/mechanical-assembly/5-connecting-sides/","title":"Connecting the Sides","text":"<p>Now we're going to combine the left and right side together using two aluminum extrusions, and the staging plate.</p> Qty Part 2 Aluminum extrusion 16 M5 T-slot nut 4 M5x10 machine screw 12 M5x8 machine screw 6 2020 Corner Bracket 1 FDM-0022 (Umbilical Guide) <ol> <li> <p>Insert a new v-slot extrusion (in green below) into the <code>Front Left Leg</code> underneath the bottom rail.    </p> </li> <li> <p>Drop in and position a slot nut underneath the hole and use a M5x10mm machine screw to fasten the v-slot extrusion to the <code>Front Left Leg</code>.   </p> </li> <li> <p>Drop in and position a slot nut underneath the hole and use a M5x10mm machine screw to fasten the v-slot extrusion to the <code>Front Right Leg</code>.   </p> </li> <li> <p>Attach one of the included metal 2020 corner bracket to the 20x20 V-Slot on the left side using two slot nuts and two M5x8mm screws.   </p> </li> <li> <p>Attach a 2020 corner bracket to the 20x20 V-Slot on the right side using two slot nuts and two M5x8mm screws.   </p> </li> <li> <p>Fasten the <code>Umbilical Guide</code> on the bottom side of the bottom rail of the left side in place using two M5x10mm screws and two slot nuts.   </p> </li> <li> <p>Affix a 2020 corner bracket to the end of another V-slot using the a slot nut and an M5x8mm screw. Make sure the side of the bracket is perfectly flush with the end of the extrusion. It helps to tighten it in place against a flat surface.   </p> </li> <li> <p>Repeat the previous step three times to install three more braces in the orientation shown below. This is the back rail.   </p> </li> <li> <p>Flip the machine upside down. Using four M5x8mm screws and four slot nuts, fasten the back rail to the left and right sides of the machine as shown below. Make sure that the ends of the back rail are perfectly flush with the sides of the extrusion on the left and right sides. This will help keep the machine square. The brackets do not need to be touching the printed feet.    </p> </li> </ol>"},{"location":"byop/mechanical-assembly/5-connecting-sides/#next-steps","title":"Next steps","text":"<p>Continue to assembling the Y Gantry.</p>"},{"location":"byop/mechanical-assembly/6-y-gantry-assembly/","title":"Y Gantry Assembly","text":"<p>It's time to get going on the Y gantry. This is what moves the toolhead forward and back, and also carries the X gantry as well. We've got a few sub-assemblies in this one, so let's dive in!</p>"},{"location":"byop/mechanical-assembly/6-y-gantry-assembly/#x-motor-mount-sub-assembly","title":"X Motor Mount Sub-Assembly","text":"Qty Part 1 NEMA17 stepper motor 1 GT2 Pulley (with grub screws) 1 FDM-0006 (X Motor Mount) 4 M3x8 machine screw <ol> <li> <p>Slide the GT2 Pulley onto the the motor shaft of a NEMA17 stepper motor with the set screw side facing the motor body. Align the pulley so that the end is roughly flush with the end of motor shaft, then tighten one of the set screws on the pulley into the flat side of the motor shaft. Tighten the second set screw as well.   </p> </li> <li> <p>Place the motor onto the <code>X Motor Mount</code> with the wires exiting the motor on the left side of the mount.   </p> </li> <li> <p>Mount the NEMA17 stepper motor to the <code>X Motor Mount</code> with four M3x8mm screws. Again, check that the connector is facing towards the left side of the mount.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/6-y-gantry-assembly/#y-gantry-sub-assemblies","title":"Y Gantry Sub-Assemblies","text":"<p>Note: You will need to build two identical Y Gantry Sub-Assemblies. You can build them one at a time, or in parallel, step by step.</p> Qty Parts 1 FDM-0005 (Y Gantry) 1 FDM-0008 (Y Gantry Support) 10 M5 Hex Nut 2 M3 Hex Nut 2 M3x16 machine screw 2 M5x40 machine screw 2 V-Slot roller wheel <ol> <li> <p>Insert eight M5 hex nuts into the slots indicated below on one of the <code>Y Gantries</code>.   </p> </li> <li> <p>Ensure each hex nut is fully seated into their slot. It may be helpful to pull the hex nuts fully into location by screwing a M5x10mm machine screw into them from the opposite side of the <code>Y Gantry</code>. Afterwards, remove the screw.</p> </li> <li> <p>Insert a M3 Hex Nut vertically into the slot at the bottom of the <code>Y Gantry</code>.   </p> </li> <li> <p>Loosely thread an M3x16mm machine screw into the nut installed in the previous step until you can see the tip of the screw poking through the nut.   </p> </li> <li> <p>Insert an M3 nut vertically into the slot indicated below on a <code>Y Gantry Support</code>.   </p> </li> <li> <p>Loosely thread an M3x16mm machine screw into the nut installed in the previous step until you can see the tip of the screw poking through the nut.   </p> </li> <li> <p>Insert two M5x40mm machine screws, one into each of the top roller positions in the <code>Y Gantry</code>.   </p> </li> <li> <p>Slide a V-Slot roller one onto each of the two M5x40mm machine screws. Note: you may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push the washers back into place with a screwdriver tip.   </p> </li> <li> <p>Insert two M5 nuts into the back side of <code>Y Gantry Support</code> and then place the assembly onto the two M5x40mm machine screws from the last step. Loosely screw them in so they're attached; we'll tighten them in a later step.    </p> </li> <li> <p>Repeat steps 12-20 for the second <code>Y Gantry</code>.</p> </li> </ol>"},{"location":"byop/mechanical-assembly/6-y-gantry-assembly/#final-assembly","title":"Final Assembly","text":"Qty Part 1 Aluminum extrusion 2 M5 T-slot nut 2 M5x10 machine screw 8 M5x25 machine screw 1 FDM-0010 (Y Gantry Umbilical Mount) 1 Limit switch PCB 2 M3x8 machine screw 1 FDM-0013 (X Idler Mount) with belt tensioner <ol> <li> <p>Place a Y gantry assembly on each end of a v-slot extrusion. Don't worry about pushing it all the way into the print; we'll be adjusting it in a later step.    </p> </li> <li> <p>Drop in and position a T slot nut under the machine screw hole on the top of each gantry side and loosely thread a M5x10mm machine screw into each of the nuts. Again, we'll adjust this later.   </p> </li> <li> <p>Using four M5x25mm machine screws, attach the X idler assembly to the right side gantry body. Note that orientation does matter here: the head of the machine screw that holds the idler should be visible when looking down at the top of the machine, and the chamfers on the <code>X Idler Mount</code>.    </p> </li> <li> <p>Using four M5x25mm machine screws, attach the <code>X Motor Mount</code> should be at the back, on the same side as the motor's cable connector.    </p> </li> <li> <p>Finally, mount the X axis limit switch to the <code>Y Gantry</code>. Secure it in place using two M3x8mm screws as shown in the image below. These screws tap directly into the print.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/6-y-gantry-assembly/#next-steps","title":"Next steps","text":"<p>Continue to assembling the X Gantry.</p>"},{"location":"byop/mechanical-assembly/7-x-gantry-assembly/","title":"X Gantry Assembly","text":"<p>Alright, the last major bit of assembly! Once this is done, the majority of the machine's structure is built.</p>"},{"location":"byop/mechanical-assembly/7-x-gantry-assembly/#x-gantry-preparation","title":"X Gantry Preparation","text":"Qty Part 1 FDM-0011 (X Gantry Front) 1 FDM-0012 (X Gantry Back) 4 M5 Hex Nut 12 M3 Hex Nut 1 M5 Nylock Hex Nut <ol> <li> <p>Insert four M5 Hex Nuts into the slots on the <code>X Gantry Back</code> as shown below.   </p> </li> <li> <p>Ensure each hex nut is fully seated into their slot. It may be helpful to pull the hex nuts fully into location by screwing a M5x10mm machine screw into them from the opposite side of the <code>X Gantry Back</code>. Afterwards, remove the screw.</p> </li> <li> <p>Insert four M3 Hex Nuts, two vertically and two horizontally into the slots on <code>X Gantry Back</code> as indicated below.   </p> </li> <li> <p>Insert six M3 Hex Nuts into the slots on the <code>X Gantry Front</code> as shown below.   </p> </li> <li> <p>Insert two more M3 nuts into the vertical slots on the other side of the <code>X Gantry Front</code>.   </p> </li> <li> <p>Pull the hex nuts fully into location by screwing a M3x10mm machine screw into them from the opposite side of the <code>X Gantry Front</code>. Then unscrew the M3x10mm machine screw.</p> </li> <li> <p>Insert a M5 Nylock Hex Nut into the slot at the bottom of the <code>X Gantry Front</code>.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/7-x-gantry-assembly/#attaching-x-gantry-front-and-back","title":"Attaching X Gantry Front and Back","text":"Qty Part 2 M5x40 machine screw 2 FDM-0009 (Roller spacer) 2 V-slot roller wheel 2 M5 Hex Nut <ol> <li> <p>Insert two M5x40mm machine screws, one into each of the top two holes on the <code>X Gantry Front</code>.   </p> </li> <li> <p>Slide a <code>Roller Spacer</code> onto each of the two machine screws.   </p> </li> <li> <p>Slide a V-slot roller onto each of the two machine screws. Note: you may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push  the washers back into place with a screwdriver tip.    </p> </li> <li> <p>Place the <code>X Gantry Back</code> onto the two machine screws.   </p> </li> <li> <p>Install two M5 Hex Nuts, one into each of the slots on the <code>X Gantry Back</code>. Tighten the nuts on the machine screws so that the two sides are snug against the V-slot rollers.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/7-x-gantry-assembly/#preparing-for-the-z-gantry","title":"Preparing for the Z Gantry","text":"Qty Part 2 100mm Linear Rail 6 M3x14 machine screw 1 NEMA17 stepper motor 6 M3x8 machine screw 1 Limit switch PCB 1 GT2 Pulley Idler 1 M5x25 machine screw <ol> <li> <p>Carefully and safely remove the stoppers holding the gantry onto the linear rail. Depending on your kit, these could be metal clips or rubber stoppers inserted through the rail. Take care not to accidentally slide the bearings off of the linear rails after removing the stoppers. The bearings will be properly blocked from being removed after the linear rails are attached to the <code>X Gantry Front</code> and the Z-axis limit switch is installed.</p> </li> <li> <p>Place the two linear rails onto the front of the <code>X Gantry Front</code> and line up each one with the arrays of three holes on the left and right side. Place three M3x14mm machine screws into each of the rails (the holes on the ends first, then hole one in the middle) and tighten down.   </p> </li> <li> <p>Place the NEMA 17 motor so the shaft runs through the <code>X Gantry Front</code>.    </p> </li> <li> <p>Attach the limit switch PCB with two M3x8mm screws at the top right of the <code>X Gantry Front</code>.   </p> </li> <li> <p>Slide a GT2 idler onto a M5x25mm machine screw. Thread that assembly through <code>X Gantry Front</code> and tighten on the Nyloc Hex Nut on the back side. Ensure that the fit is tight and there's no wiggle in the idler, but also make sure that it can spin freely and isn't seizing from over-tightening.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/7-x-gantry-assembly/#z-gantry-assembly","title":"Z Gantry Assembly","text":"Qty Part 1 FDM-0040 (Left Z Gantry Backplate) 1 FDM-0041 (Right Z Gantry Backplate) 1 FDM-0017 (Left Z Gantry) 1 FDM-0039 (Right Z Gantry) 1 GT2 Timing Belt 8 M3x8 machine screw 1 GT2 Pulley (with grub screws) <p>Now it's time to mount the Z gantries. Each gantry comes in two parts. The first is a back plate that sits against the linear rail carriage, and connects to the timing belt, called <code>Left Z Gantry Backplate</code>. These will always be on your machine. Even when you swap toolheads, these will stay attached to the linear rail.</p> <ol> <li> <p>First, we need to get the GT2 timing belt inserted into the back plates at the right spacing. Insert the end of your GT2 belt halfway along the slot in the <code>Right Z Gantry Backplate</code> with 108mm of belt between them (when measuring from the edges of the prints). Your setup should look like the image below:   </p> </li> <li> <p>Now, cut the loose end of the belt such that there is 114mm remaining when measured from the edge of the print. Insert this loose end into the other backplate so that there are no empty teeth.</p> </li> </ol> <p></p> <ol> <li>Slide the GT2 Pulley onto the Z axis motor's shaft, with the set screws closer to the motor body. Don't tighten the set screws yet. Place backplate and belt assembly on linear rails, threading the belt through the pulley on the stepper motor. Ensure that the back plates are oriented as shown in the image below.</li> </ol> <p></p> <ol> <li>Insert M5x40mm bolt with GT2 idler into bottom of plate, and thread the belt around it. Secure backplates temporarily with two M3x8mm bolts as shown below.</li> </ol> <p></p> <ol> <li> <p>Slide the Z motor up in its hardware slots and check for belt tension. If you're able to get the belt completely taut, great! If not, remove a loose end of the belt, snip off a belt rib from one side, reinsert, and try again. As long as you are able to get the belt taught from the movement of the stepper motor, you're good to move on.</p> </li> <li> <p>While pulling upward on the Z stepper motor so that the belt is tesioned, tighten the four M3 bolts holding it to the X gantry.</p> </li> </ol> <p></p> <ol> <li>Finally, attach the left and right Z gantries to the back plates using M3x8mm bolts as shown below.</li> </ol> <p></p> <p></p>"},{"location":"byop/mechanical-assembly/7-x-gantry-assembly/#mounting-the-z-axis-tools","title":"Mounting the Z-axis tools","text":"Qty Part 1 NEMA11 hollow shaft stepper motor 4 M2.5x8 machine screw 1 CP40 nozzle holder 1 Pneumatic Couple 4 M5x10 machine screw 2 FDM-0027 (Belt Clamp) <ol> <li> <p>Now that our Z gantries are all tightened and moving freely, we can mount our final axis: rotation! Take your NEMA11 hollow shaft stepper motor and place it in the left Z gantry. Secure it in place with four M2.5x8mm screws. Make sure the wire port is facing outwards as shown below.   </p> </li> <li> <p>Now we'll mount a few bits of hardware to the hollow shaft motor. Screw the CP40 nozzle holder into the bottom side of the motor, and screw the press-fit pneumatic coupler into the top side.   </p> </li> <li> <p>Use four M5x10mm screws to loosely attach two of your <code>Belt Clamps</code>.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/7-x-gantry-assembly/#next-steps","title":"Next steps","text":"<p>Continue to mounting the X Gantry to the Y Gantry.</p>"},{"location":"byop/mechanical-assembly/8-mount-x-to-y/","title":"Mounting the X Gantry to the Y Gantry","text":"<p>Now that we have both gantries assembled, it's time to put them together.</p>"},{"location":"byop/mechanical-assembly/8-mount-x-to-y/#x-gantry-tensioner-bars","title":"X Gantry Tensioner Bars","text":"Qty Part 2 V-slot roller wheel 2 FDM-0043 (X Gantry Tension Bar) 2 M5x40 machine screw 2 M5 Hex Nut 4 M3x30 machine screw <ol> <li> <p>Fit the X gantry on top of the Y gantry rail. Make sure the X motor is on the left side with the front of the X gantry facing you.</p> <p>Note</p> <p>You'll find that it's hard to fit the X gantry onto the rail. This is because of a few protrusions on the back plate that hold the belt at the right distance. Loosening the M5x40mm bolts holding the two halves of the X gantry together will help it slot onto the rail.</p> <p></p> </li> <li> <p>Prepare two V-slot rollers. You may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push the washers back into place with a screwdriver tip.</p> </li> <li> <p>With the top roller bolts still loose, slide the two <code>X Gantry Tension Bars</code>.    </p> </li> <li> <p>Now we can secure the stack in place using two M5x40mm bolts. Pass them through the holes, and loosely tighten them into two M5 nuts in the slots on the <code>X Gantry Back</code>. Don't tighten all the way yet; we still have some adjustment to do first.    </p> </li> <li> <p>Tighten the top roller bolts now that everything is in its place.   </p> </li> <li> <p>Now we add tension screws. These are what hold the <code>X Gantry Tension Bars</code>, as shown below. Make sure each screw is tightened the same amount, and that the X gantry can still move freely, but doesn't have any wiggle on the rail.    </p> </li> <li> <p>Tighten the M5x40mm bolts that run through the bottom set of rollers (installed in the previously) so that their position is locked.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/8-mount-x-to-y/#camera-and-ring-light","title":"Camera and Ring Light","text":"Qty Part 1 USB Camera (Top) 1 FDM-0015 (Top Light Mount) 1 FDM-0014 (Top Camera Mount) 1 Top Ring Light PCB 4 M2.5x20 machine screw 2 M3x14 machine screw 1 Super Lube <p>Note</p> <p>There's a piece of black electrical tape on the back of the camera PCB. Don't remove it; it is there to help isolate the camera sensor from light shining through vias in the PCB.</p> <ol> <li> <p>Before mounting the camera, you'll need to make sure you can rotate the lens and adjust the camera's focus. First carefully remove the set screw on the side of the lens assembly that is holding the lens in place. Next, unscrew the lens from the camera. You might need a light grip with pliers (preferably with soft grips) to get it to turn. With the lens removed, use a cotton swab to apply a very small amount of Super Lube to the lens threads. Be careful not to get any of the lubricant inside or on the lens. Wipe off any excess with a cotton swab or microfiber cloth. If necessary, you can clean the lens itself using a microfiber cloth. Screw the lens back into the camera and work the lubricant into the threads. Save the lubricant as you'll use it again later. Finally, add the set screw back to the side of the lens assembly. Tighten the set screw just enough to keep the lens in place but not so much that it prevents you from adjusting the lens with a little force, as you'll need to adjust the lens after the camera is mounted.</p> </li> <li> <p>Place the ring light facing downwards into the <code>Top Light Mount</code>. The LEDs will shine down, and the white plastic wire connector will face upwards.    </p> </li> <li> <p>Place the <code>Top Camera Mount</code>. These two prints will pinch the top ring light in place.   </p> </li> <li> <p>Install the Top Camera into the <code>Top Camera Mount</code>.    </p> </li> <li> <p>Secure the whole stack in place with four M2.5x20mm screws in the outer four holes (not the ones with a metal circle around them). Tighten them down so that all parts are tightly held together, but don't over-torque; these screws are threading into the plastic of the <code>Top Light Mount</code>.   </p> </li> <li> <p>Use two M3x14mm screws to mount the Top Camera and Light subassembly onto the back of the <code>X Gantry Back</code>.   </p> </li> </ol>"},{"location":"byop/mechanical-assembly/8-mount-x-to-y/#next-steps","title":"Next steps","text":"<p>Continue to mounting the Y Gantry to the Frame.</p>"},{"location":"byop/mechanical-assembly/9-mount-y-to-frame/","title":"Mounting the Y Gantry to the Frame","text":"<p>Now the whole XY gantry assembly gets dropped onto the frame!</p> Qty Part 2 M5x40 machine screw 4 FDM-0009 (Roller spacer) 2 V-slot roller wheel 2 M5 Hex Nut 4 M5 T-slot nuts 1 Staging Plate <ol> <li> <p>Loosen the four M5x40mm screws holding the two halves of the <code>Y Gantries</code> together.     </p> </li> <li> <p>Loosen the two M5x10mm screws that hold the <code>Y Gantries</code> to the X extrusion. Double-check that none of the captive nuts in either of the <code>Y Gantries</code> have fallen out, since they'll be difficult to reinsert after the next step.   </p> </li> <li> <p>Slot the entire XY gantry assembly onto the top extrusions of the frame. Make sure the X motor is on the left of the machine.    </p> </li> <li> <p>Re-tighten the four M5x40mm screws holding the two halves of the <code>Y Gantries</code> together.   </p> </li> <li> <p>We'll add an additional roller to each <code>Y Gantry assembly</code> below the extrusions of the frame. Push a M5x40mm machine screw through the <code>Y Gantry</code>, then add on a <code>Roller Spacer</code>, a V-Slot roller, and then another <code>Roller Spacer</code>. Secure the assembly in place with an M5 nut slotting into the <code>Y Gantry Support</code> and threading into the screw. Note: you may need to align one or both of the interior washers inside the rollers, as they can shift in shipping and block the hole for the screw. Simply push the washers back into place with a screwdriver tip.   </p> </li> <li> <p>Now roll the entire Gantry Assembly to the very front of the machine. Adjust the fit of the X axis extrusion inside the <code>Y Gantries</code> so that the top rollers fit perfectly into the v-slot. After you adjust them, tighten both M5x10mm screws that hold the Y Gantries to the X axis extrusion.    </p> </li> <li> <p>Now we need to make sure this spacing doesn't just work for the front of the machine, but for the entire length of it as well. Loosen the machine screws connecting the back rail to the left and right side. While applying light pressure down on the Y gantry, roll it to the back of the machine. You might find that you need to expand or contract the back legs to have the rollers ride perfectly in the v-slot. Once you have the correct spacing, tighten the bolts mounting the back rail. This locks in the Y gantry extrusion spacing for the back of the machine as well. We also recommend measuring the spacing between the rails in the front and back of the machine, and adjusting until they're the same.    </p> </li> <li> <p>Use four Slot Nuts and four M5x8mm screws to loosely secure the Staging Plate to the frame. If you have the fiberglass PCB staging plate, the coordinate A1 is in the front left of the machine.   </p> </li> <li> <p>If you purchased additional staging plates, loosely secure them next to your first staging plate with four Slot Nuts and four M5x8mm screws.   </p> </li> <li> <p>Adjust the Staging Plate so that it is exactly 95mm away from the <code>Front Left Leg</code> and <code>Front Right Leg</code>, then tighten it into place. This will be important for using the OpenPnP configuration provided for the machine. See below for how to measure the distance properly.   </p> </li> <li> <p>Tighten the four M3x16mm screws, two on either <code>Y Gantry assembly</code>, so that the lower rollers are snug against the extrusion and ensure that the top rollers run well in their slots, too. Make sure that there's no play or wiggle in the fit, but don't over-tighten to the point of increasing resistance to rolling. The gantry should move easily, but not loosely.   </p> </li> <li> <p>Lastly, tighten the bolts that run through the bottom rollers to lock in the tension setting.</p> </li> </ol>"},{"location":"byop/mechanical-assembly/9-mount-y-to-frame/#next-steps","title":"Next steps","text":"<p>Continue to attaching the belts.</p>"},{"location":"byop/motherboard/installing-tht/","title":"Install THT Components","text":"<p>There are five types of connectors that need to be soldered into your motherboard. We'll go over each one, and how to solder them in place.</p> <p> </p>"},{"location":"byop/motherboard/installing-tht/#screw-terminal","title":"Screw Terminal","text":"<p>In your connector bag you'll find a screw terminal connector. This provides power to the machine, and goes into the <code>J12</code> footprint on the upper-right corner of the board. Ensure that the openings that accept the power cables are facing outwards.</p> <p></p>"},{"location":"byop/motherboard/installing-tht/#idc-connectors","title":"IDC Connectors","text":"<p>The IDC connectors are the larger, black connectors in your connector bag. There are only two sizes, a 2x3 for feeder communication, and three 2x6 for the auxillary ports. Be sure to solder them the correct orientation. The slot on the connector should match up with the silkscreen.</p> <p> </p>"},{"location":"byop/motherboard/installing-tht/#jst-xh-connectors","title":"JST XH Connectors","text":"<p>The bulk of the connectors on the board are JST XH connectors. These come in two, three, and four pin variations. The two pin connectors are for the mosfets, the three pin connectors are for the servos, limit switches, and ring lights, and the four pin connectors are for the stepper motors.</p> <p>WARNING</p> <pre><code>  The 4-pin JST XH connector for the Y2 motor (the one right next to the Y silkscreen indicator) **needs to be rotated 180 degrees from what the silkscreen dictates**. This one should be soldered in reverse, opposite of the silkscreen indication. Refer to the image below for reference.\n</code></pre> <p> </p> <p></p>"},{"location":"byop/motherboard/installing-tht/#usb-a-connectors","title":"USB A Connectors","text":"<p>There are three USB A connectors that need to be soldered into the board as well. Two of these are for the webcams, and the third is for future functionality. We recommend soldering the large structural tabs in place first, then soldering the four data pins afterward.</p> <p></p>"},{"location":"byop/motherboard/installing-tht/#stepper-motor-driver-headers","title":"Stepper Motor Driver Headers","text":"<p>The last connectors that need to be soldered into the board are the 1x8 Dupont 0.1\" headers for the stepper motor drivers. Two connectors need to be soldered for each driver. We recommend soldering a single pin in place first while getting the connector to stay flat, then do the rest of the pins after the orientation is solidified. Orientation does not matter for these connectors.</p> <p></p>"},{"location":"byop/motherboard/installing-tht/#double-check-usb-c-feet","title":"Double-check USB-C Feet","text":"<p>The LumenPnP motherboard will have the USB-C connector already soldered when you receive it. Double-check the soldering of the feet, as there was an early batch of motherboards that had issues with an in-house assembly error here. If you see an issue, take photos of it before attempting to repair the problem. That way, if you're unable to fix the issue, Opulo can still replace your motherboard for you. If you don't feel confident fixing an issue yourself or if you aren't sure if there's a problem with your motherboard, get in touch with us at support.opulo.io so that we can send you a replacement motherboard if necessary.</p> <p></p>"},{"location":"byop/motherboard/installing-tht/#next-steps","title":"Next steps","text":"<p>Continue to mounting the motherboard.</p>"},{"location":"byop/motherboard/mounting/","title":"Mounting the Motherboard","text":""},{"location":"byop/motherboard/mounting/#mounting","title":"Mounting","text":"Qty Part 4 M3 25mm Standoff 8 M3x8 machine screw <p>Now that we've got all the THT components soldered in, it's time to mount the motherboard to the staging plate. It's important to make sure we're mounting the motherboard in the correct place on the staging plate so that all the cables fit and reach their respective ports correctly.</p> <ol> <li> <p>Put your Lumen up on its haunches and take a look at the left side of the staging plate. We will be working with the following holes on the staging plate: A3, G3, A9, G9.   </p> </li> <li> <p>Pass four M3x10mm screws through the top side of the staging plate, and tighten them into the standoffs.   !Standoffs Installed](images/IMG_0716.webp)</p> </li> <li> <p>Now we can mount the motherboard itself. Confirm the orientation of your motherboard so that the USB ports are facing to the left and the vacuum sensors on the bottom. Then use four M3x10mm screws to secure the motherboard to the standoffs.   </p> </li> </ol>"},{"location":"byop/motherboard/mounting/#drivers","title":"Drivers","text":"Qty Part 4 Stepper motor driver PCB 4 PCB Heatsink <ol> <li> <p>Install the four stepper motor drivers into the X, Y, Z, Left Head, and Right Head slots. Note that the whale icon on the motor drivers will be right-side up and the two upward-facing pins will be facing to the left.   </p> </li> <li> <p>Install the four heatsinks on the center of the motor drivers.   </p> <p>Note</p> <p>It is very important to not plug in or unplug stepper motor drivers or motors while the board is powered on. Make sure to unplug the power supply before inserting or removing drivers or motors.</p> </li> </ol>"},{"location":"byop/motherboard/mounting/#power","title":"Power","text":"Qty Part 1 Power Supply <ol> <li> <p>Cut the barrel connector off the end of the power supply cable.   </p> </li> <li> <p>Separate the two wires and strip off the insulation of each.   </p> </li> <li> <p>Twist the stranded copper and insert the wire with the white text into the positive side of the power screw terminal on the motherboard. Insert the black wire into the other terminal, and screw both down tightly.</p> <p>Note</p> <p>Do NOT apply solder to the twisted copper wires. This can prevent the wires from being compressed in the screw terminals, meaning uneven electricity and heat distribution and risk damaging your machine. You may use wire crimps if you prefer and have them on hand.</p> <p></p> </li> <li> <p>Next, plug in your power brick. Watch for a light by the screw terminal. If you do not see a light, check to make sure you inserted the wires into the correct terminals. Also check to see if the light on the power brick is illuminated. (The color of the light may differ based on which kit you received.)    </p> </li> </ol>"},{"location":"byop/motherboard/mounting/#next-steps","title":"Next steps","text":"<p>Continue to wiring and pneumatics.</p>"},{"location":"byop/testing/actuator-check/","title":"Actuator Check","text":""},{"location":"byop/testing/actuator-check/#pumps","title":"Pumps","text":"<p>The first and most important actuator on your LumenPnP is the vacuum pump. We can check this by sending more Gcode to the machine. Send the first line to turn on the pump, and the second one to turn it back off.</p> <pre><code>M106 ;turn MOS1 on\nM107 ;turn MOS1 off\n</code></pre>"},{"location":"byop/testing/actuator-check/#valves","title":"Valves","text":"<p>We can also check the blowoff valve. This can be tested using the Gcode below. Listen for a slight click when each of the commands are run; this is the sound of the valve actuating!</p> <pre><code>M106 P1 S255   ;turn MOS2 on\nM107 P1        ;turn MOS2 off\n</code></pre> <p>It's worth noting that MOS3 and MOS4 can be actuated using the following commands (when something is plugged into those ports):</p> <pre><code>M106 P2 S255   ;turn MOS3 on\nM107 P2        ;turn MOS3 off\nM106 P3 S255   ;turn MOS4 on\nM107 P3        ;turn MOS4 off\n</code></pre>"},{"location":"byop/testing/actuator-check/#ring-lights","title":"Ring Lights","text":"<p>Check the ring lights using the Gcode below. Note that both lights are controlled together, with the same command. You can edit the color of the lights by adjusting the R, U, and B terms in the command, and you can edit the brightness by editing the P term. For more information, check the Marlin Docs page on M150.</p> <pre><code>M150 P255 R255 U255 B255   ;turn on ring lights\nM150 P0                    ;turn off ring lights\n</code></pre> <p>If you'd like to change the brightness that your ring lights actuate to during a job, you can edit the P value in this section of the \"Machine Setup\" tab in OpenPnP:</p> <p></p>"},{"location":"byop/testing/actuator-check/#vacuum-sensors","title":"Vacuum Sensors","text":"<p>Now we can check the vacuum sensors.  First, check the value from the first vacuum sensor before and after a vacuum is pulled to check that it's working correctly. You should see that the values are different by about <code>200</code>.</p> <pre><code>M3426 G4 C1 I1 A110   ;read vac 1 value\nM106                  ;turn on the pump\nM106 P1 S255          ;turn on the valve\n;cover the nozzle with your finger and wait two seconds\nM3426 G4 C1 I1 A110   ;read vac 1 value again\nM107                  ;turn off the pump\nM107 P1               ;turn off the valve\n</code></pre> <p>Sensor Address</p> <p>Note that in the above code snippet, the line <code>M3426 G4 C1 I1 A110</code> uses <code>A110</code> to specify which sensor to read from. Due to the way the sensors are programmed by their manufacturer, the address of the sensor can vary. If <code>A110</code> doesn't work for you, try testing each value from <code>0</code> to <code>7</code> to see which address is correct for your sensors.<sup>1</sup></p> <p>Interposer Board</p> <p>Some LumenPnP kits shipped with a less than optimal vacuum sensor wiring. Some people's sensors can detect a swing of about 200, but in some cases there isn't enough of a difference for a useful signal because of some part tolerances. We're sorry about this! When the community discovered this issue, we stopped shipping immediately and designed a board that sits in between the vacuum sensor and the motherboard that makes the signal much stronger. Once we confirmed this board fixes the issue, we installed them on all machines we shipped moving forward.</p> <p>No Interposers Installed </p> <p>Interposer Boards Installed </p> <p>If you bought a LumenPnP kit that did not come with interposer boards installed and would like to upgrade them, please reach out to our support team and we'll get some sent out to you as soon as possible at only the cost of shipping (even if you're out of warranty). We have an installation guide to guide you through the process.</p> <p>If you have the interposer boards installed for your vacuum sensors, change the <code>G4</code> to a <code>G2</code> in your \"sensor read\" GCode command. This changes the gain of the sensor to a more usable value. The difference in value should now be about 2000.</p> <p>It's also worth noting the command for reading the second vacuum sensor. Until pneumatics for a second nozzle are plumbed in, the second one will only ever read ambient pressure.</p> <pre><code>M3426 G4 C2 I1 A110  ;read vac 2 value\n</code></pre> <p>In Case Of Error</p> <p>These commands are meant for a newer version of Marlin that adds support for multiple ADCs. If you're getting an error in response from Marlin, update the firmware to the latest version.</p>"},{"location":"byop/testing/actuator-check/#next-steps","title":"Next steps","text":"<p>Continue to feedback.</p> <ol> <li> <p>See this change to Marlin and the manufacturer's data sheet for more details.\u00a0\u21a9</p> </li> </ol>"},{"location":"byop/testing/connect-computer/","title":"Connect to the Computer","text":""},{"location":"byop/testing/connect-computer/#motherboard","title":"Motherboard","text":"<ol> <li> <p>Connect your LumenPnP to your computer using the motherboard's USB-C port.</p> </li> <li> <p>Manually move the Y gantry all the way to the front of the machine, and the X gantry all the way to the left.</p> </li> <li> <p>Plug in the power supply to power up the machine</p> <p>Heads Up</p> <p>The motherboard will not show up on your computer if not powered up through the screw terminal port. USB power is not used to prevent overdrawing current from your computer's USB port.</p> </li> <li> <p>Now, it's time to check and see if your computer recognizes the motherboard. We're going to use CNCjs to check this, but feel free to use any other tool you'd like. Download CNCjs, install it, and open it.</p> </li> <li> <p>In the <code>Connection</code> widget, select the <code>Marlin</code> tab.</p> </li> <li> <p>Click the refresh button next to the <code>Port</code> dropdown, and click the dropdown to see if your computer found the board.</p> <ul> <li>If you're on Windows, the port should look like <code>COM1</code> or something similar</li> <li>Mac should look like <code>/dev/tty.usbserial00000</code></li> <li>Linux should look like <code>/dev/tty.ACM0</code></li> </ul> </li> <li> <p>Keep the Baud Rate at <code>115200</code>, and click the Open button. If you see boot text enter the <code>Console</code> widget, you've successfully connected to your LumenPnP!</p> <p>Troubleshooting</p> <p>If your LumenPnP doesn't show up on the list, try some of the following steps:</p> <ol> <li>Restart your computer</li> <li>Check if the LumenPnP shows up in Device Manager (Windows).</li> <li>Try another USB Port</li> <li>Try re-flashing firmware</li> </ol> </li> </ol>"},{"location":"byop/testing/connect-computer/#cameras","title":"Cameras","text":"<p>We also need to check connecting to the cameras. CNCjs has a webcam feature, so we'll use it for this test too.</p> <ol> <li> <p>Find the <code>Webcam</code> tab in the bottom left of the window</p> </li> <li> <p>Click on the module using the little slider icon</p> </li> <li> <p>Open the widget using the carrot icon</p> </li> <li> <p>Finally, click the gear and look for detected webcams in the dropdown under \"Use a built-in camera or a connected webcam\". You should find \"PnP Top Camera\" and \"PnP Bottom Camera\" in the dropdown. Select each one and test out the camera feed.</p> </li> </ol> <p></p> <p>Troubleshooting</p> <pre><code>  If the cameras don't seem to be working, try zooming the image and toggling it on and off again. Additionally, some combinations of the USB hub chip we use in the motherboard and USB hub chips used in computers don't allow for video streaming to work for one or both cameras. If you don't see either or both cameras appear, don't worry! You can always unplug them from the motherboard and plug them directly into your computer.\n</code></pre>"},{"location":"byop/testing/connect-computer/#next-steps","title":"Next steps","text":"<p>Continue to testing the motors.</p>"},{"location":"byop/testing/feedback/","title":"Feedback","text":"<p>You're done with the build! We'd love if you let us know how it went (the form takes less than a minute). We want to make it as easy as possible to build a LumenPnP, and your feedback helps us do that.</p>"},{"location":"byop/testing/feedback/#lumenpnp-build-survey-here","title":"LumenPnP Build Survey Here","text":""},{"location":"byop/testing/motor-check/","title":"Motor Check","text":"<p>Now that you're connected to your LumenPnP, we'll walk you through testing the motors and automatic homing.</p>"},{"location":"byop/testing/motor-check/#test-the-limit-switches","title":"Test the limit switches","text":"<p>Before telling the machine to move, it's important to make sure that your limit switches are connected properly. This will make sure the machine can correctly home and prevent damage. For each of the three limit switches on the machine, tap the switch closed and watch for a red LED to light up on the limit switch PCB. If all three do, proceed with motor movement testing. If not, double check your limit switch connections.</p>"},{"location":"byop/testing/motor-check/#manually-home-the-machine","title":"Manually home the machine","text":"<p>One more step before having the machine move: manually move the the machine's head to the lower left corner of the machine. Don't move it completely into the limit switches, leave a few centimeters of space.</p> <p></p> <p>Doing this makes sure that the machine head does not crash into the build plate during the homing and motor tests.</p>"},{"location":"byop/testing/motor-check/#home-each-axis-individually","title":"Home each axis individually","text":"<p>Now you're ready to test the machine's motion. You'll do this one axis at a time to limit any possible damage due to motion issues.</p> <p>You'll start with the Z axis (the nozzle head). Send the following lines of Gcode one-by-one:</p> <pre><code>G91   ; absolute positioning\nG28 Z ; home the Z axis\n</code></pre> <p>The Z axis should move to the limit switch and then back off. If it doesn't, make sure you have the motor cable for the Z axis connected correctly at both the motherboard and the motor.</p> <p>Before continuing, move the Z axis to \"safe\" Z, which prevents it from colliding with the staging plate:</p> <pre><code>G0 Z 31; Move the Z axis to safe Z\n</code></pre> <p>Next, you'll home the X axis. Send the following Gcode:</p> <pre><code>G28 X;\n</code></pre> <p>The machine's head should move to the left, touch the limit switch, and back off. If it doesn't, double check the X axis motor's connection.</p> <p>If the X axis homes correctly, you're ready to home the Y axis:</p> <pre><code>G28 Y;\n</code></pre> <p>The machine's head should move to the front of the machine, touch the limit switch, and back off. If it doesn't move correctly, double check that you soldered the <code>Y2</code> connector opposite of the silkscreen as noted in the motherboard section.</p> <p>If the X, Y, and Z axis all moved and homed correctly, excellent! If not, reach out to us for assistance.</p>"},{"location":"byop/testing/motor-check/#nozzle-rotation","title":"Nozzle rotation","text":"<p>Next we'll check the left nozzle rotation stepper motor:</p> <pre><code>G0 A90\n</code></pre> <p>You should see your nozzle stepper rotate 90 degrees. If not, double check motor connections and make sure that the vacuum hose isn't obstructing movement.</p>"},{"location":"byop/testing/motor-check/#next-steps","title":"Next steps","text":"<p>Continue to testing the actuators.</p>"},{"location":"byop/wiring-and-pneumatics/connecting-pneumatics/","title":"Connecting the Pneumatics","text":"<p>Now that we've got everything wired up, it's time to get all the tubing plumbed.</p> Qty Part 65 mm 6mm Tubing (Clear) 230 mm 6mm Tubing (Clear) 235 mm 4mm Tubing (Black) Remaining 4mm Tubing (Black)"},{"location":"byop/wiring-and-pneumatics/connecting-pneumatics/#plumbing-the-staging-plate","title":"Plumbing the staging plate","text":"<ol> <li>The origin of vacuum in the machine is our vacuum pump. The off-center port is the one that provides vacuum. Start by cutting a 65mm section of the 6mm clear tubing and pushing it onto the off-center port on the vacuum pump. Push the other end onto the inline plastic port of the valve as shown below.</li> </ol> <ol> <li> <p>Cut a 230mm section of the 6mm clear tubing and push it onto the right-angle plastic port of the valve, and push the other side into the single, larger port of the Y splitter.    </p> </li> <li> <p>Switch to using the smaller, 4mm black tubing. Cut a 235mm length of 4mm OD tubing and push one side into a fork of the Y splitter, and route the other end underneath the motherboard and onto the <code>VAC1</code> sensor port.</p> <p>Keep In Mind</p> <p>This sensor is only attached to the motherboard with six solder joints. Be gentle when pushing the tubing onto it. Twisting the tubing back and forth as you push it down can help get it on without too much force.</p> <p> </p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/connecting-pneumatics/#plumbing-the-x-gantry","title":"Plumbing the X gantry","text":"<ol> <li> <p>Now take the remaining length of 4mm black tubing and push it into the other fork of the Y splitter. Take the loose end, and route it underneath the motherboard, then up through all the zip ties that are holding the X umbilical in place, including those along the swivel arm.   </p> </li> <li> <p>Now that the pneumatics are also routed, we can finally tighten the zip ties on the umbilical cable guide. While your machine is still back on its haunches, tighten the zip tie on the umbilical guide to secure the wires and tubing to the frame.</p> </li> <li> <p>Bring your LumenPnP down onto its four legs, and tighten the zip ties, ensuring to keep a bit of slack between sections. You can move up the umbilical swivel and tighten all the zip ties along the whole thing.</p> </li> <li> <p>With the pneumatic tubing dangling loose past the end of the swivel arm, cut any excess tubing (still allowing some slack for motor rotation) push the other end into the pneumatic coupling on the back side of the rotation stepper motor. Extra slack will allow the motor to rotate freely 180 degrees in each direction, so err on the side of leaving more than less. If the tubing falls away from the umbilical, use one or two small zip ties to secure them together.      The bottom of the staging plate should look like the image below:   </p> </li> </ol> <p>Congratulations, you're all wired and plumbed up! It's time to give it a test!</p>"},{"location":"byop/wiring-and-pneumatics/connecting-pneumatics/#next-steps","title":"Next steps","text":"<p>Continue to testing your machine.</p>"},{"location":"byop/wiring-and-pneumatics/connecting-to-mobo/","title":"Connecting to the Motherboard","text":"<p>Take your LumenPnP and flip it up onto its haunches. You should see lots of cables loosely attached to the <code>Frame Umbilical Mount</code>, all looking for a home. We're about to give them one!</p>"},{"location":"byop/wiring-and-pneumatics/connecting-to-mobo/#plugging-in","title":"Plugging in","text":"<ol> <li> <p>We'll first start by plugging in the Y motors you routed behind the motherboard in Wiring the Y Motors. Plug the cable labeled <code>Y1</code> into the left Y motor port on the motherboard, and plug the <code>Y2</code> cable into the right one.   </p> </li> <li> <p>Take the Bottom Camera USB cable and run it to the left across the staging plate, under the motherboard, and out the other side. Plug it into the USB port by the label <code>Btm Cam</code>. Store the excess cable underneath the motherboard.</p> </li> <li> <p>Now we'll do the same thing, but with the Top Camera cable. Guide it from the top left of the staging plate, underneath the motherboard from the top side, then out the side like the other USB cable. Plug it into the USB port by the label <code>Top Cam</code> and Store the excess cable underneath the motherboard.</p> </li> <li> <p>The rest of the cables can be routed without being tucked underneath the motherboard. Plug in the listed labeled cables into their respective ports, shown below:</p> </li> </ol> Cable Label Mobo Label <code>XM</code> <code>X</code> <code>Y1</code> <code>Y</code> (Left Port) <code>Y2</code> <code>Y</code> (Right Port) <code>ZM</code> <code>Z</code> <code>LM</code> <code>L</code> <code>XL</code> <code>X</code>  (Under <code>Limit Switches</code>) <code>ZL</code> <code>Z</code>  (Under <code>Limit Switches</code>) <code>YL</code> <code>Y</code>  (Under <code>Limit Switches</code>) <code>UL</code> <code>Btm Cam</code> <code>DL</code> <code>Top Cam</code> <code>P1</code> <code>MOS1</code> Valve 1 (No Label) <code>MOS2</code>"},{"location":"byop/wiring-and-pneumatics/connecting-to-mobo/#strain-relief","title":"Strain Relief","text":"<ol> <li> <p>Now that we have everything plugged in, it's time to attach all these loose cables to the frame. Use some <code>Cable Clamps</code> with some M3x14mm screws and M3 nuts to hold down the cables across the staging plate.   </p> </li> <li> <p>Take your umbilical cable bundles and loosely secure them in place on the <code>Umbilical Guide</code> using two big zip ties. Don't tighten all the way yet; we still need to route the pneumatics.   </p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/connecting-to-mobo/#next-steps","title":"Next steps","text":"<p>Continue to connecting the pneumatics.</p>"},{"location":"byop/wiring-and-pneumatics/routing-x-umbilical/","title":"Routing the X Gantry Umbilical","text":"<p>For this, all you'll need is your freshly made X gantry umbilical cable, and your bag of zip ties. Note that we'll be plugging in the unlabeled end of the cables, as the labels are meant to help identify wires on on the motherboard side.</p>"},{"location":"byop/wiring-and-pneumatics/routing-x-umbilical/#plugging-in-the-cables","title":"Plugging in the Cables","text":"<ol> <li> <p>First, plug in the four terminal connector with only three wires into the limit switch on the right side of the X gantry.   </p> </li> <li> <p>Plug in the small four terminal JST connector into the down camera.   </p> </li> <li> <p>Plug in the three terminal JST XH connector into the down ring light.   </p> </li> <li> <p>Plug in the six terminal JST XH connector with only four wires into the Z gantry stepper motor in the center of the X gantry.   </p> </li> <li> <p>Lastly, plug the last remaining cable (four terminal connector with four wires, not JST XH) into the left gantry rotation stepper motor.   </p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/routing-x-umbilical/#securing-the-cables","title":"Securing the Cables","text":"<ol> <li> <p>Align the cable bundle with the <code>X Gantry Back</code> as shown in the picture below, and secure it to the guide with two large zip ties.    </p> </li> <li> <p>Secure the left motor cable using a small zip tie and the slot in the <code>X Gantry Front</code> </p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/routing-x-umbilical/#securing-to-the-frame","title":"Securing to the Frame","text":"<ol> <li> <p>Move the Y gantry all the way to the back of the machine until you feel it hit the limit of travel, and do the same with the X gantry to the right of the machine. This will ensure that you don't fasten the cable too tightly such that it restricts the machine's motion.</p> </li> <li> <p>Then, take the cable bundle and guide it along the <code>Umbilical Swivel</code> and around the cable bundle. Do not tighten yet, as we still need to route the pneumatic tubing through these zip ties.   </p> </li> <li> <p>Now route the cable bundle through the two loose zip ties you attached in the <code>Frame Umbilical Mount</code> in the last step. Don't tighten these yet; we still need to route the pneumatics.   </p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/routing-x-umbilical/#next-steps","title":"Next steps","text":"<p>Continue to connecting the cables to the motherboard.</p>"},{"location":"byop/wiring-and-pneumatics/routing-y-umbilical/","title":"Routing the Y Gantry Umbilical","text":"<p>For this, all you'll need is your freshly made Y gantry umbilical cable bundle, and your bag of zip ties. Note that we'll be plugging in the unlabeled end of the cables, as the labels are meant to help identify wires on on the motherboard side.</p>"},{"location":"byop/wiring-and-pneumatics/routing-y-umbilical/#securing-to-the-y-gantry","title":"Securing to the Y gantry","text":"<ol> <li> <p>To begin, plug in the four terminal connector with only three wires into the X Limit Switch on the left side of the Y Gantry.   </p> </li> <li> <p>Plug in the other connector (six terminal connector with only four wires) into the X Axis Stepper Motor, also on the left side of the Y Gantry.   </p> </li> <li> <p>Align the cable bundle as shown in the picture below, and secure the cable to the <code>Y Gantry Umbilical Mount</code> with three big zip ties.   </p> </li> <li> <p>Lastly, plug in the Y axis limit switch using the YL cable.</p> </li> </ol> <p></p>"},{"location":"byop/wiring-and-pneumatics/routing-y-umbilical/#securing-to-the-frame","title":"Securing to the frame","text":"<ol> <li> <p>Insert the <code>Umbilical Swivel</code> </p> </li> <li> <p>Move the Y gantry all the way to the back of the machine until you feel it hit the limit of travel. This will ensure that you don't fasten the cable too tightly such that it restricts the machine's motion.</p> </li> <li> <p>Pass the loose end of the wiring bundle through one of the holes in the <code>Umbilical Swivel</code></p> </li> <li> <p>Take the cable bundle and guide it along the curved recess in the <code>Frame Umbilical Mount</code>. Take two zip ties and loosely secure them through the zip tie guides and around the cable bundle. Do not tighten them yet, as we still need to route the X gantry cable bundle through this same pair of zip ties.   </p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/routing-y-umbilical/#next-steps","title":"Next steps","text":"<p>Continue to routing the X gantry umbilical.</p>"},{"location":"byop/wiring-and-pneumatics/sheathing-umbilicals/","title":"Sheathing the Umbilicals","text":"<p>Now we'll assemble the two umbilical cables in the machine. The one connecting from the front left leg to the left side of the Y gantry is the Y gantry umbilical, and the one connecting from the front left leg to the X gantry is the X gantry umbilical.</p>"},{"location":"byop/wiring-and-pneumatics/sheathing-umbilicals/#y-gantry-umbilical","title":"Y Gantry Umbilical","text":"<p>This cable bundle will contain the following:</p> Qty Part 1 X axis limit switch cable (XL) 1 X axis motor cable (XM) 2 Heatshrink tubing (large) 1150 mm (45 in) Woven sheathing <ol> <li> <p>To begin, we'll get these two cables laid out at the correct spacing. XL and XM should be perfectly aligned on the label side, no offset.</p> </li> <li> <p>Measure out 1150mm of sheathing and cut it from the rest of the spool.   </p> </li> <li> <p>Take the piece of sheathing and expand it by compressing it. You should find that inserting the two cables at the correct offset will maintain this offset while pushing the sheathing over them. Follow the pictures below for a good method of pushing the cables through the sheathing. If it starts to fray a little bit, don't worry! This is purely a cosmetic step; you can trim off any frayed bits and use the heatshrink to clean up the ends.    </p> </li> <li> <p>Push the sheathing up until there's equal amount of exposed black cable of the shorter cable, as shown below.   </p> </li> <li> <p>With the sheathing an equal distance from the closest connector on each side, slide two pieces of heatshrink tubing over the fraying end of the sheathing, with equal amounts on the cables and on the sheathing. This is to hold the sheathing in place, keep it from fraying, and generally making it look nicer. Use a heat gun or lighter to heat the heatshrink tight onto the cable.    </p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/sheathing-umbilicals/#x-gantry-umbilical","title":"X Gantry Umbilical","text":"<p>This cable bundle will contain the following:</p> Qty Part 1 Z axis limit switch (ZL) 1 Z axis motor cable (ZM) 1 Left rotation motor cable (LM) 1 Top light cable (DL) 1 Top camera usb cable (longer usb cable() 2 Heatshrink tubing (large) 1475 mm (58 in) Woven sheathing <ol> <li> <p>To begin, we'll get these five cables laid out at the correct spacing. Having these spaced correctly ensures that every cable reaches every plug with strain relief and length for movement. Use the image below to make the correct spacing.   </p> </li> <li> <p>Once you have the spacing correct, use a short zip tie to hold them together at this spacing to preserve it while sheathing.    </p> </li> <li> <p>Now, cut a 1475mm piece of sheathing from the remainder and expand it by compressing it. You should find that inserting the cables at the correct offset will maintain this offset while pushing the sheathing over them. If it starts to fray a little bit, don't worry! This is purely a cosmetic step; you can trim off any frayed bits and use the heatshrink to clean up the ends.</p> </li> <li> <p>With the sheathing an equal distance from the closest connector on each side, slide two pieces of heatshrink tubing over the fraying end of the sheathing, with equal parts on the cables and on the sheathing. This is to hold the sheathing in place, keep it from fraying, and generally making it look nicer. Use a heat gun or lighter to heat the heatshrink tight onto the cable.</p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/sheathing-umbilicals/#next-steps","title":"Next steps","text":"<p>Continue to routing the Y gantry umbilical.</p>"},{"location":"byop/wiring-and-pneumatics/wiring-y-motors/","title":"Wiring the Y Motors","text":"Qty Part 1 Y1 Cable Harness (Labeled Y1) 1 Y2 Cable Harness (Labeled Y2) 4 Zip Tie 4 FDM-0016 (Cable Clip) 3 FDM-0023 (Cable Clamp) 3 M3x14 machine screw 3 M3 Hex Nut <p>The left and right Y motors are connected to the motherboard using the cable harnesses Y1 and Y2, respectively. Grab these from your bundle of cables.</p> <ol> <li> <p>Start by plugging in the unlabeled end of the cables into the Y motors. <code>Y1</code> goes to the left Y motor, and <code>Y2</code> goes to the right Y motor.    </p> </li> <li> <p>Use four zip ties to secure the wires in place using the channels in the back legs as shown below.    </p> </li> <li> <p>Next, put your LumenPnP up on its haunches, and route the cables along the inside groove of the extrusion extrusions running towards the front of the machine. Use <code>Cable Clips</code> to hold the cables in place along the extrusions.    </p> </li> <li> <p>Use three <code>Cable Clamps</code>, three M3x14mm bolts, and three M3 nuts to hold the right side cable on the staging plate and route it towards the motherboard neatly.    </p> </li> <li> <p>Route the cables underneath the motherboard for now; we'll plug them in in a later step.</p> </li> </ol>"},{"location":"byop/wiring-and-pneumatics/wiring-y-motors/#next-steps","title":"Next steps","text":"<p>Continue to sheathing the umbilicals.</p>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#i-need-help-with-my-lumenpnp","title":"I need help with my LumenPnP","text":"<p>No worries! Reach out on our support page and we'll get you up and running!</p>"},{"location":"faq/#why-are-the-lumenpnp-and-feeder-designed-the-way-they-are","title":"Why are the LumenPnP and Feeder designed the way they are?","text":"<p>We've written up our design decisions for the LumenPnP and the Feeder in their repositories.</p>"},{"location":"faq/#what-firmware-is-running-on-the-feeders","title":"What firmware is running on the feeders?","text":"<p>The LumenPnP feeders run open source called Photon. Photon is also the name of the protocol that Marlin uses to communicate with the bus of feeders using RS-485. You can find out more information about Photon in its repository.</p>"},{"location":"faq/#which-marlin-branch-should-i-build-from","title":"Which Marlin branch should I build from?","text":"<p>The LumenPnP is currently running a version of Marlin with new features that support communication with Photon feeders. This version has not yet been merged into mainline Marlin. If you'd like to compile your own firmware, pull from the Marlin branch with feeder support.</p>"},{"location":"faq/#should-i-build-or-buy-a-lumenpnp","title":"Should I build or buy a LumenPnP?","text":"<p>It depends! If you are looking to have a blast putting together a desktop fabrication machine, then go for the build! It's a lot of work to put one together from scratch. It can take many, many hours to source all the parts and assemble the machine.</p> <p>If you're just looking to have a tool that'll help you build your boards, buying a machine might be a better fit, as it's up and running in under an hour. You can pick one up here.</p>"},{"location":"faq/#how-do-i-build-one","title":"How do I build one?","text":"<p>Everything you need to build the LumenPnP is attached to each release. In each release you'll find all source material, STLs for 3D printing, firmware, and a full annotated Bill of Materials with purchase links. Go to the most recent release in the Github repository and everything you need is attached as an asset.</p> <p>Some parts in the Bill of Materials are difficult to source. These components are available to purchase if you don't want to find them yourself.</p> <p>Opulo keeps all of its internal assembly instructions public and available, which is a helpful resource when building your own. Note that this documentation is meant for technicians at Opulo, so it references jigs and tools that you might not have.</p> <p>If you're trying to program your feeder slots, there's a utility in the LumenPnP Debug Tool that will let you program them using a single feeder.</p>"},{"location":"faq/#can-you-update-the-repo","title":"Can you update the repo?","text":"<p>Opulo's source repositories are updated continuously. All work is pushed on a daily basis to the relevant feature branch. If you don't see updates in the repo, it's likely you're looking in <code>main</code> and the changes are in another branch.</p>"},{"location":"feeders/1-overview/feeder-overview/","title":"Overview","text":"<p>This is the LumenPnP Feeder:</p> <p></p> <p>The LumenPnP Feeder is an open source SMT component tape feeder that can reliably feed components as small as 0402. It is designed to work with a LumenPnP Pick and Place Machine, but can mount onto any 20mm X 20mm v-slot extrusion. The source can be found here.</p> <p>The feeder uses the open source Photon feeder controller firmware, and talks the Photon protocol over RS-485 to any Marlin host with RS-485 support.</p> <p>You can fit up to 50x 8mm or 12mm Feeders on the front and back rail of your LumenPnP when using two staging plates.</p> <p></p> <p>If you'd like to add a third staging plate, you can fit 25x 8mm or 12mm Feeders on the front rail of your LumenPnP.</p> <p></p>"},{"location":"feeders/1-overview/feeder-overview/#parts-of-the-feeder","title":"Parts of the Feeder","text":"Pick WindowButtonsStatus LightPeel GearsRelease Lever"},{"location":"feeders/1-overview/feeder-overview/#feeder-buttons","title":"Feeder Buttons","text":"FeedingDriving TapeChanging Drive ModePeeling Film <p>Tapping the forward button will make the feeder feed forward 2mm. Tapping the backward button makes the feeder feed backwards 4mm.</p> <p> </p> <p>Pressing and holding the forward or backward button will drive the tape at full speed.</p> <p> </p> <p>Pressing and holding both buttons at the same time will toggle between driving tape with long presses, and peeling film with long presses. This is indicated by the inicator light flashing: gold for peel mode, and blue for drive mode.</p> <p></p> <p>When in Peel mode, press and hold the forward and backwards buttons to peel or unpeel film.</p> <p> </p>"},{"location":"feeders/1-overview/feeder-overview/#12mm-variant","title":"12mm Variant","text":"<p>There is also a 12mm variant of the feeder, designed for 12mm tape. This variant operates the exact same as its 8mm counterpart.</p>"},{"location":"feeders/1-overview/feeder-overview/#help","title":"Help","text":"<p>If you get stuck, please don't hesitate to use our support form.</p> <p>If you find that there's something unclear in this documentation, please submit a ticket on Github about it! You can also file an issue using the link in the upper right of any page on this site. We're trying to make this as clear and understandable as possible, so every issue you tag helps us make it better for everyone else. You can also check out the Discord server and ask questions to the community.</p>"},{"location":"feeders/1-overview/feeder-overview/#next-steps","title":"Next steps","text":"<p>Before using the feeders, you'll install the slot harness. If your machine already has slots installed, you can jump ahead to mounting feeders.</p>"},{"location":"feeders/2-install-harness/","title":"Select your Slot Harness Type","text":"<p>The LumenPnP has two versions of slots. The most recent version has four \"blades\" of slots. The older version has fifty individual slots that each need to be mounted. They both work the exact same. Select your version below for the correct installation instructions.</p>"},{"location":"feeders/2-install-harness/#feeder-slot-blades","title":"Feeder Slot Blades","text":""},{"location":"feeders/2-install-harness/#individual-feeder-slots","title":"Individual Feeder Slots","text":""},{"location":"feeders/2-install-harness/feeder-blade/","title":"Installing the Slot Harness for Blades","text":"<p>In this step, you'll install and wire slots onto the front and back rails of your LumenPnP. Slots provide power and communication to your feeders.</p> <p>If your machine is v3.2 or greater</p> <p>Your LumenPnP came with blades pre-installed, so you can jump ahead to the Install the Harness section.</p>"},{"location":"feeders/2-install-harness/feeder-blade/#adjust-your-staging-plate","title":"Adjust Your Staging Plate","text":"<p>To ensure feeders will mount to your LumenPnP's front rail, we need to ensure that your staging plate is mounted at the correct position. If you have a v3 LumenPnP, your staging plate is already at the correct distance, and can skip this section.</p> <p>Warning</p> <p>Be aware that moving your primary staging plate will change where your bottom camera and homing fiducial markers are mounted. After moving the staging plate, you will need to review your machine's calibration. Specifically, the Homing Fiducial and Bottom Camera Position.</p> <ol> <li> <p>Unplug your LumenPnP.</p> </li> <li> <p>Loosen the 4x M5x8mm button head screws that secure each staging plate to your machine.</p> </li> <li> <p>Measure exactly 75mm of clearance between the front rail and the staging plate. You can use the squaring bracket included in LumenPnP v3 kits. (STL available in the latest LumenPnP Release)   </p> </li> <li> <p>Re-tighten the four M5x8mm button head screws to secure the staging plate.    </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-blade/#prepare-the-slots","title":"Prepare the Slots","text":"<p>In your Slot Harness Kit, you'll find:</p> Count Item 4x Feeder Slot Blades 1x Feeder Programmer 10x Cable Clips 20x M5x10mm Socket Head Screws (Pre-installed) 20x M5 T-Slot Nuts (Pre-installed) <p></p> <p>Note</p> <p>The feeder slot blade set has positions numbered from 1-50 across its four pieces. These are the slot blades's addresses. It's important that you mount each slot blade in sequential order. These instructions will refer to each slot blade the following way moving forward:</p> <ul> <li>Feeder Slot Blade (#1 - #12)</li> <li>Feeder Slot Blade (#13 - #25)</li> <li>Feeder Slot Blade (#26 - #37)</li> <li>Feeder Slot Blade (#38 - #50)</li> </ul> <p></p>"},{"location":"feeders/2-install-harness/feeder-blade/#mount-the-feeder-slot-blades","title":"Mount the Feeder Slot Blades","text":"<ol> <li> <p>Slighlty loosen each M5x10mm socket head screw and horizontally align every M5 T-slot nut to aid in mounting the Feeder Slot Blades to the front and back feeder rails, as shown in the above image.</p> </li> <li> <p>Push the LumenPnP gantry to the back, right corner of the machine.    </p> </li> <li>Lift the machine up onto its back legs.     </li> <li>Grab a Spool Arm from your feeder packaging. This print comes with each feeder and holds a component spool. It also has a notch for aligning slots. This notch places the slot exactly 85mm away from the front left leg.    </li> </ol>"},{"location":"feeders/2-install-harness/feeder-blade/#front-feeder-rail","title":"Front Feeder Rail","text":"<ol> <li> <p>Looking at your machine from the bottom, find the front left leg (in the air, on your left). Place the flat of the square end of the spool arm against the front left leg, and the back of the arm against the front rail extrusion. Use the image below for reference.    </p> </li> <li> <p>Insert <code>Feeder Slot Blade (#1 - #12)</code> into the extrusion as shown, and slide it into the notch in the spool arm.     </p> </li> <li> <p>Tighten the 5x M5 screws in sequential order from left to right to secure <code>Feeder Slot Blade (#1 - #12)</code> in place.     </p> </li> <li> <p>Begin mounting <code>Feeder Slot Blade (#13 - #25)</code>, with the same orientation as the previous one.      </p> </li> <li> <p>Gently press <code>Feeder Slot Blade (#13 - #25)</code> into the previous one while tightening to ensure there are no gaps between them.      </p> </li> <li> <p><code>Feeder Slot Blade (#1 - #12)</code> and <code>Feeder Slot Blade (#13 - #25)</code> should now be firmly mounted to the front rail.     </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-blade/#back-feeder-rail","title":"Back Feeder Rail","text":"<ol> <li> <p>Next, you'll mount slots to the back rail. Near the back right leg, place the flat of the square end of the spool arm against the metal triangle bracket. Lay the flat back of the arm against the back rail extrusion as shown in the image.    </p> </li> <li> <p>As before, insert <code>Feeder Slot Blade (#26 - #37)</code> into the extrusion as shown, and slide it into the notch in the spool arm. Tighten the M5 screws to secure the slot blade.     </p> </li> <li> <p>As you did for the front rail, next mount <code>Feeder Slot Blade (#38 - #50)</code>, while gently pushing it into the previous slot blade when tightening.     </p> </li> <li> <p><code>Feeder Slot Blade (#26 - #37)</code> and <code>Feeder Slot Blade (#38 - #50)</code> should now be firmly mounted to the rear rail.    </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-blade/#install-the-harness","title":"Install the Harness","text":"<ol> <li> <p>If you have a cover on your motherboard, remove it by unscrewing the two M3x30 socket head screws.     </p> </li> <li> <p>Identify the feeder port on your motherboard. It's the 2x3 pin connector below the Y axis stepper driver.   </p> </li> <li> <p>Find the end of the cable harness with the <code>\u2190 TO MOBO</code> label. Plug this end into the feeder port on your motherboard. Flip the cable over so that it's leading off the left side of the motherboard.     </p> </li> <li> <p>Fit the cover back onto the motherboard by rotating it underneath the pneumatic tubing, and pressing down around the stepper driver pins and heatsinks. Remount using the original two M3x30mm screws.     </p> </li> <li> <p>Using the cable clips, secure the cable to the bottom of the left rail as shown.     </p> </li> <li> <p>Fold the cable over as shown, and secure it to the bottom of the front rail using two more cable clips.     </p> </li> <li> <p>Plug the cable into the exposed connector on the backside of <code>Feeder Slot Blade (#1 - #12)</code>.     </p> </li> <li> <p>Collect one of the shorter cables from the cable bag and bend it into a \"U\" shape.     </p> </li> <li> <p>Use this cable to connect <code>Feeder Slot Blade (#1 - #12)</code> to <code>Feeder Slot Blade (#13 - #25)</code> as shown.     </p> </li> <li> <p>Collect the longer cables from the cable bag for connecting <code>Feeder Slot Blade (#13 - #25)</code> to <code>Feeder Slot Blade (#26 - #37)</code>.     </p> </li> <li> <p>Attach this cable to exposed connector on the right side of <code>Feeder Slot Blade (#13 - #25)</code>.    </p> </li> <li> <p>Attach the cable to the bottom of the right side of the front rail using two cable clips.     </p> </li> <li> <p>Fold the cable over, and secure the cable to the bottom of the right rail using three cable clips as shown.     </p> </li> <li> <p>Fold the cable over again and secure to the bottom of the right side of the back rail using two more cable clips.     </p> </li> <li> <p>Plug the cable into the exposed connector on the right side of <code>Feeder Slot Blade (#26 - #37)</code>.     </p> </li> <li> <p>Collect the last short cables from the cable bag and bend it into a \"U\" shape.     </p> </li> <li> <p>Use this cable to connect <code>Feeder Slot Blade (#26 - #37)</code> to <code>Feeder Slot Blade (#38 - #50)</code> as shown.      </p> </li> <li> <p>Take a minute to ensure that your wiring looks like the picture below.    </p> </li> <li> <p>Lower your LumenPnP back down onto its four legs.     </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-blade/#next-steps","title":"Next Steps","text":"<p>If you were directed to this page by LumenPnP wiring instructions return to one of the following pages to finish plugging everything in:</p> <ul> <li>v3.0</li> <li>v3.1 / V3.2</li> </ul> <p>Otherwise, next is updating your software.</p>"},{"location":"feeders/2-install-harness/feeder-slot/","title":"Installing the Slot Harness","text":"<p>In this step, you'll install and wire slots onto the front and back rails of your LumenPnP. Slots provide power and communication to your feeders.</p> <p>If your machine is v3.1 or greater</p> <p>Your LumenPnP came with slots pre-installed, so you can jump ahead to the Install the Harness section.</p>"},{"location":"feeders/2-install-harness/feeder-slot/#adjust-your-staging-plate","title":"Adjust Your Staging Plate","text":"<p>To ensure feeders will mount to your LumenPnP's front rail, we need to ensure that your staging plate is mounted at the correct position. If you have a v3 LumenPnP, your staging plate is already at the correct distance, and can skip this section.</p> <p>Warning</p> <p>Be aware that moving your primary staging plate will change where your bottom camera and homing fiducial markers are mounted. After moving the staging plate, you will need to review your machine's calibration. Specifically, the Homing Fiducial and Bottom Camera Position.</p> <ol> <li> <p>Unplug your LumenPnP.</p> </li> <li> <p>Loosen the 4x M5x8mm button head screws that secure each staging plate to your machine.</p> </li> <li> <p>Measure exactly 75mm of clearance between the front rail and the staging plate. You can use the squaring bracket included in LumenPnP v3 kits. (STL available in the latest LumenPnP Release)   </p> </li> <li> <p>Re-tighten the four M5x8mm button head screws to secure the staging plate.    </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-slot/#prepare-the-slots","title":"Prepare the Slots","text":"<p>In your Slot Harness Kit, you'll find:</p> Count Item 49x Feeder Slots 1x Feeder Termination Slot 1x Feeder Programmer 10x Cable Clips 50x M5x10mm Socket Head Screws 50x M5 T-Slot Nuts <p></p> <p>Note</p> <p>Each slot has a number from 1-50. This is the slot's address. It's important that you mount slots in order. You'll also notice that the 50th slot is a different color. It's important that 50 is connected last in the harness. This allows the feeders to communicate correctly.    </p> <ol> <li> <p>For slot number 1, take an M5x10mm socket head screw and insert it in the circular opening on the back.     </p> </li> <li> <p>Lightly thread an M5 T-slot nut onto the screw as shown.    </p> </li> <li> <p>Repeat this for each feeder slot.    </p> </li> <li> <p>Line up slots 1-25 in numerical order in preparation for mounting to the front rail.    </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-slot/#mount-the-slots","title":"Mount the Slots","text":"<ol> <li>Push the LumenPnP gantry to the back, right corner of the machine.    </li> <li>Lift the machine up onto its back legs.     </li> <li> <p>Grab a Spool Arm from your feeder packaging. This print comes with each feeder and holds a component spool. It also has a notch for aligning slots.    </p> </li> <li> <p>Looking at your machine from the bottom, find the front left leg (in the air, on your left). Place the flat of the square end of the spool arm against the front left leg, and the back of the arm against the front rail extrusion. Use the image below for reference.     </p> </li> <li> <p>Insert the T-slot nut of the <code>1</code> Feeder Slot into the extrusion as shown, and slide it into the notch in the spool arm. Tighten the M5 screw to secure the slot. This notch places the slot exactly 85mm away from the front left leg.     </p> </li> <li> <p>Begin mounting the rest of the slots in order, with the same orientation as the first one. Gently press each slot into the previous one while tightening to ensure there are no gaps between them.     </p> </li> <li> <p>Continue until slots <code>1</code>-<code>25</code> are mounted to the front rail.    </p> </li> <li> <p>Next, you'll mount slots to the back rail. Near the back right leg, place the flat of the square end of the spool arm against the metal triangle bracket. Lay the flat back of the arm against the back rail extrusion as shown in the image.    </p> </li> <li> <p>As before, insert the T-slot nut of the <code>26</code> slot into the extrusion as shown, and slide it into the notch in the spool arm. Tighten the M5 screw to secure the slot.    </p> </li> <li> <p>As you did for the front rail, mount the slots in order in the same orientation as <code>26</code>, gently pushing each slot into the previous when tightening.    </p> </li> <li> <p>Ensure that the differently-colored slot <code>50</code> is in the final position.     </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-slot/#install-the-harness","title":"Install the Harness","text":"<ol> <li> <p>If you have a cover on your motherboard, remove it by unscrewing the two M3x30 socket head screws.     </p> </li> <li> <p>Identify the feeder port on your motherboard. It's the 2x3 pin connector below the Y axis stepper driver.   </p> </li> <li> <p>Find the end of the cable harness with the <code>\u2190 TO MOBO</code> label. Plug this end into the feeder port on your motherboard. Flip the cable over so that it's leading off the left side of the motherboard.     </p> </li> <li> <p>Remount your motherboard cover with the two M3x30mm screws.     </p> </li> <li> <p>Using the cable clips, secure the cable to the bottom of the left rail as shown.     </p> </li> <li> <p>Fold the cable over as shown, and secure it to the bottom of the front rail using two more cable clips.     </p> </li> <li> <p>Bend a small \"U\" shape into the cable in between each of the next 25 connectors as shown.     </p> </li> <li> <p>Plug the next 25 connectors into the 25 slots on the front rail.     </p> </li> <li> <p>Attach the cable to the bottom of the right side of the front rail using two cable clips.     </p> </li> <li> <p>Fold the cable over, and secure the cable to the bottom of the right rail using three cable clips as shown.     </p> </li> <li> <p>Fold the cable over again and secure to the bottom of the right side of the back rail using two more cable clips.     </p> </li> <li> <p>Bend a small \"U\" shape into the cable in between the final 25 connectors as shown.     </p> </li> <li> <p>Plug the final 25 connectors into the 25 slots on the back rail.     </p> </li> <li> <p>Take a minute to ensure that your wiring looks like the picture below.    </p> </li> <li> <p>Lower your LumenPnP back down onto its four legs.     </p> </li> </ol>"},{"location":"feeders/2-install-harness/feeder-slot/#next-steps","title":"Next Steps","text":"<p>If you were directed to this page by LumenPnP wiring instructions return to one of the following pages to finish plugging everything in:</p> <ul> <li>v3.0</li> <li>v3.1 / V3.2</li> </ul> <p>Otherwise, next is updating your software.</p>"},{"location":"feeders/3-software-update/","title":"Software Update","text":"<p>To enable feeder usage, you'll need to update both your LumenPnP's firmware and OpenPnP.</p>"},{"location":"feeders/3-software-update/#update-openpnp","title":"Update OpenPnP","text":"<p>LumenPnP feeders require a specific version of OpenPnP (the 2023-04-05 release), not the most recent release on the OpenPnP website. You can download the correct version here:</p> <ul> <li>Linux (Download .deb)(Download .tar.gz)</li> <li>Windows (Download 32 Bit .exe) (Download 64 Bit .exe)</li> <li>Mac (Download .dmg)</li> </ul> <p>Mac Users</p> <p>Because of a bug with how OpenPnP signs their releases, Mac users with ARM processors might experience a crash on boot. You can still run OpenPnP by navigating to <code>Applications -&gt; OpenPnP</code> and right clicking on the OpenPnP app and selecting \"Show Package Contents\":</p> <p></p> <p>Then navigate to <code>Contents -&gt; MacOS</code> and double click on <code>JavaApplicationStub</code> to run OpenPnP.</p> <p></p>"},{"location":"feeders/3-software-update/#update-lumenpnp-firmware","title":"Update LumenPnP Firmware","text":"<p>Machines Version v3.0.5+</p> <p>If your machine's version number is <code>v3.0.5</code> or greater, you already have firmware that supports feeders. You can skip this section.</p> <ol> <li> <p>Download the LumenPnP firmware from the latest release here that matches your machine's version. Firmware file names start with the machine versions they support.</p> </li> <li> <p>Follow the instructions for updating your LumenPnP's firmware.</p> </li> </ol>"},{"location":"feeders/3-software-update/#update-feeder-firmware-optional","title":"Update Feeder Firmware (Optional)","text":"<p>All feeders come with firmware pre-programmed. These instructions are for updating to a new version of firmware, or putting custom firmware on the feeder.</p> <p>Set Jumper to 3.3v</p> <p>Make sure that the jumper on your programmer is set to 3.3v. On the 3 pin header, make sure the jumper is connecting the center pin to the pin labeled \"3.3v\". The feeder logic operates at 3.3v, so it should be set to this prior to use.</p> <p></p> <ol> <li> <p>Connect the included programmer to your computer.    </p> </li> <li> <p>Download the most recent firmware here, a specific version from the Photon releases page, or compile it yourself.</p> </li> <li>Download and install the STM32CubeProgrammer application.</li> <li>Open the STM32CubeProgrammer application</li> <li> <p>On the Blue dropdown next to the connect button, select <code>UART</code>.</p> <p></p> </li> <li> <p>Click the circular arrow icon to scan for new devices.</p> <p></p> </li> <li> <p>Click the <code>Port</code> drop down and select the new port that appears. On Mac, this port should start with <code>cu.usbmodem</code>.     </p> </li> <li> <p>Set the following settings:</p> <ol> <li><code>Baudrate: 9600</code></li> <li><code>Parity: Even</code></li> <li><code>Read Unprotect (MCU): Unchecked</code></li> <li><code>TZEN Regression (MCU): Unchecked</code></li> </ol> <p></p> </li> <li> <p>Hold down the BOOT button located here on the feeder:</p> <p></p> </li> <li> <p>While holding the BOOT button, insert the pins of the programmer into the plated holes on the feeder as shown in the picture below. The holes are slightly offset, so the programmer pins will stay in contact with the through holes. Once connected, release the BOOT button. If the feeder's LED flashes and turns red, it is not ready to be programmed. Try again.</p> <p>Note</p> <p>The feeder does not need to be mounted on a rail for this step; it can be powered by the programmer.</p> <p> </p> </li> <li> <p>Click the green connect button in STM32CubeProgrammer.     </p> <p>If You Can't Connect</p> <p>If you can't connect to your feeder, check that the programmer is inserted into the pins in the correct orientation. Also, applying gentle pressure to the side of the programmer can help ensure that the pins are making good contact with the plated holes in the feeder PCB.</p> <p>Try the Alternate Method</p> <p>A small batch of feeders have a hard time entering the bootloader using the instructions above. If you cannot connect, try using the instructions below.</p> <ol> <li> <p>Insert the programmer into the programming port, but do NOT press the boot button. The Status light should turn red.</p> <p></p> </li> <li> <p>Press and hold both buttons. Some light patterns will display. Wait until you see red and blue lights flashing, then turn off. Release the buttons. Your feeder is now in the bootloader.</p> <p></p> </li> <li> <p>Reattempt connection.</p> </li> <li>If you still have connection issues, please reach out to us, and check out this page.</li> </ol> </li> <li> <p>Once connected, Switch to the download tab on the left. </p> </li> <li> <p>Click the \"Browse\" button and navigate to the provided <code>firmware.bin</code> file.</p> <p></p> </li> <li> <p>Ensure that the \u201cStart address\u201d is <code>0x08000000</code>.</p> <p></p> </li> <li> <p>Click \"Start Programming\".</p> <p></p> </li> <li> <p>Wait until the software prompts that the firmware has been downloaded successfully. You may disconnect the programmer from the feeder.</p> <p></p> </li> </ol>"},{"location":"feeders/3-software-update/#checking-current-firmware-version","title":"Checking Current Firmware Version","text":"<ol> <li>Press and hold both buttons on the feeder.</li> <li>Wait until the light comes on, indicating that you've switched modes.</li> <li> <p>Keep the buttons held until the light goes off.</p> <p>Firmware versions v1.0.2 and before</p> <p>Earlier versions of firmware will never turn off the light. If the light stays on, you're running v1.0.2 or earlier. Update your firmware to get the latest features and bugfixes.</p> </li> <li> <p>Watch the indicator light and take note of its color, and how many times it flashes.</p> <p> The gif above shows the version being checked for a feeder running <code>v1.0.3</code>. Both buttons are held and the mode light comes on. The mode light goes off, and the indicator light flashes green once. </p> </li> <li> <p>Once the indicator light is done flashing, release the buttons.</p> </li> <li>Use the table below to identify the firmware version loaded on your feeder.</li> </ol> Firmware Version Flashes Any Beta Firmware One Red Flash \ud83d\udfe5 v1.0.2 or previous No Flash v1.0.3 or higher One Green Flash \ud83d\udfe9"},{"location":"feeders/3-software-update/#next-steps","title":"Next Steps","text":"<p>Next, you'll mount your feeders.</p>"},{"location":"feeders/4-mounting/mounting/","title":"Mounting Feeders","text":"<p>A feeder can be mounted on your LumenPnP with one smooth motion.</p> <p></p>"},{"location":"feeders/4-mounting/mounting/#8mm-installing-spool-arm","title":"(8mm) Installing Spool Arm","text":"<p>8mm feeders come with a spool arm that holds a standard 7\" spool of components directly on the feeder.</p> <ol> <li> <p>Grab a spool arm and thimble.    </p> </li> <li> <p>Insert the V-shaped side of the thimble into the spool arm as shown, so that the thimble and the block feature on the other end of the arm are on the same side. Make sure that the flat side of the thimble is facing the rest of the arm when inserting.     </p> </li> <li> <p>Rotate the thimble 90 degrees so that the flat side is facing downwards, as shown below.     </p> </li> <li> <p>The spool arm should look like the image below.     </p> </li> <li> <p>Use a 2.0mm hex wrench to unscrew the countersunk screw in the spool slot.    </p> </li> <li> <p>Insert the spool arm upright, with the flat side of the arm facing the PCB.    </p> </li> <li> <p>Replace the screw.    </p> </li> </ol>"},{"location":"feeders/4-mounting/mounting/#12mm-installing-ramp","title":"(12mm) Installing Ramp","text":"<p>Most spools for 12mm tape are wider than the LumenPnP Feeder, so they cannot be mounted to it. Instead, a ramp allows the tape to feed into the feeder from a floor-mounted spool.</p> <ol> <li> <p>Use a 2.0mm hex wrench to unscrew the countersunk screw in the spool slot.    </p> </li> <li> <p>Insert the ramp in the orientation shown, with the curve pointing to the tape opening.    </p> </li> <li> <p>Replace the screw.    </p> </li> </ol>"},{"location":"feeders/4-mounting/mounting/#insert-feeder","title":"Insert Feeder","text":"<p>Powder on the Rail</p> <p>You might notice that a small amount of dust or powder develops on your machine's feeder rail. This is totally ok. The feeder prints are designed to be just a little undersized, so that they wear in to exactly the right fit over a few insertion cycles. Brush any powder away and continue use as normal.</p> <p></p> <p>A Bit of Force is OK</p> <p>It can take a bit of force to mount your feeder, especially the first few times as the print breaks in. As long as you are aligned correctly, you can put a bit of force into mounting the feeder.</p> <ol> <li> <p>Hold your feeder at a 45 degree angle downwards.    </p> </li> <li> <p>Align the peg on the slot with the channel in the feeder.     </p> </li> <li> <p>Ensure the that the feeder is hooked around the extrusion as shown in the image below.    </p> </li> <li> <p>Depress the locking arm.    </p> </li> <li> <p>Pull down on the feeder until it pops into place.    </p> </li> <li> <p>Release the lever arm. You may want to double-check that the spring finger contacts on the feeder are properly touching the metal pads on the slot until you get the hang of installing them.</p> </li> </ol> <p>Powering on the LumenPnP with feeders already mounted</p> <p>With old power supplies, you might find that plugging in your LumenPnP with many feeders already mounted prevents the machine from booting. This is a known issue due to high inrush current. If you're experiencing this issue, please contact support and we'll send you an updated power supply that solves this issue. All v3.1+ machines shipped with this updated power supply.</p> <p>Mounting inline with other feeders</p> <p>If you're mounting a feeder inline with many others, reach under the spools to depress the lever arm, push forward to tip the feeder, then depress the lever from the top and remove.</p> <p></p> <p>The feeder can also be mounted and removed without depressing the lever arm. If you're having trouble reaching the lever arm, try mounting and removing the feeder by pushing or pulling the spool arm as shown below.</p> <p></p> <p></p>"},{"location":"feeders/4-mounting/mounting/#next-steps","title":"Next Steps","text":"<p>Next, you'll configure your attached feeders in OpenPnP.</p>"},{"location":"feeders/5-openpnp-setup/feeder-openpnp-setup/","title":"OpenPnP Setup","text":"<p>Now you'll scan for and configure your LumenPnP Feeders in OpenPnP.</p> <p>v2 LumenPnP Users</p> <p>If you have a v2 LumenPnP, the default Z height of your nozzle could cause a collision with feeders. We recommend printing and installing updated Z-gantries (shown below) and nozzle rack, which moves your nozzles up 13mm preventing a collision. You can download them here.</p> <p></p>"},{"location":"feeders/5-openpnp-setup/feeder-openpnp-setup/#scanning-for-feeders","title":"Scanning for Feeders","text":"<ol> <li> <p>Click on the <code>Feeders</code> tab.</p> <p></p> </li> <li> <p>Click the plus to add a new feeder.</p> <p></p> </li> <li> <p>Select <code>PhotonFeeder</code>.</p> <p></p> </li> <li> <p>Mount all of your new feeders to your machine. They can be in any slot.</p> <p></p> </li> <li> <p>Click the <code>Search</code> button. OpenPnP will now scan for any feeders attached. This will take a minute, and you'll see the progress showing which slots have feeders in them.</p> <p></p> <p></p> </li> <li> <p>Once the search has completed, each physically inserted feeder will be listed. The name will be the feeder's unique ID number, followed by the slot it's in. In this example, there are two feeders inserted.</p> <p>If None Appear</p> <p>If you don't see any feeders appear, try adding a <code>ReferenceTrayFeeder</code>, then selecting the <code>PhotonFeeder</code> again. Due to a bug in OpenPnP, switching views to a different feeder might be required to refresh the UI.</p> <p>If you still do not see any feeders appear, double check that the cable running from your feeder rail to the motherboard is fully seated.</p> <p></p> </li> </ol> <p>Before Saving</p> <p>Because of a bug in OpenPnP, a part must be assigned to every feeder before saving your machine configuration. If you want to save your config before finishing setup, we recommend assigning the <code>FIDUCIAL-HOME</code> part to any feeders that do not yet have a part assigned.</p>"},{"location":"feeders/5-openpnp-setup/feeder-openpnp-setup/#configure","title":"Configure","text":"<p>Now that your feeders have been discovered in OpenPnP, you'll need to configure them.</p> <ol> <li> <p>Home your LumenPnP.</p> <p></p> </li> <li> <p>Use the machine controls to position your camera over the feeder. This will be more precise later after you load components into the feeder, so a rough estimate is fine for now.</p> <p></p> </li> <li> <p>Save the rough feeder position with the \"Capture Camera Location\" button. For now, save it for both the <code>Slot Location</code> and <code>Part Offset</code>.</p> <p></p> </li> <li> <p>Click <code>Apply</code> to save your changes.</p> <p></p> </li> <li> <p>Select a part from the drop down menu.</p> <p></p> </li> <li> <p>Press the feed button and listen for the feeder's motors moving.</p> <p></p> </li> </ol> <p>Moving Feeders</p> <p>If you remove a feeder from your machine and reinsert it into another feeder slot, you'll need to tell OpenPnP to update its location. To do this, click the <code>Find</code> button in that feeder's menu. You'll see the slot number update to reflect the feeder's new slot, and its location will update accordingly!   </p>"},{"location":"feeders/5-openpnp-setup/feeder-openpnp-setup/#next-steps","title":"Next Steps","text":"<p>Before you can try picking parts from the feeder, you need to load some component tape.</p>"},{"location":"feeders/6-loading-tape/loading-tape/","title":"Loading Tape","text":""},{"location":"feeders/6-loading-tape/loading-tape/#loading-tape","title":"Loading Tape","text":"<p>Note</p> <p>See also the Feeder Buttons documentation for manually driving your feeders.</p> <ol> <li> <p>Cut the tape straight across one of the indexing holes, leaving a semicircle.</p> <p></p> <p></p> <p>Using Film Extensions</p> <p>Film extensions are strips of film with an adhesive end that allow you to load a feeder without wasting parts.</p> <p>First, remove the paper covering the adhesive on the yellow end of the extension</p> <p> </p> <p>Apply the adhesive end onto the film on the end of your tape. Make sure to press it down. Align the end of the adhesive with the end of the tape.</p> <p> </p> <p>Peel back a little bit of the film to get it started.</p> <p></p> <p>Load the tape into the feeder, and guide the film out of the pick window.</p> <p></p> <p>Trim the extension beyond a few centimeters beyond the peel gears.</p> <p></p> <p>Continue to load the feeder starting from Step 7 below.</p> </li> <li> <p>Peel back a few millimeters of film.</p> <p></p> </li> <li> <p>Feed the tape into the opening on the back of the feeder, film side up.</p> <p></p> </li> <li> <p>Align the semicircle in the tape to the first tooth on the drive wheel.</p> <p></p> </li> <li> <p>Guide the few millimeters of loose film out of the pick window.</p> <p></p> </li> <li> <p>Press and hold the forward button while pulling upwards on film.</p> <p></p> </li> <li> <p>Wrap the film around the feeder and guide it into the slot leading to the peel gears.</p> <p></p> <p></p> </li> <li> <p>Press and hold both buttons until the status light turns yellow to switch into Peel mode.</p> <p></p> <p>Toggling Modes</p> <p>Pressing and holding both buttons toggles between Drive and Peel modes. A blue status light indicates you've switched to Drive mode, and a yellow status light indicates you've switched to Peel mode.</p> </li> <li> <p>Press and hold the forward button to spin the peel motor, and feed film in between the two straight gears. Stop when the film is taut.</p> <p></p> <p>Watch Out</p> <p>Make sure that when you feed film into your peel gears, you guide the film away from the worm gear. It's important to prevent it from getting caught between the worm gear and a peel gear, as this can damage the peel gear. Ensure your film doesn't get caught when loading film.  </p> </li> <li> <p>Check to make sure that the film is caught behind the peg that prevents the film from leaving the slot.</p> <p></p> <p></p> </li> <li> <p>Tap the forward button to feed a part and ensure that the tape is loaded correctly. You need to feed the feeder at least twice to ensure consistent feeding in the future.</p> <p></p> </li> </ol>"},{"location":"feeders/6-loading-tape/loading-tape/#next-steps","title":"Next Steps","text":"<p>Next, you'll set pick position.</p>"},{"location":"feeders/7-setting-pick-position/setting-pick-position/","title":"Setting Pick Position","text":"<p>Now that you've loaded a component into the feeder, we'll fine-tune the feeder's position in OpenPnP and test picking a component.</p> <ol> <li> <p>Re-home your LumenPnP if necessary to make sure its position is accurate.</p> <p></p> </li> <li> <p>In the <code>Feeders</code> tab, select your feeder from the list.</p> <p></p> </li> <li> <p>Press <code>Find</code> to update which slot its installed in.</p> <p></p> </li> <li> <p>Position the camera over the the feeder's location.</p> <p></p> </li> <li> <p>Press The \"Feed\" button to make sure the feeder is working, and the tape is indexed properly.</p> <p></p> </li> <li> <p>Use the camera view to precisely target the center of the pocket in the tape for one of the components.</p> <p></p> </li> <li> <p>Press the \"Capture Camera Location\" to save the camera's position to the Part Offset settings.</p> <p></p> </li> <li> <p>Enter <code>14mm</code> into the feeder's Z position to ensure the nozzle tip does not crash into the tape.</p> <p></p> </li> <li> <p>Select the correct toolhead you'll be using to pick this component from the <code>Machine Controls</code> dropdown.</p> <p></p> </li> <li> <p>Position your tool over the Part Offset location. Your nozzle tip should be hovering above the component. If the nozzle is not aligned correctly, you should adjust your nozzle offset.</p> <p></p> </li> <li> <p>Use the <code>Jog</code> controls to lower the nozzle tip until it is just touching the component in the slot.</p> <p></p> </li> <li> <p>Save the z-axis height with the \"Capture Tool Location\" button.</p> <p></p> </li> <li> <p>Click <code>Apply</code> to save the settings.</p> <p></p> </li> <li> <p>Jog your machine away from the feeder.</p> <p></p> </li> <li> <p>Use the \"Pick\" button to test picking the component. If it isn't picked appropriately you may need to tune the Part Offset, especially the Z-axis.</p> <p></p> </li> <li> <p>Click the <code>Discard</code> button under <code>Machine Controls -&gt; Special</code> to discard the part.</p> </li> <li> <p>Repeat this tuning with each of your feeders.</p> </li> </ol> <p>Maintaining feeder position</p> <p>After setting your pick position, we recommend keeping the feeders and machine powered. Powering down the machine can result in a slight change in position which could require resetting the pick position.</p>"},{"location":"feeders/7-setting-pick-position/setting-pick-position/#next-steps","title":"Next Steps","text":"<p>If you came here from the FTP documentation, your next step is running a test job.</p>"},{"location":"feeders/8-troubleshooting/troubleshooting/","title":"Troubleshooting","text":""},{"location":"feeders/8-troubleshooting/troubleshooting/#red-light-on-boot","title":"Red Light On Boot","text":"<p>A red light as soon as the feeder is connected to power means that the feeder was unable to find a slot.</p> <ul> <li>Check the spring pins and ensure that they're all straight and extended the same length.</li> <li>Try reseating the feeder a couple times. In rare instances, just the angle/way of putting dropping the feeder down can cause power to come up before the 1-Wire pin is connected.</li> <li>Try moving the feeder to a different slot. Does it still turn red?<ul> <li>If so, it's probably an issue with the feeder.<ul> <li>Check the spring pins on the feeder PCB. Are they all straight and the same length? Gently adjust them with tweezers if need be.</li> </ul> </li> <li>If not, it's an issue with the slot.<ul> <li>Check the pads of the slot. Are they clean and free of debris? Power off your machine and wipe them clean, then try again.</li> </ul> </li> </ul> </li> </ul> <p>If none of these steps fix the issue, please contact us at support.opulo.io and we'll help you out!</p>"},{"location":"feeders/8-troubleshooting/troubleshooting/#red-light-after-feed","title":"Red Light After Feed","text":"<p>A red light after attempting to feed with either the buttons or through OpenPnP means that feeding failed. It can take a few seconds for the light to come on after commanding the feed.</p> <ul> <li>Try feeding the feeder using the forward button with no tape loaded. Does the red light still come on?<ul> <li>If so, try reseating the drive motor cable.</li> <li>If not, you probably had a tape jam. Try reloading tape and make sure the tape and film's path away from the feeder is clear of obstructions.</li> </ul> </li> </ul> <p>If none of these steps fix the issue, please contact us at support.opulo.io and we'll help you out!</p>"},{"location":"feeders/8-troubleshooting/troubleshooting/#reseating-the-drive-motor-cable","title":"Reseating the Drive Motor Cable","text":"<ol> <li>Remove the drive motor cover using the allen key set that came with your LumenPnP.      </li> <li>Remove the cable plugged into the motherboard.     </li> <li>Plug it back in in the orientation shown (shiny crimp side should be facing down), and push it in all the way using a small allen key.      </li> <li>Bolt the drive motor cover back on, and test again.</li> </ol>"},{"location":"guides/design-for-lumenpnp/","title":"Design for LumenPnP","text":"<p>While the LumenPnP is capable of populating the vast majority of PCBs, there are general design guidelines that will help make population as smooth and automated as possible.</p> <p>All machine capabilities can also be found in the LumenPnP V4 brochure.</p> <p>Also be sure to check out the page for Setting Up An SMT Line or Hardware.cafe for information and resources for midscale manufacturing.</p>"},{"location":"guides/design-for-lumenpnp/#components","title":"Components","text":"<p>The LumenPnP can support up to 50 automated 8mm or 12mm feeders. This means you can have up to 50 unique components in feeders provided they come in 8mm and 12mm tape. When using strip feeders, it's possible to populate up to 79 unique components on one machine.</p> <p>LumenPnP v3.1+ Component Support:</p> <ul> <li>Minimum part size: 0402</li> <li>Minimum lead pitch: 0.4mm</li> <li>Max part weight: 25 grams (N75 Nozzle tip)</li> <li>Max part height: 20mm</li> <li>Down to BGA 0.8mm pitch</li> <li>Powered feeders: 8mm and 12mm tape width</li> <li>Strip feeders: 8mm, 12mm, 16mm, 24mm, 32mm, 44mm+ tape width</li> </ul> <p>While it's impossible to list every IC and component package that the LumenPnP is able to populate, the dimensions above are good guidelines for checking a specific package.</p>"},{"location":"guides/design-for-lumenpnp/#pcb","title":"PCB","text":"<p>When designing the board, be sure to keep the PCB's dimensions under 225mm x 400mm. If you are panelizing your PCB, be sure to keep the resultant dimensions of the panel smaller than this dimension as well. Note that this dimension assumes a third staging plate has been mounted to your machine.</p> <p>It's also important to make sure that your PCB has fiducials to allow the LumenPnP to find your PCB in space for accurate population. We recommend using a 1mm diameter fiducial with at least a 2mm diameter soldermask opening. This gives OpenPnP an easier time identifying the fiducial with machine vision. In KiCAD, this footprint is called <code>Fiducial:Fiducial_1mm_Mask2mm</code>.</p> <p>We recommend adding three fiducials located at the outside edges of your board, ideally as far away from each other as possible. The farther at the edges you place them, the more accurate the fiducial calibration should be.</p>"},{"location":"guides/design-for-lumenpnp/#panelizing","title":"Panelizing","text":"<p>Putting multiple boards into a panel of boards can help increase efficiency when using a pick and place machine by reducing the number of times you need to run a job. KiKit is a great tool for automatically panelizing your KiCAD PCBs, but it's possible to do it manually as well.</p>"},{"location":"guides/design-for-lumenpnp/#double-sided-pcbs","title":"Double Sided PCBs","text":"<p>The LumenPnP is capable of populating double-sided PCBs. There are a few things to consider if you'd like to do this:</p> <ul> <li>When populating the first side of the PCB, be sure to use higher temperature solder paste. After reflow, when stenciling the second side of the PCB, use a lower temperature solder paste. When reflowing for the second time at a lower temperature, the first side will not liquify and the parts will stay soldered on. It is possible to do this with one type of solder paste, but you're relying on only surface tension to retain the parts on the first side.</li> <li>All PCB mounting features used on the LumenPnP will have to accomodate components on the back side. When populating the second side of your board, the universal PCB mounting fixtures will have to be placed strategically as to not interfere with components already mounted on the first side of the board. Your stenciling solution, and reflow oven will also have to account for these parts already being populated.</li> </ul>"},{"location":"guides/design-for-lumenpnp/#mounting-requirements","title":"Mounting Requirements","text":"<p>If you are not using Opulo\u2019s PCB mounting brackets and instead use a custom or third-party solution, ensure that the top surface of your PCB is level with the top surface of the datum board. This reference height is 10 mm above the top surface of the staging plate.</p> <p>When designing a custom mount, remember to account for the thickness of the PCB itself so the finished assembly places the top surface at the correct height. For example, if your PCB is 1.6 mm thick, the bottom of the PCB should sit 8.4 mm above the staging plate to ensure the top surface aligns at 10 mm.</p> <p>Any alternative design must maintain this height to ensure proper operation because that is the focal plane height.</p>"},{"location":"guides/diy-v4/","title":"Introduction","text":"<p>Welcome to the v4 LumenPnP DIY Build Guide!</p> <p>DIY BUILD ONLY</p> <p>This page is just for folks building a LumenPnP from scratch or upgrading your machine! If you bought a LumenPnP from Opulo's website, instead go to the regular docs.</p> <p>This guide is for folks that are interested in 1) building a LumenPnP from source, or 2) bought a parts or upgrade kit from Opulo.</p> <p>You can buy parts kits and individual parts from Opulo, or you can source the parts yourself from the BoM.</p> <p>NOT FOR BEGINNERS</p> <p>Assembling a LumenPnP is not a simple process. Building one from scratch will likely require debugging, referencing documentation, and rolling with some errata. This guide also mostly references Opulo's internal work instructions, so you'll have to be comfortable operating off of those as a baseline.</p>"},{"location":"guides/diy-v4/#pick-a-version","title":"Pick a Version","text":"<p>As you build your machine, you'll need to ensure you're building a specific version. Pick the most recent v4 LumenPnP Release version number, and stick to it. This will be your new machine version. Even if a new release comes out while you're building, don't change half way through. Each machine version stands alone as a valid build, but things get messy when you start mixing and matching.</p> <p>Pick the most recent release on the Releases page, write the version number down, and only use the files from that release!</p>"},{"location":"guides/diy-v4/#using-ohai","title":"Using OHAI","text":"<p>OHAI (Open Hardware Assembly Instructions) is Opulo's internal (but public facing) work instructions for machine assembly. These are heavily optimized for use by Opulo employees, but are the most up to date and accurate way to assemble the most recent version of the LumenPnP.</p> <p>This guide uses OHAI for the bulk of the instructions on assembly for this reason. However, they also mention lots of jigs and fixtures that are only at Opulo Headquarters. These are not needed to assemble a LumenPnP, they just help us make lots of them! Each page of this guide will give you similar or alternative methods that work best for a home build, and any errata to be aware of when using OHAI for reference.</p>"},{"location":"guides/diy-v4/#tools-needed","title":"Tools Needed","text":"<ul> <li>Mallet</li> <li>Metric allen key set</li> <li>Superglue or Loctite 435</li> <li>2.5mm drill bit</li> <li>2x adjustable wrenches</li> </ul>"},{"location":"guides/diy-v4/#v31-v32-v4-upgrades","title":"v3.1 / v3.2 \u27a1\ufe0f v4 Upgrades","text":"<p>If you're upgrading your v3.1 or v3.2 LumenPnP to v4, you'll first have to fully disassemble your machine (with the exception of your Y gantries; see next page for more details). The parts you'll reclaim from your machine are:</p> <ul> <li>7x 600mm Aluminum Extrusion</li> <li>2x Y gantry t-nut bars and linear rails</li> <li>1x X gantry t-nut bars and linear rails</li> <li>Assembled front and back feeder rails</li> <li>Power Supply</li> <li>USB Cable</li> <li>All Stepper Motors</li> <li>Nozzle Tips, nozzles, and rotary couplers</li> <li>Leg Extensions</li> <li>GT2 Belt</li> <li>Staging Plates</li> <li>Ring Lights</li> <li>Idlers and Pulleys</li> </ul> <p>For everything else, please find a place to recycle or use for a new project!</p> <p>Below is a tentative list of what you'll need for the upgrade, before Opulo has an official upgrade kit for sale:</p> <ul> <li>v4 Drag Chain Kit</li> <li>Control Box</li> <li>v4 Fastener Kit</li> <li>v4 Camera Kit (no cables)</li> <li>v4 Endstop Set</li> <li>v4 Frame Cable Harness Set</li> <li>Feeder Cable Adapter (lets you use your v3 feeder slots with the v4 control box)</li> </ul>"},{"location":"guides/diy-v4/#where-this-guide-ends","title":"Where this guide ends","text":"<p>Upon completing this guide, you'll have very close to what arrives in a box from Opulo when you purchase a LumenPnP v4. After completing this guide, move on to the normal assembly process to put all the main parts of the machine together.</p>"},{"location":"guides/diy-v4/#resources","title":"Resources","text":"<p>A lot goes into building a LumenPnP. Although it's meant to be buildable by anyone, it's optimized for being built at Opulo headquarters. There are some resources that will be useful to you as you build your machine:</p> <ul> <li>Discord - The community discord is super helpful for folks putting together a machine.</li> <li>Machine Source - When in doubt, go to the source! Github has every part of the machine design source, so any question can be answered by perusing the repository. We recommend referencing the files attached to your version number's release (the source for your version number is attached to the release as well)</li> </ul>"},{"location":"guides/diy-v4/#lets-get-printing","title":"Let's get printing \u27a1\ufe0f","text":""},{"location":"guides/diy-v4/1-printing/","title":"3D Printing Parts","text":"<p>The first step in building your LumenPnP is 3D printing all the parts!</p> <p>Reprint Everything</p> <p>If you're upgrading an existing machine to v4, it might be tempting to only reprint a subset of the parts. While some of the parts might be compatible or at least similar, we recommend reprinting everything, because every new release of the machine might have changed something. It's just a bit over a kilogram of plastic for a LumenPnP, so it's not much more material to ensure parity with the version you're building to.</p> <p>If you're upgrading from a v3.1 or v3.2, you can technically get away with not reprinting the front and back legs. Although there are some quality of life improvements in these files, it can save you from having to fully disassemble your Y gantries (only the <code>y-gantry</code> print itself needs to be reprinted for v4). </p>"},{"location":"guides/diy-v4/1-printing/#getting-the-files","title":"Getting the files","text":"<p>You've picked a version number, so you can go to that release and download all the STLs attached to the release in a zip file! This has all the printable CAD in the machine for your version.</p>"},{"location":"guides/diy-v4/1-printing/#materials-and-colors","title":"Materials and Colors","text":"<p>Details about what to print can all be found in the Bill of Materials for your version. This is also downloadable from your version's release. The BoM is a standalone webpage (just double click the HTML file to open it in a browser) that tells you everything you need to build a machine, including what color or material to 3D print all the files in, along with a render of the part. Use this for reference on what filament to use when printing.</p> <p>In general, most parts are intended to be printed in PLA. Folks have printed a Lumen in ABS, PETG, SLA resin, and even SLS nylon. All have their tradeoffs, but we've found we get the best performance from PLA. Note that the <code>dynamic-board-mount</code> is the only part in the BoM that requires PETG for its flexibility.</p>"},{"location":"guides/diy-v4/1-printing/#slicer-settings","title":"Slicer Settings","text":"<p>This varies wildly across printer, material, environment, etc. but good rules of thumb are:</p> <ul> <li>4 shells</li> <li>At least 20% infill, triangular or hexagonal</li> <li>Support mostly not needed, but can be helpful</li> <li>0.2 mm layer height</li> </ul>"},{"location":"guides/diy-v4/1-printing/#lets-start-the-build","title":"Let's start the build \u27a1\ufe0f","text":""},{"location":"guides/diy-v4/2-ohai/","title":"OHAI Guidance","text":""},{"location":"guides/diy-v4/2-ohai/#x-gantry","title":"X Gantry","text":"<p>Follow the OHAI instructions for assembling the X Gantry:</p>"},{"location":"guides/diy-v4/2-ohai/#ohai-x-gantry-assembly-instructions","title":"OHAI X Gantry Assembly Instructions","text":""},{"location":"guides/diy-v4/2-ohai/#x-gantry-ohai-errata","title":"X Gantry OHAI Errata","text":"<ul> <li>All torque spec references<ul> <li>If you have a torque driver, it's great to use the spec recommended, but you should also be just fine tightening things down very well in general.</li> </ul> </li> <li>Check <code>top-camera</code> focus<ul> <li>You can skip this step. We focus every camera before shipping them out, and you can fine tune the actual focus on the machine after it's been assembled.</li> <li>v4 cameras also do not have a screw for focusing, there's a locking grease used to hold the focus, so you can just turn the lens with a bit of force.</li> </ul> </li> <li>Prepare NEMA-17-stepper-motor for x-linear-axis<ul> <li>Don't bother with the jig; it's approximately 10mm between the pulley and the motor front face, and it's easy to adjust the pulley position after you have the belt run and tensioned as well.</li> <li>Don't worry about the torque spec either; it's good to have one, but tightening it down really well (without stripping) will also work alright.</li> </ul> </li> <li>Install x-idler-mount onto alu-extrusion<ul> <li>Don't worry about the jig used to set spacing; modern v4 CAD actually has this spacing built into the <code>x-idler-mount</code> and the <code>x-motor-mount</code> inner faces, so as long as you push them all the way onto the extrusion, your spacing should be correct.</li> </ul> </li> <li>Install linear-rail-525mm<ul> <li>The spacing jig is not necessary; a visual check of the rail being centered is plenty.</li> </ul> </li> <li>Prepare NEMA-17-stepper-motor for z-axis<ul> <li>Similar to the instructions for the X gantry pulley: just mount it on with a small gap, and adjust the precise position when you can visually align it with the opposite pulley</li> </ul> </li> <li>Install toolhead components<ul> <li>The jig for tightening the nozzle and rotary coupler to the stepper motor is not necessary. Two wrenches can get the job done easily.</li> </ul> </li> <li>Gundam test x-gantry<ul> <li>Ignore this step. This is an automated QC check we perform on the line, but you'll be able to test these things after your machine is fully assembled.</li> </ul> </li> </ul>"},{"location":"guides/diy-v4/2-ohai/#y-gantries","title":"Y Gantries","text":"<p>Follow the OHAI instructions for assembling the left and right Y Gantries.</p> <p>v3.1/v3.2 Upgrade</p> <p>You do not technically need to fully rebuild your Y gantries if you're updgrading from a v3.1 or v3.2. If you only swap out for new <code>y-gantry</code> prints, the rest can be left alone. That being said, we recommend reprinting these parts and fully reassembling them from scratch to stay in parity with your version number.</p>"},{"location":"guides/diy-v4/2-ohai/#ohai-y-gantry-assembly-instructions","title":"OHAI Y Gantry Assembly Instructions","text":""},{"location":"guides/diy-v4/2-ohai/#y-gantry-ohai-errata","title":"Y Gantry OHAI Errata","text":"<ul> <li>All torque spec references<ul> <li>If you have a torque driver, it's great to use the spec recommended, but you should also be just fine tightening things down very well in general.</li> </ul> </li> <li>Arbor press operations<ul> <li>An awl or screwdriver along with a few gentle taps with a mallet is helpful for setting nuts into prints, no arbor press needed.</li> </ul> </li> <li>Prepare y-gantry stepper motor<ul> <li>Similar to the instructions for the X gantry pulley: just mount it on with a small gap, and adjust the precise position when you can visually align it with the belt path through the extrusion after assembly</li> </ul> </li> <li>Install linear-rail-550mm<ul> <li>The spacing jig is not necessary; a visual check of the rail being centered is plenty.</li> </ul> </li> </ul>"},{"location":"guides/diy-v4/2-ohai/#feeder-rails","title":"Feeder Rails","text":"<p>Follow the OHAI instructions for assembling the front and back feeder rails.</p> <p>v3.1/v3.2 Upgrade</p> <p>You don't need to do this step at all if you're upgrading, but you should attach the Feeder Cable Adapter to your original feeder cable harness so it can plug into your new motherboard!</p>"},{"location":"guides/diy-v4/2-ohai/#ohai-feeder-rail-assembly-instructions","title":"OHAI Feeder Rail Assembly Instructions","text":""},{"location":"guides/diy-v4/2-ohai/#feeder-rail-ohai-errata","title":"Feeder Rail OHAI Errata","text":"<ul> <li>Without the jig<ul> <li>the jig shown in this section is total overkill for just making one machine. It's much easier to just attach all right angle brackets to the extrusion on a flat surface, ensuring flushness at every step.</li> <li>When mounting the blades to the rail, just ensure that when both rails are mounted, there is equal distance from the edge of the extrusion to either side of the bay of blades. They just need to be in the center of the rail.</li> </ul> </li> </ul>"},{"location":"guides/diy-v4/2-ohai/#drag-chain","title":"Drag Chain","text":"<p>Follow the OHAI instructions for assembling the drag chain:</p>"},{"location":"guides/diy-v4/2-ohai/#ohai-drag-chain-assembly-instructions","title":"OHAI Drag Chain Assembly Instructions","text":""},{"location":"guides/diy-v4/2-ohai/#drag-chain-ohai-errata","title":"Drag Chain OHAI Errata","text":"<p>This section relies heavily on a custom jig at Opulo HQ. For broad direction of what cables go in which chain, with which orientation, the OHAI page is great.</p> <p>For spacing of the cables within the chain, a rough approximation based on the images will get you plenty close, as it's not hard to shift and adjust them a bit when they're already on the machine. We use the jig to make it repeatable and consistent for the customer, but it's not worth trying to make a similar set up for just one machine, especially when it's fairly easy to shift them within the chain after assembly.</p>"},{"location":"guides/diy-v4/2-ohai/#staging-plate","title":"Staging Plate","text":"<p>Follow the OHAI instructions for assembling the staging plate:</p>"},{"location":"guides/diy-v4/2-ohai/#ohai-staging-plate-assembly-instructions","title":"OHAI Staging Plate Assembly Instructions","text":""},{"location":"guides/diy-v4/2-ohai/#staging-plate-ohai-errata","title":"Staging Plate OHAI Errata","text":"<ul> <li>Lots of photos of prints in this section are out of date. The bottom camera mount looks different in v4.</li> <li>Focus the bottom-camera<ul> <li>You don't have to do this step. We pre-focus cameras before shipping them out, and you'll fine tune focus on your machine after fully assembled anyway.</li> </ul> </li> <li>QC Checklist<ul> <li>You can ignore the Google form! This is only for machines being shipped by Opulo.</li> </ul> </li> </ul>"},{"location":"guides/enable-n2-nozzle/","title":"Enable and Load Nozzle Tip on Second Nozzle","text":"<p>NOTE: Ensures the N2 nozzle will be checked when homing your LumenPnP.</p> <p>Confirm the Nozzle Tip you want to use is loaded on the N2 Nozzle.</p> <ol> <li>Go to <code>Machine Setup</code> &gt; <code>Heads</code> &gt; <code>Reference Head H1</code> &gt; <code>Nozzles</code> &gt; <code>ReferenceNozzle N2</code></li> <li>Once there, click the checkbox for the Nozzle Tip that you have equiped under the <code>Loaded?</code> section. </li> </ol> <p>Next, confirm the Nozzle Tip is enabled</p> <ol> <li>Go to <code>Machine Setup</code> &gt; <code>Nozzle Tips</code> &gt; <code>ReferenceNozzleTip N##</code> &gt; <code>Calibration Tab</code></li> <li>Make sure the <code>Enable?</code> checkbox is checked for the nozzles you are using. </li> </ol> <p>Auto Recalibration</p> <pre><code>While you are here, make sure that you have your `Auto Recalibration` set to `Nozzle Tip Change`.\n</code></pre> <p>Home the LumenPnP again, and it will now check the second nozzle during its homing sequence.</p>"},{"location":"guides/extracting-your-config-files/","title":"Extracting Your Config Files","text":"<p>This guide is to assist in extracting your .XML files after initial installation has been completed.</p>"},{"location":"guides/extracting-your-config-files/#linux","title":"Linux","text":"<ol> <li> <p>Close OpenPnP. (This is very important to do before moving to the next step.)</p> </li> <li> <p>To extract these files, you'll need to find its configuration folder. In the Ubuntu file manager (Nautilus), press <code>CTRL</code> + <code>H</code> to show hidden files, or go to the <code>View</code> menu and check <code>Show Hidden Files</code>.</p> </li> <li> <p>Next, navigate to: <code>/home/[username]/.openpnp2</code>.</p> </li> <li> <p>Double check that OpenPnP is closed.</p> </li> <li> <p>In the <code>.openpnp2</code> folder you'll find your currently used configuration files, <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code>.You will want the <code>machine.xml</code> and <code>vision-settings.xml</code> files.</p> </li> <li> <p>Copy the <code>machine.xml</code> and <code>vision-settings.xml</code> configuration files from <code>.openpnp2</code>.</p> </li> <li> <p>After you have copied and pasted these files to your desired location, confirm all four of your configuration files are still in <code>.openpnp2</code>.</p> </li> </ol>"},{"location":"guides/extracting-your-config-files/#windows","title":"Windows","text":"<ol> <li> <p>Close OpenPnP. (This is very important to do before moving to the next step.)</p> </li> <li> <p>To extract these files, you'll need to find its configuration folder. First, follow these instructions to show hidden folders in Windows Explorer.</p> </li> <li> <p>Navigate to:</p> <ul> <li>On Windows Vista and newer: <code>C:\\Users\\[username]\\.openpnp2</code>.</li> <li>On Windows XP and older: <code>C:\\Documents and Settings\\[username]\\.openpnp2</code>.</li> </ul> </li> <li> <p>Double-check that OpenPnP is closed.</p> </li> <li> <p>In the <code>.openpnp2</code> folder you'll find your currently used configuration files, <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code>.You will want the <code>machine.xml</code> and <code>vision-settings.xml</code> files.</p> </li> <li> <p>Copy the <code>machine.xml</code> and <code>vision-settings.xml</code> configuration files from <code>.openpnp2</code>.</p> </li> <li> <p>After you have copied and pasted these files to your desired location, confirm all four of your configuration files are still in <code>.openpnp2</code>.</p> </li> </ol>"},{"location":"guides/extracting-your-config-files/#macos","title":"MacOS","text":"<ol> <li> <p>Close OpenPnP. (This is very important to do before moving to the next step.)</p> </li> <li> <p>To extract these files, you'll need to find its configuration folder. First, follow these instructions to show hidden folders in Finder.</p> </li> <li> <p>Next, navigate to: <code>/Users/[username]/.openpnp2</code>.</p> </li> <li> <p>Double check that OpenPnP is closed.</p> </li> <li> <p>In the <code>.openpnp2</code> folder you'll find your currently used configuration files, <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code>.You will want the <code>machine.xml</code> and <code>vision-settings.xml</code> files.</p> </li> <li> <p>Copy the <code>machine.xml</code> and <code>vision-settings.xml</code> configuration files from <code>.openpnp2</code>.</p> </li> <li> <p>After you have copied and pasted these files to your desired location, confirm all four of your configuration files are still in <code>.openpnp2</code>.</p> </li> </ol>"},{"location":"guides/feeder-uart-boot-fix/","title":"Feeder UART Bootloader Fix","text":"<p>This guide is for fixing an issue in a small batch of feeders where they can't be reprogrammed using the programming dongle that came with your feeders. This issue does not affect the feeder's normal operation.</p> <p>Our chip supplier sourced a slightly different version of the RS-485 transceiver we use with the exact same part number, just from a different lot. This lot behaves slightly differently when the DE/RE pins are left floating: the previous lot would default itself to a disabled state which allows UART programming, but the new lot has just enough leakage current to end up being enabled, which causes it to interfere with communication from the UART programmer.</p> <p>There are two fixes to the issue.</p> <p>Send to Opulo for Repair</p> <p>If you don't mind some downtime, we'd be happy to perform the fix for you. Reach out to our support line and we can facilitate getting your units shipped back to Opulo for repair.</p>"},{"location":"guides/feeder-uart-boot-fix/#fix-1-firmware-update","title":"Fix #1: Firmware Update","text":"<p>We've developed a new version of firmware that has a workaround for this bug, and allows it to still be programmed over UART. However, it must first be programmed over SWD.</p>"},{"location":"guides/feeder-uart-boot-fix/#tools-needed","title":"Tools Needed","text":"<ul> <li>Black Magic Probe SWD Programmer and Debugger</li> <li>Pogo Pin SWD Interface (requires the bottom of the clamp to be removed) or just some bodge wires</li> </ul> <p>J-Link</p> <p>You can also use a Segger J-Link or other SWD programmer, but these instructions are for a Black Magic Probe.</p>"},{"location":"guides/feeder-uart-boot-fix/#instructions","title":"Instructions","text":"<ol> <li>Prepare your computer to flash the new firmware (MacOS and Linux).<ol> <li>Download the <code>.elf</code> file from the most recent release of Photon here.</li> <li>Install <code>arm-none-eabi-gdb</code> if it is not installed already.<ol> <li>MacOS using Homebrew: <code>brew install arm-none-eabi-gdb</code></li> <li>Linux using apt: <code>sudo apt install arm-none-eabi-gdb</code></li> </ol> </li> </ol> </li> <li> <p>Remove the version number sticker on your feeder. This sticker covers the SWD port we'll use to program the feeder.</p> <p> </p> </li> <li> <p>Connect the Black Magic Probe to your computer, and apply the spring pin interface onto the pads on the feeder.</p> <p></p> </li> <li> <p>Flash the new <code>.elf</code> file to the feeder using:    <pre><code> arm-none-eabi-gdb -nx --batch \\\n     --ex target extended-remote /dev/BLACK_MAGIC_PROBE_PORT \\\n     --ex monitor tpwr enable \\\n     --ex monitor swdp_scan \\\n     --ex attach 1 \\\n     --ex load \\\n     --ex compare-sections \\\n     --ex kill /path/to/firmware.elf\n</code></pre>    after replacing <code>/path/to/firmware.elf</code> and <code>/dev/BLACK_MAGIC_PROBE_PORT</code> with the correct paths for your machine.</p> </li> </ol> <p>Your feeder now has the ability to update firmware over UART, but now enters the bootloader by holding both feeder buttons until the blue and red flashing lights stop. Check out the feeder programming page to see full instructions.</p>"},{"location":"guides/feeder-uart-boot-fix/#fix-2-interposer-board-installation","title":"Fix #2: Interposer Board Installation","text":""},{"location":"guides/feeder-uart-boot-fix/#tools-needed_1","title":"Tools Needed","text":"<ul> <li>Soldering Iron</li> <li>Solder</li> <li>Allen key set from your LumenPnP Tool Kit</li> <li>1x Interposer Board per feeder (request from Opulo)</li> <li>Feeder to fix</li> </ul>"},{"location":"guides/feeder-uart-boot-fix/#installation","title":"Installation","text":"<ol> <li>Remove the lever arm screw from your feeder while holding the lever arm in place.    </li> <li>Carefully remove the retention arm, being mindful of the spring jumping out of its retention holes.    </li> <li>Remove the screws shown.    </li> <li>Remove the drive motor cover.    </li> <li>Gently lift the PCB away from the frame, and remove the Drive Motor Cable.    </li> <li>Gently lift the PCB away from the frame while also lifting the peel motor out of the frame by the worm gear.     </li> <li>Remove the peel motor cable from the PCB.    </li> <li>You should be left with the Feeder motherboard.    </li> <li>The chip we'll be adding the interposer to is U6.     </li> <li>It will lay over U6 as shown.     </li> <li>Apply some solder to your iron tip, and hold the interposer as shown using tweezers.     </li> <li>Tack the interposer in place to pin 8 of U6 using the solder on your iron tip.      </li> <li>Solder the rest of the pins on that side of the interposer.      </li> <li>Using tweezers to help align the other side, solder the other four pads to the leads of U6.      </li> <li>Confirm the fix was effective by attempting to program the board using the UART bootloader, and not by using the alternate method shown in red.</li> <li>If successful, reassemble the feeder in the reverse order.</li> </ol>"},{"location":"guides/get-openpnp-version/","title":"Find OpenPnP Version","text":"<p>If you want to find out what version of OpenPnP you are using, please see the appropriate operating system below to find the proper pathway.</p>"},{"location":"guides/get-openpnp-version/#macos","title":"MacOS","text":"<ol> <li> <p>Go to the top left of the screen and click on <code>OpenPnP</code> &gt; <code>About OpenPnP</code>.</p> <p></p> </li> <li> <p>The version will be listed as a date:</p> <p></p> </li> </ol>"},{"location":"guides/get-openpnp-version/#windows","title":"Windows","text":"<ol> <li> <p>Go to the top of the program and click on <code>Help</code> &gt; <code>About</code>.</p> <p></p> </li> <li> <p>The version will be listed as a date:</p> <p></p> </li> </ol>"},{"location":"guides/get-openpnp-version/#linux","title":"Linux","text":"<ol> <li> <p>Go to the top of the program and click on <code>Help</code> &gt; <code>About</code>.</p> <p></p> </li> <li> <p>The version will be listed as a date:</p> <p></p> </li> </ol>"},{"location":"guides/machine-speed/","title":"Change Machine Speed","text":"<p>If you'd like to update the max speed that OpenPnP commands the LumenPnP to run at, this is a guide for how to adjust it properly.</p> <p>Avoid Axis Settings</p> <p>Do not change settings in the ReferenceControllerAxis sections of your Machine Setup. These should be left as they are.</p> <p>Marlin does an exceptional job of managing acceleration, jerk, and speed control. OpenPnP tries to brute these settings into the gcode stream, which can cause issues with other parts of the configuration.</p> <ol> <li>Go to <code>Machine Setup</code> &gt; <code>Drivers</code> &gt; <code>GcodeDrivers</code> &gt; <code>Driver Settings</code> &gt; <code>Max. Feed Rate [/min]</code> </li> <li>This field is the correct place to update the max movement speed of the LumenPnP for most operations.</li> </ol> <p>Marlin Max Feed Rate</p> <p>Note that the LumenPnP's firmware also has its own max feed rate. If you set the OpenPnP field to be higher than Marlin's allowed max, it will simply run at its highest allowed speed.   If you'd like to change the firmware settings, check out Marlin's M203 command documentation.</p>"},{"location":"guides/motor-current/","title":"Change Motor Current","text":"<p>The LumenPnP uses stepper motor drivers that allow software-defined current control. The default values work great for normal LumenPnP operation, but if you're troubleshooting an issue or want to experiment with settings, this guide will show you how to update your motor current.</p> <p>M906 Command</p> <p>Current is set using the M906 Gcode command. To set current for an axis, you use M906, followed by the letter designating the axis, followed by the number of milliamps that should be used for the axis. For example, to set the X axis to 800 milliamps and the Y axis to 1200 milliamps, use <code>M906 X800</code> and <code>M906 Y1200</code>.</p> <p>The letters <code>A</code>, <code>B</code>, and <code>C</code> are used for the Left Nozzle, Right Nozzle, and Aux drivers, respectively.</p> <p>For more information, check out Marlin's M906 documentation.</p>"},{"location":"guides/motor-current/#instructions","title":"Instructions","text":"<ol> <li>In OpenPnP, navigate to <code>Machine Setup</code> &gt; <code>Drivers</code> &gt; <code>GcodeDrivers</code> &gt; <code>Gcode</code> Tab &gt; <code>Setting</code>: <code>CONNECT_COMMAND</code></li> <li>Look to see if your config already has an <code>M906</code> line of gcode for the axis you're updating. If there is already a command, simply update the current value in that line. If there isn't an <code>M906</code> line add it at the end.    </li> <li>We recommend that you do not exceed 1.5 amps (1500 milliamps) for the X or Y axis.</li> </ol>"},{"location":"guides/motor-disable-timeout/","title":"Set Motor Disable Timeout","text":"<p>The LumenPnP will disable its motors after a period of inactivity to prevent the steppers from having amps of current driven through them unnecessarily. This guide shows how to update this timeout period to be whatever you'd like.</p> <ol> <li>Go to <code>Machine Setup</code> &gt; <code>Drivers</code> &gt; <code>GcodeDriver</code> &gt; <code>Gcode</code> Tab &gt; <code>CONNECT_COMMAND</code>.</li> <li>Add the following line at the end of the Gcode: <code>M18 S&lt;seconds&gt;</code> and replace <code>&lt;seconds&gt;</code> with the number of seconds you'd like the motors to stay powered on for after going idle.    </li> <li>For more information, check out the Marlin M18 command documentation.</li> </ol>"},{"location":"guides/openpnp-logs/","title":"Collecting OpenPnP Logs","text":"<p>See what G-code is communicating to and from the LumenPnP. These logs give better insight into what is actually happening with the Gcode when using OpenPnP.</p> <ol> <li>Go to the <code>Log</code> Tab that is located in the top right of OpenPnP.</li> <li>Switch <code>Global Log Level</code> and <code>Log Level</code> to <code>Trace</code>.</li> <li>Perform any operations that you want to collect logs for. Any operation performed will now log in this window.</li> <li>To save your new log report, go back to the <code>Log</code> Tab and click on the green icon. This will copy the log to your clipboard.</li> <li>Open any text editor and paste your log inside a new file.     </li> </ol>"},{"location":"guides/rev3-vac-interposer/","title":"REV03 Mobo Interposer Guide","text":""},{"location":"guides/rev3-vac-interposer/#rev03-motherboard-interposer-installation-guide","title":"REV03 Motherboard Interposer Installation Guide","text":"<p>This guide is for installing the Vacuum Sensor Interposer Boards. Some early units of the LumenPnP shipped with a standard vacuum sensor on the motherboard that has a signal swing of a few hundred units. Because of some variability in the components used, this swing can be too small to get a usable signal for vacuum part-pick detection. This installation makes the signal swing much larger, making it easier to get a usable signal from the sensor.</p> <p>We're sorry about this! In our internal testing of this feature, we found that the swing was large enough to detect a missed pick accurately, but we didn't test comprehensively enough to ensure it was always the case for every board. We've changed the way we test features before boards leave our facility to catch these types of issues.</p> <p>Help</p> <p>If you at any time run into trouble or are unsure of how to proceed with this guide, please reach out to our customer support line and we'll get you up and running.</p>"},{"location":"guides/rev3-vac-interposer/#timing","title":"Timing","text":"<p>This process should take about 60 minutes.</p>"},{"location":"guides/rev3-vac-interposer/#tools-needed","title":"Tools Needed","text":"<ul> <li>Hot Air Gun</li> <li>Soldering Iron</li> <li>Tweezers</li> <li>Solder</li> <li>Solder Wick</li> <li>2x Interposer PCBAs</li> <li>Your REV03 Motherboard</li> </ul>"},{"location":"guides/rev3-vac-interposer/#installation","title":"Installation","text":"<ol> <li> <p>If your board looks like the image below, then you do not have the interposers installed, and this guide is for you! If your vacuum sensors have a little green board between them and the motherboard, you're all set and don't need to perform this installation.    </p> </li> <li> <p>First, you'll need to remove the existing vacuum sensors. You'll find them near the USB-C connector labeled \"VAC1\" and \"VAC2\". Using your hot air gun, apply heat to the legs of one of the vacuum sensors on your motherboard. Wait until you see the solder become molten and shiny, then gently remove the sensor from the PCB using tweezers. Perform the same operation for the second sensor.</p> <p> </p> <p>Warning</p> <p>Be careful not to tug too hard on the sensor. It's held down to the PCB with just a few copper pads, and pulling too hard might result in lifting those pads off the PCB. Make sure the solder is completely molten and the sensor should come away easily.</p> </li> <li> <p>Remove any remaining solder on the vacuum sensor pads. The pads need to be cleaned and flat for the interposer installation. Use solder wick (and flux if necessary) to remove any solder from the six pads that make up each vacuum sensor footprint. Clean up any excess flux or solder residue.     </p> </li> <li> <p>Now you can install an interposer board. First, make sure you have the correct board orientation. The bottom of the board has six pads that match the vacuum sensor footprint on the board. Make sure they line up with the footprint and that a bit of the interposer board is hanging off of the edge of the motherboard.           Correct orientation</p> <p></p> <p>Make sure the six pads of the footprint on the motherboard align with the six plated edges of the interposer board.</p> <p></p> </li> <li> <p>Add a bit of solder to one of the pads on the motherboard, and tack the interposer in place with a bit of solder on one of the pads. Apply heat to this joint while you align the interposer board using your tweezers.      </p> </li> <li> <p>Once your board is aligned with the pads and tacked in place, apply solder to the remaining five pads. Make sure that you have a good fillet of solder connecting the interposer board to the pad on the motherboard.</p> <p> </p> </li> <li> <p>Repeat steps 4 and 5 with the second interposer board and the second vacuum footprint on the motherboard.</p> <p> </p> </li> </ol>"},{"location":"guides/rev3-vac-interposer/#checking-readings","title":"Checking Readings","text":"<ol> <li> <p>Check to make sure that the sensor is working properly. Connect to the motherboard with your computer and try sending some GCode commands to it with a GCode sender. We recommend using CNCjs.</p> <p><pre><code>M3426 G2 C1 I1 A110     ;First sensor command\nM3426 G2 C2 I1 A110     ;Second sensor command\n</code></pre> When at ambient pressure, the response from each sensor should look something like this:</p> <pre><code>V:29800 C:1 G:2 I:1\n</code></pre> <p>Make sure the <code>V</code> value is about <code>29800</code>. Don't worry if it's not exact. As long as it's within <code>500</code> of <code>29800</code>, it's an acceptable value. If both sensors return an acceptable value, proceed to the next step.</p> <p>Sensor Address</p> <p>Note that in the above code snippet, the line <code>M3426 G4 C1 I1 A110</code> uses <code>A110</code> to specify which sensor to read from. Due to the way the sensors are programmed by their manufacturer, the address of the sensor can vary. If <code>A110</code> doesn't work for you, try testing each value from <code>0</code> to <code>7</code> to see which address is correct for your sensors.<sup>1</sup></p> </li> <li> <p>Next, check the sensor readings when connected to the pneumatic system. Push the vacuum line onto the <code>VAC1</code> sensor.</p> </li> <li>Install the N045 nozzle tip onto the nozzle.</li> <li> <p>Next, turn on the pump for nozzle 1 and its valve using these commands:</p> <pre><code>M106                  ;turn on pump 1\nM106 P1 S255          ;turn on valve 1\n</code></pre> </li> <li> <p>With the pump and valve on, read the pressure from the first vacuum sensor:</p> <pre><code>M3426 G2 C1 I1 A110\n</code></pre> <p>You should read a value of about <code>15500</code>. Don't worry if it's not exact. As long as it's within <code>13000</code> - <code>18000</code>, it's an acceptable value. Record this number.</p> </li> <li> <p>Now, cover the tip of the nozzle with your finger and re-run the command. Make sure the pump and valve are still running. Record this number. Turn off the pump and valve using the following commands:</p> <pre><code>M107                  ;turn off the pump\nM107 P1               ;turn off the valve\n</code></pre> <p>You should read a value that is around <code>2000</code> less than the uncovered value. Record this number.</p> </li> <li> <p>Remove the vacuum tube from <code>VAC1</code> and install it onto <code>VAC2</code>.</p> </li> <li>Repeat steps 9, 10, and 11 again to check the second sensor. You'll need to use <code>M3426 G2 C2 I1 A110</code> to read the pressure from the second sensor instead of the first.</li> <li>Remove the vacuum tube from <code>VAC2</code> and install it back onto <code>VAC1</code>.</li> <li>If any of the sensor values were not in the acceptable range, re-assess the soldering joints of the interposer board onto the motherboard and make sure they're all connected with a solid joint. If you are still unable to get a good reading, please reach out to our support line and we'll make sure you get up and running.</li> </ol> <ol> <li> <p>See this change to Marlin and the manufacturer's data sheet for more details.\u00a0\u21a9</p> </li> </ol>"},{"location":"guides/ring-light-settings/","title":"Change Ring Light Brightness","text":"<p>For bottom vision operations, we recommend keeping your ring light at full brightness, and keeping your camera's exposure low. We've found this helps remove the likelihood that other light sources in the room will affect your vision pipeline. However, some users have mentioned that lowering the brightness of the ring light has helped them get more consistent vision operations.</p> <p>This is a guide for adjusting the brightness of your ring lights for all operations. </p>"},{"location":"guides/ring-light-settings/#universal-brightnesscolor-adjustment","title":"Universal Brightness/Color Adjustment","text":"<ol> <li>Go to <code>Machine Setup</code> &gt; <code>Drivers</code> &gt; <code>GcodeDrivers</code> &gt; <code>Gcode Tab</code> &gt; <code>Head Mountable</code>: <code>Actuator [No Head] LED</code> &gt; <code>Setting</code>: <code>ACTUATE_BOOLEAN_COMMAND</code>.    </li> <li>You should see something like <code>{True:M150 P255 R255 U255 B255}{False:M150 P0}</code>.<ol> <li><code>P255</code> = Brightness value, Adjust this value from 0 to 255 to change the amount of brightness the LED outputs</li> <li><code>R255</code> = Red value, Adjust this value from 0 to 255 to change the amount of red in the LED</li> <li><code>U255</code> = Green value, Adjust this value from 0 to 255 to change the amount of green in the LED</li> <li><code>B255</code> = Blue value, Adjust this value from 0 to 255 to change the amount of blue in the LED</li> </ol> </li> <li>Adjust these values in the <code>ACTUATE_BOOLEAN_COMMAND</code> to manipulate the LED output, then hit <code>Apply</code>.</li> <li>Check out Marlin's M150 command documentation for more information.</li> </ol>"},{"location":"guides/second-tool/","title":"Second Nozzle Upgrade Guide","text":"<p>If you built a V2 LumenPnP with only one nozzle, follow this guide to install a second one. Note that there have been subtle design changes to the 3D printed parts that attach components to the staging plate. The photos in this guide will show v2 components.</p>"},{"location":"guides/second-tool/#required-materials","title":"Required Materials","text":"<p>Download the LumenPnP BOM from the most recent release for specifications and links to purchase hardware for the upgrade:</p> Qty Off The Shelf Parts 1 pump-mount (3D Printed) 2 rubber-band 1 Vacuum Pump 1 Pump Wire Harness 1 Solenoid Valve 1 pneumatic-y-adapter 1 Pneumatic Adapter MS4M-M5 1 NEMA11 Hollow Shaft Stepper 1 CP40 Holder 1 R Motor Cable Harness 1 Stepper Motor Driver 325mm Pneumatic Tubing 6mm OD 2025mm Pneumatic Tubing 4mm OD 2 M3x8 machine screw 2 M3x10 machine screw 1 M3x30 machine screw 4 M2.5x8 machine screw 3 M3 Hex Nuts"},{"location":"guides/second-tool/#installing-the-tool-head","title":"Installing the Tool Head","text":"<ol> <li>Attach the the prepared NEMA11 hollow shaft stepper motor (with the attached CP40 nozzle holder) to the right Z gantry with four M2.5x8mm screws. Make sure the wire port is facing outwards as shown below.   </li> </ol>"},{"location":"guides/second-tool/#installing-the-pneumatics","title":"Installing the Pneumatics","text":"<p>The new tool will need a new vacuum pump and valve. This will be mostly the same assembly as the components for the first toolhead. The main differences will be that we will mount the electronics at different places on the staging plate, and and plug them into different connections on the motherboard.</p> <ol> <li> <p>Start by press-fitting two M3 nuts into the side recesses in the Pump Mount. { start=2 }   </p> </li> <li> <p>Mount the pump in the Pump Mount using a couple rubber bands. Start by grabbing the rubber band with both hands, giving it a half twist, and folding it over on itself, making two loops.    </p> </li> <li> <p>Stretch each rubber band over each pair of pegs on the Pump Mount. Guide the pump between each pair of bands so that it's suspended in the Pump Mount.    </p> </li> <li> <p>Mount the Pump Mount to the staging plate using two M3 x 10mm screws. For example: G31 and G33 for the first tool head vacuum pump, and C31 and C33 for the new vacuum pump. (Note, the second photo below shows the newer, v3 LumenPnP pump mount, but you can opt to use the older v2 mount instead.)    </p> </li> <li> <p>Use two M3x8mm screws to attach the valve to the Valve Mount as shown below. (Note, the third photo below shows the newer, v3 LumenPnP valve mount, but you can opt to use the older v2 mount instead.)    </p> </li> <li> <p>Use an M3x30mm screw and an M3 nut to mount the pneumatic Y splitter to the staging plate as shown below. Example locations are B12 and D12 for the two splitters. (Note, the second photo below shows the newer v3 LumenPnP splitter mount, but you can opt to mount the splitter directly to the staging plate instead.)    </p> </li> </ol>"},{"location":"guides/second-tool/#connecting-the-pneumatics-and-wires","title":"Connecting the Pneumatics and wires","text":"<ol> <li> <p>The origin of vacuum in the machine is our vacuum pump. The off-center port is the one that provides vacuum. Use about 95mm of the 6mm clear tubing and push it onto the off-center port on the vacuum pump. Push the other end onto the inline plastic port of the valve as shown below.    </p> </li> <li> <p>Use a 230mm section of the 6mm clear tubing and push it onto the right-angle plastic port of the valve, and push the other side into the single, larger port of the Y splitter.    </p> </li> <li> <p>Switch to using the smaller, 4mm black tubing. Cut a 225mm length of 4mm OD tubing and push one side into a fork of the Y splitter, and route the other end underneath the motherboard and onto the <code>VAC2</code> sensor port. Gently press the tube onto the vacuum sensor.    </p> </li> <li> <p>Now take 1.8 meters of 4mm black tubing and push it into the other fork of the Y splitter. Take the loose end, and route it underneath the motherboard.</p> </li> <li> <p>Route both the black tubing and the wire for the new toolhead up along the X umbilical. Attach them with new zip ties, or slip it inside your existing ones, alongside the first tool head's tubing and wires.   </p> </li> <li> <p>With the pneumatic tubing dangling loose past the end of the swivel arm, cut any excess tubing (still allowing some slack for motor rotation). Push the other end into the pneumatic coupling on the back side of the rotation stepper motor. Extra slack will allow the motor to rotate freely 180 degrees in each direction, so err on the side of leaving more than less. If the tubing falls away from the umbilical, use one or two small zip ties to secure them together.   </p> </li> <li> <p>Plug the cable into the new tool motor. Make sure it has enough slack so that it isn't strained if the tool is raised or lowered.   </p> </li> <li> <p>Plug the new cable (labeled <code>RM</code>) into the first port in the second row, labeled <code>R</code>. (Note this image shows a Rev 4 motherboard, but the connector is in the same place on the Rev 3 motherboard.)     </p> </li> <li> <p>Install the new stepper motor driver into the slot below your cable. The orientation should match your other drivers.</p> <p>Note</p> <p>It is very important to not plug in or unplug stepper motor drivers or motors while the board is powered on. Make sure to unplug the power supply before inserting or removing drivers or motors.</p> <p></p> </li> </ol>"},{"location":"guides/second-tool/#configuring-openpnp","title":"Configuring OpenPnP","text":"<p>With the hardware set up, we need to tell OpenPnP about the newly installed toolhead.</p>"},{"location":"guides/second-tool/#add-z-axis","title":"Add Z-axis","text":"<ol> <li>Select the <code>Machine Setup</code> tab</li> <li>Click the <code>Expand</code> checkbox if necessary</li> <li>Click on <code>Axes</code></li> <li>Click on the Add button</li> <li>Select <code>ReferenceMappedAxis</code> and click <code>Accept</code></li> <li>Configure the new axis with the following settings:</li> <li>Type: <code>Z</code></li> <li>Name: <code>z2</code></li> <li>Input Axis: <code>z1</code> (or whatever you had named your original Z axis)</li> <li>Map Point A: Input: <code>0</code></li> <li>Map Point A: Output: <code>63</code></li> <li>Map Point B: Input: <code>63</code></li> <li>Map Point B: Output: <code>0</code></li> <li>Click <code>Apply</code> to save the changes</li> </ol>"},{"location":"guides/second-tool/#add-rotation-axis","title":"Add Rotation Axis","text":"<ol> <li>Click on the Add button</li> <li>Select <code>ReferenceControllerAxis</code> and click <code>Accept</code></li> <li>Configure the new axis with the following settings:<ol> <li>Type: <code>Rotation</code></li> <li>Name: <code>b</code></li> <li>Driver: <code>GcodeDriver</code></li> <li>Axis Letter: <code>B</code></li> <li>Switch Linear &lt;&gt; Rotational: Checked</li> <li>Home Coordinate: <code>0</code></li> <li>Resolution [Millimeters]: <code>0.0001</code></li> <li>Steps / Millimeter: <code>10000</code></li> <li>Limit to Range: Checked</li> <li>Wrap Around: Unchecked</li> <li>Soft Limit Low: <code>-180</code></li> <li>Soft Limit Low Enabled: Unchecked</li> <li>Soft Limit High: <code>180</code></li> <li>Soft Limit High Enabled: Unchecked</li> <li>Feed Rate [/s]: <code>50000</code></li> <li>Acceleration [/s2]: <code>500</code></li> <li>Jerk [/s3]: <code>2000</code></li> </ol> </li> <li>Click <code>Apply</code> to save the changes</li> </ol>"},{"location":"guides/second-tool/#add-2nd-vacuum","title":"Add 2nd Vacuum","text":"<ol> <li>Click on <code>Heads &gt; ReferenceHead H1 &gt; Actuators</code></li> <li>Click on the Add button</li> <li>Select <code>ReferenceActuator</code> and click <code>Accept</code></li> <li>Configure the new Actuator with the following settings:<ol> <li>Driver: <code>GcodeDriver</code></li> <li>Name: <code>VAC2</code></li> <li>Axis X: <code>x</code></li> <li>Axis Y: <code>y</code></li> <li>Axis Z: <code>z2</code></li> <li>Axis Rotation: <code>b</code></li> <li>Offset X: <code>0</code></li> <li>Offset Y: <code>0</code></li> <li>Offset Z: <code>0</code></li> <li>Offset Rotation: <code>0</code></li> <li>Axis Interlock?: Unchecked</li> <li>Safe Z: <code>30</code></li> <li>Before Actuation: Checked</li> <li>After Actuation: Unchecked</li> <li>Before Read?: Checked</li> <li>Value Type: <code>Boolean</code></li> <li>Actuation Enabled: <code>AssumeUnknown</code></li> <li>Actuation Homed: <code>LeaveAsIs</code></li> <li>Actuation Disabled: <code>LeaveAsIs</code></li> <li>Index: <code>0</code></li> </ol> </li> <li>Click <code>Apply</code> to save the changes</li> </ol>"},{"location":"guides/second-tool/#add-2nd-nozzle","title":"Add 2nd Nozzle","text":"<ol> <li>Click on <code>Nozzles</code></li> <li>Click on the Add button</li> <li>Select <code>ReferenceNozzle</code> and click <code>Accept</code></li> <li>Configure the new Nozzle with the following settings:<ol> <li>Name: <code>N2</code></li> <li>Axis X: <code>x</code></li> <li>Axis Y: <code>y</code></li> <li>Axis Z: <code>z2</code></li> <li>Axis Rotation: <code>b</code></li> <li>Offset X: <code>25.692</code></li> <li>Offset Y: <code>-66.460</code></li> <li>Offset Z: <code>0</code></li> <li>Offset Rotation: <code>0</code></li> <li>Rotation Mode: <code>LimitedArticulation</code></li> <li>Safe Z: <code>30</code></li> <li>Dynamic Safe Z: Checked</li> <li>Pick Dwell Time (ms) <code>0</code></li> <li>Place Dwell Time (ms) <code>0</code></li> </ol> </li> <li>Switch to the <code>Nozzle Tips</code> tab</li> <li>Mark all the nozzle tips as Compatible</li> <li>Switch to the <code>Vacuum</code> tab</li> <li>Set the Vacuum Actuator to <code>VAC2</code></li> <li>Leave the Blow Off Actuator blank</li> <li>Set the Sensing Actuator to <code>VAC2</code></li> <li>Click <code>Apply</code> to save the changes</li> </ol>"},{"location":"guides/second-tool/#fine-tuning","title":"Fine Tuning","text":"<ol> <li>Attach a nozzle to your new second tool head</li> <li>Set your new nozzle's offset.</li> <li>Try homing your machine again. If you get the <code>Nozzle tip calibration: not enough results from vision. Check pipeline and threshold</code> error, you will need to tune your Bottom Camera Vision Pipeline.</li> <li>Test picking components out of your feeders. Follow the instructions in the FTP guide. Make sure to activate your newly created tool head, and assign a nozzle tip to it.</li> </ol>"},{"location":"guides/tuning-sensorless/","title":"Tune Sensorless Homing","text":"<p>If your machine is homing the X or Y axis too early, or not registering that it's hit the end of travel, use this guide to tune sensorless homing.</p> <p>M914 Command</p> <p>Sensorless homing sensitivity is set using the M914 Gcode command. For more information, check out Marlin's M914 documentation.</p> <ol> <li>Connect to your machine.</li> <li>In OpenPnP, navigate to <code>Machine Setup</code> &gt; <code>Drivers</code> &gt; <code>GcodeDriver</code> &gt; <code>Gcode Tab</code> &gt; <code>Setting</code>: <code>CONNECT_COMMAND</code>.</li> <li>Find the line of Gcode starting with <code>M914</code>. Find the number after the axis you're trying to tune. This number is your starting point.</li> <li>Now, navigate to <code>Machine Setup</code> &gt; <code>Drivers</code> &gt; <code>GcodeDriver</code> &gt; <code>Console</code>.    </li> <li>Test homing the axis in question by sending a line of Gcode with the console. For the X axis, send <code>G28 X</code>. For the Y axis, send <code>G28 Y</code>.</li> <li>If the axis doesn't reach the end of travel and \"homes\" too early, we need to make homing less sensitive. This is done by lowering the value in the M914 command.<ol> <li>In the Console, send <code>M914 &lt;AXIS&gt;&lt;NEW_VALUE&gt;</code> where <code>&lt;AXIS&gt;</code> is either <code>X</code> or <code>Y</code>, and <code>&lt;NEW_VALUE&gt;</code> is slightly less than the starting point number you found in your <code>CONNECT_COMMAND</code>. For example, <code>M914 X35</code>.</li> <li>Try homing the axis again.</li> <li>If it still homes too early, repeat setting the value lower and rehoming until it homes correctly.</li> </ol> </li> <li>If the axis reaches the end of travel and doesn't stop moving the motors, we need to make homing more sensitive. This is done by raising the value in the M914 command.<ol> <li>When Marlin fails to home an axis after a certain amount of time, it halts as a safety precaution. You might need to reset your LumenPnP and reconnect to continue.</li> <li>In the Console, send <code>M914 &lt;AXIS&gt;&lt;NEW_VALUE&gt;</code> where <code>&lt;AXIS&gt;</code> is either <code>X</code> or <code>Y</code>, and <code>&lt;NEW_VALUE&gt;</code> is slightly more than the starting point number you found in your <code>CONNECT_COMMAND</code>. For example, <code>M914 X45</code>.</li> <li>Try homing the axis again.</li> <li>If it still doesn't home correctly, repeat setting the value higher and rehoming until it homes correctly.</li> </ol> </li> <li>After you've found good values, add the new values to your <code>CONNECT_COMMAND</code> in the format <code>M914 X&lt;NEW_VALUE&gt; Y&lt;NEW_VALUE&gt;</code>. If there's already a line with <code>M914</code> in your <code>CONNECT_COMMAND</code>, edit that one instead.    </li> <li>Hit \"Apply\" to save your changes. The new sensorless values will be applied the next time you connect to your machine from OpenPnP.</li> </ol>"},{"location":"guides/update-firmware/","title":"Update LumenPnP Firmware","text":""},{"location":"guides/update-firmware/#update-lumenpnp-firmware","title":"Update LumenPnP Firmware","text":"<p>All motherboards come pre-flashed with firmware from Opulo and should work out of the box without these steps. If you need to update your LumenPnP's firmware, this guide will help you do so.</p> <p>Update your LumenPnP's motherboard using the STM32CubeProgrammer software by ST.</p> <ol> <li> <p>Download the latest precompiled firmware <code>.bin</code> file for your machine version.</p> </li> <li> <p>Download and install STM32CubeProgrammer.</p> <p>Linux Users</p> <p>If you're using Linux, you'll need to do a couple steps before programming.</p> </li> <li> <p>Open STM32CubeProgrammer.</p> </li> <li>Select <code>USB</code> from the connection type dropdown on the right.     </li> <li> <p>Click on the download tab in the sidebar.     </p> </li> <li> <p>Attach the LumenPnP Motherboard to your computer with the included USB cable.</p> </li> <li> <p>Boot your motherboard into DFU Mode</p> <ol> <li>Press and hold the <code>BOOT</code> button</li> <li>Press the <code>Reset</code> button and hold for 10 seconds</li> <li>Release the <code>Reset</code> button and wait for 10 seconds</li> <li>Release the <code>BOOT</code> button   </li> </ol> <p>NOTE</p> <p>If you have a hard time getting your board to enter DFU mode, instead try unplugging both USB and the barrel jack, holding the 'BOOT' button, plugging in USB and the barrel jack, waiting 10 seconds, then releasing the <code>BOOT</code> button.</p> <p>If you're on Windows, try uninstalling STM32CubeProgrammer and reinstalling. This will also reinstall the USB drivers which can fix connection issues.</p> </li> <li> <p>Click the refresh button in the <code>Port</code> line to detect the motherboard's port.     </p> </li> <li> <p>Select the newly discovered USB port from the <code>Port</code> dropdown menu.     </p> </li> <li> <p>Double-check the other fields on the right match the image above:</p> <ol> <li><code>PID: 0xdf11</code></li> <li><code>VID: 0x0483</code></li> <li><code>Read Unprotect (MCU): Unchecked</code></li> <li><code>TZEN Regression (MCU): Unchecked</code></li> </ol> </li> <li> <p>Click the green <code>Connect</code> button to connect to the motherboard.     </p> </li> <li> <p>Delete all the flash on the chip by clicking the \"Full Chip Erase\" button.     </p> <p>This might take a while</p> <p>Erasing all the flash on the chip takes a few minutes. Wait until you see a confirmation pop-up that the process is complete before continuing.</p> </li> <li> <p>Click the <code>Browse</code> button and select the firmware image you downloaded earlier.     </p> </li> <li> <p>Click the <code>Start Programming</code> button to upload the firmware to the motherboard.     </p> </li> <li> <p>Wait until the confirmation pop-up appears that the process has completed.     </p> </li> <li> <p>Press the <code>reset</code> button on the motherboard to reboot it.</p> </li> <li> <p>The machine should show up as a COM/Serial Port on your PC now, and you should be able to access it via OpenPNP. If it doesn't, press the Reset button on the board again, or power-cycle the machine after the flashing is completed.</p> </li> </ol>"},{"location":"guides/update-firmware/#compile-marlin-for-developers","title":"Compile Marlin (For Developers)","text":"<p>As of this writing (April 2025) the LumenPnP dev team is waiting for an official 2.1.3 Marlin release. Because of how the configuration files are structured and updated with the project, we're building firmware out of a branch until the official release occurs. If you have questions about versions and compiling, please join the LumenPnP Discord Server and we'll help you get it built correctly.</p>"},{"location":"guides/update-firmware/#environment-setup-and-compiling","title":"Environment Setup and Compiling","text":"<ol> <li>Download the <code>rev05</code> branch in the <code>sphawes/Marlin</code> fork of Marlin, found here.</li> <li>Install VSCode and its PlatformIO extension.</li> <li> <p>Open Marlin firmware's folder in VSCode.</p> <p></p> </li> <li> <p>Replace the <code>Configuration.h</code> and <code>Configuration_adv.h</code> files in the <code>Marlin/Marlin</code> folder with config files of the same name in any of the config folders located in the <code>Marlin/Marlin</code> folder.</p> </li> <li> <p>Select the board you're compiling for. This can be selected by clicking the \"env:???????? (marlin)\" text in the bottom menu bar, typing the name of the board in the search bar, and clicking the board you want.</p> <p> </p> </li> <li> <p>Test compiling. this can be done by clicking the checkbox in the bottom icon menu.</p> <p></p> </li> <li> <p>After you have Marlin compiling, begin making your edits. Many changes can be done in the <code>Configuration.h</code> and <code>Configuration_adv.h</code> files, especially for wide body mods, default acceleration and speeds, switching to endstops, and other basic config changes.</p> </li> </ol>"},{"location":"guides/update-firmware/#uploading","title":"Uploading","text":"<ol> <li>Attach the LumenPnP Motherboard to your computer with the included USB cable (USB C to A for Motherboard 3.0, or USB B to A for Motherboard 4.0).</li> <li> <p>Boot your motherboard into DFU Mode</p> <ol> <li>Press and hold the <code>BOOT</code> button</li> <li>Press the <code>Reset</code> button and hold for 10 seconds</li> <li>Release the <code>Reset</code> button and wait for 10 seconds</li> <li>Release the <code>BOOT</code> button </li> </ol> <p>NOTE</p> <p>If you have a hard time getting your board to enter DFU mode, instead try powering off the machine entirely, holding the 'BOOT' button, plugging in power, waiting 10 seconds, then release the <code>BOOT</code> button.</p> </li> <li> <p>Upload firmware to the board.</p> <ol> <li> <p>via PlatformIO:</p> <p></p> </li> <li> <p>via <code>dfu-util</code> command line utility. PlatformIO puts the built binary in <code>Marlin/.pio/build/BOARD_NAME/firmware.bin</code>.</p> <pre><code>dfu-util -d 0x0483:0xdf11 -s 0x08000000:leave -a 0 -D ~/path/to/firmware.bin\n</code></pre> </li> <li> <p>via STM32CubeProgrammer (process shown above)</p> </li> </ol> </li> <li> <p>When finished, press the reset button on the motherboard to boot the new firmware.</p> </li> <li> <p>The machine should show up as a COM/Serial Port on your PC now, and you should be able to access it via OpenPNP. If it doesn't, press the Reset button on the board, or power-cycle the machine after the flashing is completed.</p> </li> </ol>"},{"location":"guides/update-firmware/#troubleshooting","title":"Troubleshooting","text":"<p>If you aren't able to upload, you can check to see if your motherboard is booting into DFU mode correctly:</p> <ul> <li>Windows:</li> </ul> <p></p> <ul> <li>Mac/Linux:</li> </ul> <p></p> <p>Also, reference the Marlin instructions for uploading.</p>"},{"location":"guides/update-gcode-macros/","title":"Update Gcode Macros","text":"<p>OpenPnP puts general machine configuration in the same file as machine-specific configuration. This means that updating settings for your LumenPnP can also force you to redo calibration. To prevent this, this guide will walk you through which GCode macros to update so you don't need to start from scratch on calibration.</p> <p>If you're setting up your machine for the first time, you don't need to do this. This guide is only for folks that are looking to update their machine config, but set up their machine using an older version of the configuration files.</p> <p>OpenPnP Version</p> <p>Be sure that you're using the recommended version of OpenPnP for this guide. You can find installation instructions here.</p> <p>Firmware Version</p> <p>These macros require that your firmware is up to date with the latest firmware release for your machine. Make sure you're up to date.</p>"},{"location":"guides/update-gcode-macros/#v31-machines","title":"v3.1+ Machines","text":"<p>Version 3.1 and upward of the LumenPnP uses linear rails, so speeds and currents can be adjusted for faster movement. The four GCode macros that we'll edit to take advantage of these improvements are the <code>CONNECT_COMMAND</code>, <code>HOME_COMMAND</code>, and the <code>ACTUATOR_READ_COMMAND</code> for <code>VAC1</code> and <code>VAC2</code>.</p>"},{"location":"guides/update-gcode-macros/#connect-command-v31","title":"Connect Command (v3.1+)","text":"<ol> <li> <p>Select the <code>Default</code> and <code>CONNECT_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>G90 ; Set absolute positioning mode\nM260 A112 B1 S1 ; Selecting VAC1 through the I2C multiplexer\nM260 A109 ; Starts Command to VAC sensor at address 109\nM260 B48 ; Address Byte 48 selects CMD register\nM260 B27 ; Sends byte to select 62.5 sleep time, SCO, sleep mode conversion (0001 1 011)\nM260 S1 ; Sends data\nM260 A112 B2 S1 ; Selecting VAC2 through the I2C multiplexer\nM260 A109 ; Starts Command to VAC sensor at address 109\nM260 B48 ; Address Byte 48 selects CMD register\nM260 B27 ; Sends byte to select 62.5 sleep time, SCO, sleep mode conversion (0001 1 011)\nM260 S1 ; Sends data\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> </ol>"},{"location":"guides/update-gcode-macros/#home-command-v31","title":"Home Command (v3.1+)","text":"<ol> <li> <p>Select the <code>Default</code> and <code>HOME_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>M204 T2000 ; Sets acceleration for homing\nG28 X ; Home X in case of first boot\nG28 ; Home all axes\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> </ol>"},{"location":"guides/update-gcode-macros/#vac1-and-vac2-actuator-read-commands-v31","title":"VAC1 and VAC2 Actuator Read Commands (v3.1+)","text":"<ol> <li> <p>Select the <code>Actuator: H1 VAC1</code> and <code>ACTUATOR_READ_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>M260 A112 B1 S1 ; Select vac1 through multiplexer\nM260 A109 B6 S1 ; Selects MSB register\nM261 A109 B1 S2 ; Request one byte back via decimal\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> <li> <p>Select the <code>Actuator: H1 VAC2</code> and <code>ACTUATOR_READ_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>M260 A112 B2 S1 ; Select vac1 through multiplexer\nM260 A109 B6 S1 ; Selects MSB register\nM261 A109 B1 S2 ; Request one byte back via decimal\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> </ol>"},{"location":"guides/update-gcode-macros/#v30-machines","title":"v3.0 Machines","text":"<p>Version 3.0.0 - 3.0.5 of the LumenPnP uses the REV04 motherboard, which uses integrated vacuum sensors and sensorless homing. The four GCode macros that we'll edit to take advantage of these improvements are the <code>CONNECT_COMMAND</code>, <code>HOME_COMMAND</code>, and the <code>ACTUATOR_READ_COMMAND</code> for <code>VAC1</code> and <code>VAC2</code>.</p>"},{"location":"guides/update-gcode-macros/#connect-command-v30","title":"Connect Command (v3.0)","text":"<ol> <li> <p>Select the <code>Default</code> and <code>CONNECT_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>G90 ; Set absolute positioning mode\nM260 A112 B1 S1 ; Selecting VAC1 through the I2C multiplexer\nM260 A109 ; Starts Command to VAC sensor at address 109\nM260 B48 ; Address Byte 48 selects CMD register\nM260 B27 ; Sends byte to select 62.5 sleep time, SCO, sleep mode conversion (0001 1 011)\nM260 S1 ; Sends data\nM260 A112 B2 S1 ; Selecting VAC2 through the I2C multiplexer\nM260 A109 ; Starts Command to VAC sensor at address 109\nM260 B48 ; Address Byte 48 selects CMD register\nM260 B27 ; Sends byte to select 62.5 sleep time, SCO, sleep mode conversion (0001 1 011)\nM260 S1 ; Sends data\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> </ol>"},{"location":"guides/update-gcode-macros/#home-command-v30","title":"Home Command (v3.0)","text":"<ol> <li> <p>Select the <code>Default</code> and <code>HOME_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>M204 T2000 ; Sets acceleration for homing\nG28 X ; Home X in case of first boot\nG28 ; Home all axes\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> </ol>"},{"location":"guides/update-gcode-macros/#vac1-and-vac2-actuator-read-commands-v30","title":"VAC1 and VAC2 Actuator Read Commands (v3.0)","text":"<ol> <li> <p>Select the <code>Actuator: H1 VAC1</code> and <code>ACTUATOR_READ_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>M260 A112 B1 S1 ; Select vac1 through multiplexer\nM260 A109 B6 S1 ; Selects MSB register\nM261 A109 B1 S2 ; Request one byte back via decimal\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> <li> <p>Select the <code>Actuator: H1 VAC2</code> and <code>ACTUATOR_READ_COMMAND</code> dropdowns under <code>Machine Setup &gt; Drivers &gt; GcodeDriver GcodeDriver &gt; Gcode</code>.    </p> </li> <li> <p>Paste the following Gcode into the text field:</p> <pre><code>M260 A112 B2 S1 ; Select vac1 through multiplexer\nM260 A109 B6 S1 ; Selects MSB register\nM261 A109 B1 S2 ; Request one byte back via decimal\n</code></pre> </li> <li> <p>Click the <code>Apply</code> button in the bottom right.</p> </li> </ol>"},{"location":"misc/auto-toolchanger/","title":"Automatic Toolchanger Calibration","text":"<p>Almost all of the jobs that can be run on a LumenPnP are possible using just an <code>N045</code> nozzle tip on the first nozzle, and an <code>N24</code> nozzle tip on the second. This means that a nozzle tip swap is very rarely needed.</p> <p>If your job requires more than three nozzle tips, by default OpenPnP will pause a job and wait for you to manually change a nozzle tip. OpenPnP also has an option to enable automatic tool changing. Perform the following optional steps for each of the nozzle tips you'll be switching between. We recommend reading the OpenPnP Wiki page about this as well.</p> <p>Warning</p> <p>This procedure is finicky and prone to error. Ensure your brass nozzle holders are sufficiently lubricated with the included lubrication packet, and you set your speeds very low for insertion and removal movements. We highly recommend optimizing your job for just two nozzle tips, or doing a manual nozzle tip swap if absolutely necessary.</p> <ol> <li> <p>Insert the labeled nozzle tips into the holder in their respectively labeled slots.</p> </li> <li> <p>Apply some lubricant to the end of your nozzle holder with the lubrication packet included with your nozzles. This is important for repeatably fully attaching the nozzles without damaging the rubber O-rings around the holder.   </p> </li> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane.   </p> </li> <li> <p>Click on the \"Expand\" checkbox to open all of the features about your machine.   </p> </li> <li> <p>Select the nozzle you're working with. For example: <code>Nozzle Tips &gt; ReferenceNozzleTipN045</code> </p> </li> <li> <p>Select the <code>Tool Changer</code> tab.   </p> </li> </ol>"},{"location":"misc/auto-toolchanger/#capturing-positions","title":"Capturing Positions","text":"<p>Now we can start capturing positions. Automatic nozzle changing works by replaying four position commands either forward or backward to load or unload a nozzle tip, respectively. We're going to start with the last position, because it's easiest for getting our Z height correct. Note that the instructions below are for the N045 nozzle tip, but you should use whichever tip you're setting up.</p> <p>Warning</p> <p>Be careful not to crash your nozzle tip or toolhead into any of the components mounted on your staging plate, especially the nozzle holder. Be especially careful if you have high amounts of backlash compensation, which can cause your tool head to move in unexpected directions when jogging to eliminate backlash. Be aware of your machine's Safe Z axis settings as well, as they can cause the tool head to raise between moves to avoid crashing, which may actually be undesirable here.</p> <ol> <li> <p>Install the N045 nozzle onto the tool head by hand.   </p> </li> <li> <p>Jog the nozzle until it is directly in front of the N045 slot in the tool changer.   </p> </li> <li> <p>Adjust the Z height until it's clear it'll slide into the rack.   </p> </li> <li> <p>Double-check the toolhead is aligned with the slot in the Y axis so that only a X movement would be necessary to slot it into place. It may be a good idea to test-fit the nozzle into the slot by jogging the X axis only.</p> </li> <li> <p>Capture the nozzle position for the <code>Last Location</code>.   </p> </li> <li> <p>Move the nozzle into the slot by jogging the X axis in 0.1mm increments. Try to ensure there's no lateral strain on the nozzle holder in the Y axis. Continue until the nozzle is fully slotted into the nozzle holder.   </p> </li> <li> <p>Capture the <code>Third Location</code> nozzle position.   </p> </li> <li> <p>The next position is for making sure that the nozzle tip is completely seated on the CP40 holder during insertion. Jog the Z axis down approximately two millimeters. The spring in the CP40 holder will take up these few millimeters to avoid damage to the tool head. You may find that a larger or smaller movement gets the nozzle tip seated completely, so feel free to experiment.   </p> </li> <li> <p>Capture the <code>Second Location</code> nozzle position.   </p> </li> <li> <p>Now jog the Z axis up 30 millimeters. This is the clearance position where the nozzle holder is getting ready for the plunge.   </p> </li> <li> <p>Capture the <code>First Location</code> nozzle position.   </p> </li> <li> <p>You can now play through the positions by clicking on the \"move nozzle to position\" buttons in order. Tune any values in the fields as necessary to ensure you get a clean and straight insertion.   </p> </li> <li> <p>Apply the changes to the tool changing positions.   </p> </li> <li> <p>Repeat the above steps for each of the nozzles you're using. See also the \"Cloning Settings\" section in the OpenPnP docs.</p> </li> </ol>"},{"location":"misc/auto-toolchanger/#enable-automatic-tool-changing","title":"Enable Automatic Tool Changing","text":"<p>Now that your positions are set, you can enable automatic tool changing in OpenPnP.</p> <ol> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane.   </p> </li> <li> <p>Click on the \"Expand\" checkbox if necessary.   </p> </li> <li> <p>Select <code>Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code>.   </p> </li> <li> <p>Switch to the <code>Tool Changer</code> tab.   </p> </li> <li> <p>Check the <code>Automatic Tool Changer Enabled?</code> box.   </p> </li> <li> <p>Click <code>Apply</code> to save your changes.   </p> </li> <li> <p>Select <code>Heads &gt; ReferenceHead H2 &gt; Nozzles &gt; ReferenceNozzle N2</code>.   </p> </li> <li> <p>Switch to the <code>Tool Changer</code> tab.   </p> </li> <li> <p>Check the <code>Automatic Tool Changer Enabled?</code> box.   </p> </li> <li> <p>Click <code>Apply</code> to save your changes.   </p> </li> </ol>"},{"location":"misc/backlash-compensation/","title":"Backlash Compensation","text":""},{"location":"misc/backlash-compensation/#calibrating-backlash-compensation","title":"Calibrating Backlash Compensation","text":"<p>This calibration is not needed. Semi-assembled (v3) LumenPnP machines should have only a limited amount of backlash in each axis and the default machine configuration in OpenPnP already applies a consistent, tested backlash compensation. We highly recommend using the settings below for your X and Y axes instead.</p> <p></p> <p>If you still want to perform this calibration, use the instructions below and read the OpenPnP docs page about automatic backlash compensation here.</p>"},{"location":"misc/backlash-compensation/#set-up-acceleration-control","title":"Set Up Acceleration Control","text":"<ol> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane.   </p> </li> <li> <p>Click on the \"Expand\" checkbox if necessary.   </p> </li> <li> <p>Select <code>GcodeDriver GcodeDriver</code> from the list.   </p> </li> <li> <p>Switch to the <code>gcode</code> tab.   </p> </li> <li> <p>Select <code>MOVE_TO_COMMAND</code> in the setting drop-down.   </p> </li> <li> <p>Paste the following into the large text box:   <pre><code>{Acceleration:M204 S%.2f}\nG1 {X:X%.4f} {Y:Y%.4f} {Z:Z%.4f} {A:A%.4f} {B:B%.4f} {FeedRate:F%.2f} ; move to target\n</code></pre> </p> </li> <li> <p>Click <code>Apply</code> to save your changes.   </p> </li> <li> <p>Switch to the <code>Driver Settings</code> tab.   </p> </li> <li> <p>Change the Motion Control Type to <code>ConstantAcceleration</code>. Note that you may want to change this back to <code>ToolpathFeedRate</code> when you're done running the backlash calibration.   </p> <p>Command Timeout</p> <p>You also might need to increase your <code>Command Timeout</code> value in this tab. Try increasing it to 10000 ms to ensure OpenPnP doesn't timeout during calibration.</p> </li> <li> <p>Click <code>Apply</code> to save your changes.   </p> </li> </ol>"},{"location":"misc/backlash-compensation/#running-the-calibration","title":"Running The Calibration","text":"<ol> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane.   </p> </li> <li> <p>Click on the \"Expand\" if necessary.   </p> </li> <li> <p>Click on <code>Axes &gt; ReferenceControllerAxisX</code>.   </p> </li> <li> <p>Select the <code>Backlash Compensation</code> tab.   </p> </li> <li> <p>Next, click the <code>Calibrate now</code> button. The machine will go through a long routine (between 5-15 minutes) where it measures the machine's backlash, and determines the best settings to account for it.</p> </li> <li> <p>When it's done, you'll see the output data from the calibration. We suggest selecting <code>OneSidedPositioning</code> for the Compensation Method, but experiment with the different options to see which gives you the best results.   </p> </li> <li> <p>Restart from step 10 with the Y axis selected.</p> </li> </ol>"},{"location":"misc/calibration/","title":"LumenPnP V3 Calibration - Introduction","text":"<p>V4 Users</p> <p>If you have a LumenPnP V4, these are not the correct steps for your machine. Please go here for the V4 Calibration steps</p> <p>V2 Users</p> <p>If you have a LumenPnP V2, you'll use these docs to set up your machine. We will point out any time there is something vital for V2 users to do. For this reason, it is highly recommended that you read these instructions thoroughly before attempting them. Please keep in mind that you can skip the second nozzle calibration because your machine only has one nozzle. There may be some steps that are slightly different because the docs assume you have a second nozzle. This may require you to perform additional nozzle tip swaps for certain calibrations that are not mentioned in the docs. This is because the V3 docs assume you have two nozzles. Reach out to support if you run into any issues along the way.</p>"},{"location":"misc/calibration/#what-youll-learn","title":"What you'll learn","text":"<p>This guide is focused on performing basic calibration for your LumenPnP V3. Specifically, it will test the motion system, calibrate the cameras to identify objects, and apply offsets to the toolhead for precise part picking and placing. These steps are usually only necessary when first setting up a LumenPnP V3 for the first time.</p> <p>Pick-and-place machines are complicated and require extensive calibration to work correctly. OpenPnP is a large piece of software that can take time to learn. Please note that learning the software and calibrating your machine can take many hours, and that time should be set aside for getting everything honed in.</p> <p>We provide these docs, the walkthrough video, and default configuration files to make the process as straightforward as possible, but if you notice things that we can be doing to make the process easier, please do not hesitate to let us know by making a Github Issue.</p> <p>Important</p> <p>It is important that you complete these calibration steps in order. Each calibration step relies on the steps that come before, so it's imperative that you complete them in the order we have them listed.</p>"},{"location":"misc/calibration/#save-your-settings","title":"Save Your Settings","text":"<p>Save your settings after each calibration step. OpenPnP may not remember your settings if you close the application without saving them, so save them every time you adjust your calibration.</p> <p></p>"},{"location":"misc/calibration/#different-calibration-methods","title":"Different calibration methods","text":"<p>OpenPnP has a feature called <code>Issues and Solutions</code> that tries to identify calibration tasks that need to be performed. Some users have reported success using this tool, but it is incongruent with the rest of these calibration steps and provided configuration files. This documentation explicitly aims to use the provided configuration files. We highly recommend using the provided configuration files and following this documentation. If you choose to use the <code>Issues and Solutions</code> tool instead, we recommend using the OpenPnP Wiki for reference.</p> <p>If you'd like to start from scratch with your setup, community member Qwertymodo has posted a very helpful video showing his process of doing calibration on his machine from scratch. This video is outdated, but it can help see how OpenPnP operates.</p>"},{"location":"misc/calibration/#what-youll-need","title":"What you'll need","text":"<ul> <li>A LumenPnP V3 with the mechanical and electrical build completed.</li> <li>A smooth, flat surface on which to operate your machine. Your LumenPnP V3 should always be used on a flat and hard surface.</li> </ul>"},{"location":"misc/calibration/#next-steps","title":"Next Steps","text":"<p>First, we'll connect to your LumenPnP V3 and configure your bottom camera.</p>"},{"location":"misc/calibration/10-vacuum-sensor/","title":"Vacuum Part Detection","text":"<p>When picking up parts with the LumenPnP, it\u2019s important to verify that a part has been successfully picked. While the bottom camera also confirms this visually, using the LumenPnP's vacuum sensors provides a faster way to detect a successful pick, preventing it from having to bring the component to the bottom camera first to detect the part. Because the bottom camera does checks the part, even if slightly slower, you can freely disable the vacuum part detection with confidence that you'll still be able to place your parts.</p>"},{"location":"misc/calibration/10-vacuum-sensor/#how-vacuum-part-detection-works","title":"How Vacuum Part Detection Works","text":"<p>When a part is picked up, it seals the nozzle opening, causing an increase in vacuum pressure within the pneumatic line. This change in pressure is measured by the vacuum sensors, and OpenPnP uses this data to determine whether a part has been successfully picked. With the nozzle tip covered, if the vacuum sensor value falls within the Vacuum Range low and high values, OpenPnP considers the part \"picked\".</p> <p>Each nozzle has a different vacuum reading due to variations in nozzle tip size. The exact numbers aren\u2019t critical as long as you understand how to set the high and low values correctly and adjust them accordingly. </p> <p>Disabling Vacuum Detection is an Option</p> <p>Vacuum Part detection is not required to use the LumenPnP because the bottom camera checks for a part before placing anyway. If you'd like to disable this feature, it's just a matter of setting \"Measurement Method\" to \"None\" on the relevant nozzle tip. Don't forget to <code>Apply</code> your settings and save your configuration before moving on. <code>Machine Setup &gt; Nozzle Tips &gt; Reference Nozzle Tip N## &gt; Part detection tab &gt; Measurement Method &gt; None</code></p> <p></p> <p></p>"},{"location":"misc/calibration/10-vacuum-sensor/#setting-up-vacuum-part-detection-for-nozzle-n1","title":"Setting Up Vacuum Part Detection for Nozzle: N1","text":"<ol> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N1 - N045 (Head:H1)</code> from the machine controls dropdown. </li> </ul> </li> <li> <p>Confirm the correct nozzle tip is installed.</p> <ul> <li>Ensure that the <code>N045</code> nozzle tip is securely attached to Nozzle: N1 (left toolhead). </li> </ul> </li> <li> <p>Position Nozzle: N1 for Accurate Readings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom &gt; Position tab</code></li> <li>Click the <code>Position the tool over the center of the location</code> button.</li> <li>This brings the <code>nozzle: N1</code> to the same Z height as the datum board, ensuring more consistent readings for the following steps. </li> </ul> </li> <li> <p>Open the Part Detection Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N045 &gt; Part Detection</code>. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure While Open.</p> <ul> <li>In <code>Machine Controls</code>, navigate to the <code>Actuators</code> tab.</li> <li>Select <code>H1:VAC1</code> to open the vacuum pressure window.</li> <li>Click <code>On</code> to activate the pump and valve.  </li> <li>Click <code>Read</code>. A value will appear in the <code>Read Value box</code>. This represents the vacuum pressure when the Nozzle: N1 is uncovered.</li> <li>Take note of this number. We will need it later. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure While Covered.</p> <ul> <li>Take one of the components from the strip of components included with your LumenPnP kit, or a component from your BOM that is an appropriate size for this nozzle, and hold it up to the nozzle tip. The vacuum pressure should be able to pick up and hold the part on its own.</li> <li>Click <code>Read</code> again. This represents the vacuum pressure when a part is picked, or \"covered\". </li> <li>Take note of the new value. We will also need it later.</li> <li>Click <code>Off</code> to deactivate the pump and valve.</li> <li>Close the <code>H1:VAC1</code> vacuum pressure window. </li> </ul> </li> <li> <p>Calculate the Detection Threshold.</p> <ul> <li>Find the midpoint between the uncovered and covered values. For example:<ul> <li>Uncovered: 220</li> <li>Covered: 200</li> <li>Midpoint: 210 \u2192 Enter this as the <code>High Value</code>. </li> </ul> </li> <li>Enter the calculated midpoint value into the Vacuum Range <code>High Value</code> field for the N045 nozzle tip.</li> <li>Ensure the <code>Low Value</code> is at least 10-20 units lower than the \"Midpoint\" reading. The default low value is 220, but if your readings are close to this number (like the example above), you may need to lower it further to avoid false detections. If your Midpoint value is 210, setting the <code>Low Value</code> to 190 (or lower) is a good starting point. </li> </ul> <p>Caution</p> <p>The difference between uncovered and covered readings may be small, but even a single-digit change can indicate a successful pick. Nozzle sizes affect these readings, so expect variations between nozzles.</p> <p></p> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes to the N045 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/10-vacuum-sensor/#setting-up-vacuum-part-detection-for-nozzle-n2","title":"Setting Up Vacuum Part Detection for Nozzle: N2","text":"<ol> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N2 - N24 (Head:H1)</code> from the machine controls dropdown. </li> </ul> </li> <li> <p>Confirm the correct nozzle tip is installed.</p> <ul> <li>Ensure that the <code>N24</code> nozzle tip is securely attached to Nozzle: N2(right toolhead). </li> </ul> </li> <li> <p>Position Nozzle: N2 for Accurate Readings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom &gt; Position tab</code></li> <li>Click the <code>Position the tool over the center of the location</code> button. </li> <li>This brings the <code>Nozzle: N2</code> to the same Z height as the datum board, ensuring more consistent readings for the following steps. </li> </ul> </li> <li> <p>Open the Part Detection tab.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N24 &gt; Part Detection</code>. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure.</p> <ul> <li>In <code>Machine Controls</code>, navigate to the <code>Actuators</code> tab.</li> <li>Select <code>H1:VAC2</code> to open the vacuum pressure window.</li> <li>Click <code>On</code> to activate the pump and valve. </li> <li>Click <code>Read</code>. A value will appear in the <code>Read Value box</code>. This represents the vacuum pressure when Nozzle: N2 is uncovered.</li> <li>Take note of this number. We will need it later. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure with a Sealed Nozzle.</p> <ul> <li>Take a component from your BOM that is an appropriate size for this nozzle and hold it up to the nozzle tip. The vacuum pressure should be able to pick up and hold the part on its own. If you do not have a component large enough for this nozzle tip, you may use your fingertip as a fallback. However, using an actual component will provide the most accurate results.</li> <li>Click <code>Read</code> again. This represents the vacuum pressure when a part is picked, or \"covered\". </li> <li>Take note of the new value. We will also need it later.</li> <li>Click <code>Off</code> to deactivate the pump and valve.</li> <li>Close the <code>H1:VAC2</code> vacuum pressure window. </li> </ul> </li> <li> <p>Calculate the Detection Threshold.</p> <ol> <li>Find the midpoint between the uncovered and covered values. For example:<ul> <li>Uncovered: 230</li> <li>Covered: 200</li> <li>Midpoint: 215 \u2192 Enter this as the <code>High Value</code>. </li> </ul> </li> <li>Enter the calculated midpoint value into the Vacuum Range <code>High Value</code> field for the N24 nozzle tip.</li> <li>Ensure the <code>Low Value</code> is at least 10-20 units lower than the \"Midpoint\" reading. The default low value is 220, but if your readings are close to this number(like the example above), you may need to lower it further to avoid false detections. If your Midpoint value is 215, setting the <code>Low Value</code> to 195 (or lower) is a good starting point. </li> </ol> <p>Don't forget</p> <p>The difference between uncovered and covered readings may be small, but even a single-digit change can indicate a successful pick. Nozzle sizes affect these readings, so expect variations between nozzles.</p> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes to the N24 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/10-vacuum-sensor/#for-lumenpnp-v2-machines-only","title":"For LumenPnP v2 Machines Only","text":"<p>Skip this section if you are not setting up a LumenPnP V2.</p> <p>v2 Interposers</p> <p>If you have a v2 machine, please check if you have interposer boards installed.</p> <ol> <li> <p>Select your GcodeDriver, then under the Gcode tab, select the <code>H1 VAC1</code> actuator, and select the <code>ACTUATOR_READ_COMMAND</code> setting.</p> </li> <li> <p>Make sure the following Gcode is present in the field:</p> <pre><code>M3426 G2 C1 I1 A110\n</code></pre> <p>Sensor Address</p> <p>In the above code snippet, the line <code>M3426 G4 C1 I1 A110</code> uses <code>A110</code> to specify which sensor to read from. Due to the way the sensors are programmed by their manufacturer, the address of the sensor can vary. If <code>A110</code> doesn't work for you, try testing each binary value from <code>0</code> to <code>7</code> (eg <code>000</code>, <code>001</code>, <code>010</code> etc) to see which address is correct for your sensors.</p> </li> <li> <p>With the same <code>H1 VAC1</code> actuator selected, now choose the <code>ACTUATOR_READ_REGEX</code> setting, and make sure the following is present in the field below:</p> <pre><code>^.*V:(?&lt;Value&gt;\\d+).*\n</code></pre> </li> <li> <p>Select your GcodeDriver, then under the Gcode tab, select the <code>H1 VAC2</code> actuator, and select the <code>ACTUATOR_READ_COMMAND</code> setting. Make sure the following Gcode is present in the field:</p> <pre><code>M3426 G2 C2 I1 A110\n</code></pre> </li> <li> <p>With the same <code>H1 VAC2</code> actuator selected, now choose the <code>ACTUATOR_READ_REGEX</code> setting, and make sure the following is present in the field below:</p> <pre><code>^.*V:(?&lt;Value&gt;\\d+).*\n</code></pre> </li> </ol>"},{"location":"misc/calibration/10-vacuum-sensor/#next-steps","title":"Next Steps","text":"<p>Next is Running Your First Job.</p>"},{"location":"misc/calibration/2-connect-to-machine/","title":"Connecting to Your LumenPnP V3 and Configure Bottom Camera","text":"<p>(V2 Users, you can use these docs for your machine as well. For anything specific to V2, we will add notes pointing it out).</p> <p>Now that OpenPnP is installed and the LumenPnP configuration files have been placed in the hidden system folder, OpenPnP can start with some basic preconfigured settings. The next step is to connect your LumenPnP and get familiar with OpenPnP\u2019s user interface..</p> <p>Then, we will install the N045 and N24 nozzle tips to help us with calibration.</p> <p>Finally, we will configure your bottom camera by establishing a connection to it, and setting the correct exposure.</p>"},{"location":"misc/calibration/2-connect-to-machine/#prepare-for-connection","title":"Prepare for Connection","text":"<p>Before launching OpenPnP, follow these guidelines to ensure a smooth connection:</p> <p>USB Connection Order Matters!</p> <p>Always plug in your LumenPnP\u2019s USB cable before launching OpenPnP. If OpenPnP is already open, close it before connecting the USB.</p> <p>Camera USB Ports</p> <p>Plug cameras directly into your computer using separate USB ports. Avoid USB hubs, as they may not provide enough bandwidth for the cameras.Use separate USB ports directly into your computer. The cameras require a lot of USB bandwidth, and many USB hubs aren't capable of handling it. For best results, make sure each camera is plugged into a different USB port directly into your computer, ideally on different internal USB hubs.</p>"},{"location":"misc/calibration/2-connect-to-machine/#connecting-to-your-lumenpnp-v3","title":"Connecting to Your LumenPnP V3","text":"<p>Follow these steps in order:</p> <p>Always Plug In Barrel Jack First</p> <p>Always plug in the barrel jack before USB power. This ensures the proper power up sequence for the LumenPnP motherboard. When plugging in the barrel jack, always make sure the USB type B connector is unplugged.</p> <ol> <li> <p>Ensure OpenPnP is closed.</p> </li> <li> <p>Power the LumenPnP by plugging in the barrel jack power cable.</p> </li> <li> <p>Connect the LumenPnP to your computer using the included USB cable.</p> </li> <li> <p>Connect both cameras using their USB cables.</p> </li> <li> <p>Launch OpenPnP. You should now see the OpenPnP user interface: </p> </li> </ol>"},{"location":"misc/calibration/2-connect-to-machine/#configuration-the-serial-port","title":"Configuration the Serial Port","text":"<p>Before OpenPnP can communicate with the LumenPnP, we need to set the correct serial port.</p> <ol> <li> <p>Open Machine Setup</p> <ul> <li>Click the <code>Machine Setup</code> tab, toward the top right section of OpenPnP. </li> </ul> </li> <li> <p>Expand the Configuration Trees</p> <ul> <li>Check the <code>Expand</code> checkbox toward the top right of OpenPnP to show all machine configuration options.</li> <li>This will expand all of the categories, and sub-categories, in the upper pane of <code>Machine Setup</code> and will require you to scroll to see all of the options mentioned below. </li> </ul> </li> <li> <p>Select the Gcode Driver</p> <ul> <li>In the upper pane, locate the newly expanded <code>Drivers</code> category and click on <code>GcodeDriver GcodeDriver</code>. </li> </ul> </li> <li> <p>Choose the Correct Port</p> <ul> <li>Under the <code>Serial Port</code> section in the <code>Configuration</code> tab, select the correct <code>Port</code> from the dropdown menu:<ul> <li>Linux: Select the <code>Port</code> formatted as <code>ttyACM#</code>. (Examples ttyACM0, ttyACM1, ttyACM2, etc.) </li> <li>Windows: The <code>Port</code> will be labeled as <code>COM#</code>. (Examples COM1, COM2, COM3, etc.)</li> <li>Mac: Look for a <code>Port</code> in the format of <code>cu.usbmodemXXXX</code>, where <code>XXXX</code> is a series of numbers. </li> </ul> </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration: <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol> <p>Port Not Found?</p> <p>If your machine's port isn't listed: </p> <ol> <li> <p>Ensure the USB cable is securely connected on both sides.</p> </li> <li> <p>Make sure the motherboard is powered on.</p> </li> <li> <p>Close OpenPnP, press the reset button on the control box, wait a few seconds, and reopen OpenPnP. </p> </li> <li> <p>Finally, use our Debug Tool and see if you are able to connect your LumenPnP there.</p> </li> </ol> <p></p>"},{"location":"misc/calibration/2-connect-to-machine/#establishing-a-serial-connection","title":"Establishing a Serial Connection","text":"<ol> <li> <p>Connect OpenPnP to Your Machine</p> <ul> <li>Click the green power button in the <code>Machine Controls</code> section (Bottom left of OpenPnP). </li> </ul> </li> <li> <p>Confirm Connection</p> <ul> <li>If successful, the green power button will turn red. This means OpenPnP has successfully connected to your machine.</li> <li>If unsuccessful,review your Serial Port Connection. </li> </ul> </li> <li> <p>Turn On Ring Lights</p> <ul> <li>In the bottom left corner of OpenPnP, go to <code>Machine Controls</code>.</li> <li>Click the <code>Actuators</code> tab.</li> <li>Click the <code>LED</code> button.</li> <li>Then press <code>On</code>. </li> <li>Close the LED window.</li> <li>Switch back to the <code>Jog</code> tab so you are ready to move the nozzles in the following steps.</li> </ul> <p>Keep Ring Lights On</p> <p>Keep the ring lights on for the rest of calibration. All calibrations should be based on the lighting from the ring lights. Once calibration is complete and running a job on the LumenPnP, OpenPnP will automatically control the ring lights as needed, eliminating the need for manual operation during normal use.</p> </li> </ol>"},{"location":"misc/calibration/2-connect-to-machine/#preparing-for-homing","title":"Preparing for Homing","text":"<ol> <li> <p>Level the nozzles before homing.</p> <p>\ud83d\udea8 Critical Warning: Level Nozzles Before Homing \ud83d\udea8</p> <p>Before pressing the homing button\u2014now and every time in the future\u2014you must ensure that your nozzles are level. \u26a0\ufe0f Failure to do this can cause crashes and potentially damage your machine. OpenPnP does not remember the previous nozzle positions from the last homing sequence, meaning it cannot adjust movements based on past alignment. If the nozzles are not level before homing, they may collide with the machine, leading to misalignment or serious hardware damage.  </p> <p>Note</p> <p>Use the <code>P</code> between the Z-axis up/down arrows located in Machine Controls toward the bottom right of OpenPnP. This ensures the nozzle tips are out of the way.  The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. If nothing happens after you click the <code>P</code> button, that means the nozzles are at a safe height already. <p>Nozzles not level after parking.</p> <p>The nozzles may not be level when clicking the \u201cPark\u201d button, which is okay. The nozzle only moves to the point that it reaches the \u201csafe zone\u201d and then stops.</p> <p></p> <li> <p>Before we home the LumenPnP, it is very important that we check a couple of settings.</p> <ul> <li>Go to <code>Machine Setup &gt; Nozzle Tips &gt;N045 &gt; Calibration Tab &gt; Auto Recalibration</code></li> <li>Ensure <code>Auto Recalibration</code> is set to <code>Manual</code>. </li> <li>Then, go to <code>Machine Setup &gt; Nozzle Tips &gt;N24 &gt; Calibration Tab &gt; Auto Recalibration</code></li> <li>Ensure <code>Auto Recalibration</code> is set to <code>Manual</code>. </li> </ul> </li> <li> <p>Once the nozzle tips are set to <code>Manual</code>, click the Home button to perform a rough homing sequence.</p> <ul> <li>The Nozzles will move to X, Y, and Z zero positions (front-left corner of the LumenPnP) and park there.</li> <li>If the LumenPnP does not stay in the front left corner of the machine, Please go back to the prior step and ensure the <code>Manual</code> settings was saved. This image shows a V4 homing, but the end location is the same for both versions.</li> </ul> </li> <p>If your machine does not move fully to the front left</p> <p>If your LumenPnP does not move all the way to the front left of the machine when you click the Home icon, it could mean that your sensorless homing values need to be adjusted.</p> <p>Instructions for tuning this setting are here.</p>"},{"location":"misc/calibration/2-connect-to-machine/#install-the-nozzle-tips","title":"Install the Nozzle Tips","text":"<ol> <li> <p>Locate Your Nozzle Tips and SuperLube tube.</p> <ul> <li>Find and remove the <code>N045</code> and <code>N24</code> nozzle tips in the nozzle rack that is mounted on the staging plate. </li> <li>Remove the <code>SuperLube</code> Tube that comes in the LumenPnP V3 Tool Bag. </li> </ul> </li> <li> <p>Lubricate both brass nozzles.</p> <ul> <li>Apply a small amount of SuperLube to the brass nozzles. This prevents damage to the rubber O-rings when mounting nozzle tips. We pre-lubricate them before shipping, but adding extra ensures longevity. </li> </ul> <p>Automatic Nozzle Tip Swapping</p> <p>OpenPnP supports automatic nozzle tip swapping, but we don\u2019t recommend it yet due to inconsistent performance. This feature will be improved in a future update, and the nozzle tip rack will be mounted on the staging plate. Most jobs can be completed using an <code>N045</code> on one nozzle and an <code>N24</code> on the other.</p> <p></p> </li> <li> <p>Mount the <code>N045</code> Nozzle Tip onto Nozzle: N1.</p> <ul> <li>In OpenPnP, navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code>.</li> <li>Select the <code>Nozzle Tips</code> tab, and check the <code>Loaded?</code> checkbox for the <code>N045</code> row.</li> <li>Your machine will jog the head to the front of the machine for easy tip loading. </li> <li>A \u201dTask Interrupted:\u201d window will pop up. This is not an error! OpenPnP is just notifying you that the job has been stopped if one is running. This is normal and can be dismissed. </li> <li>Slide the N045 nozzle tip (the one with the smaller opening) onto the left nozzle (using red tubing). Rotate the nozzle tip as you mount it to the brass nozzle to evenly distribute the lubricant around the O-rings. It should slide on and off smoothly after working it in. </li> </ul> </li> <li> <p>Mount the <code>N24</code> Nozzle Tip onto Nozzle: N2.</p> <ul> <li>In OpenPnP, navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N2</code>.</li> <li>Select the <code>Nozzle Tips</code> tab, and check the <code>Loaded?</code> checkbox for the <code>N24</code> row.</li> <li>Don\u2019t forget. It will move to the second nozzle and you\u2019ll see the \u201dTask Interrupted:\u201d popup window again. </li> <li>Slide the N24 nozzle tip (the one with the larger opening) onto the right nozzle (using blue tubing). Rotate the nozzle tip as you mount it to the brass holder to ensure the grease works its way into the tip and around the O-rings. It should slide on and off easily after working it in. </li> </ul> <p>Why These Nozzle Tips?</p> <p>The N045 and N24 nozzle tips cover the vast majority of parts without needing swaps. We highly recommend keeping them as the default and only swapping when absolutely (e.g., for very heavy parts).</p> </li> </ol>"},{"location":"misc/calibration/2-connect-to-machine/#configuring-the-bottom-camera","title":"Configuring the Bottom Camera","text":"<p>Before calibration begins, the bottom camera and exposure must be set up properly. We will need to install a nozzle tip and position it above the bottom camera to properly adjust the exposure.</p> <p>Which Reticle should I use?</p> <p>We use the \"Ruler\" Reticle in the following steps. If you prefer to use the same reticle style that we use, right-click on the top or bottom camera feed and choose <code>Reticle</code>, then \"<code>Ruler</code>\" to match our docs photos best. </p> <p>Note</p> <p>From the LumenPnP V3 and up, machines ship with a more recessed bottom camera, as ween in the photo below. The images in our setup guides mostly show an older mounting solution, but either works the same.</p> <p></p> <ol> <li> <p>\ud83d\udea8 Remove Lens Caps \ud83d\udea8</p> <ul> <li>\u26a0\ufe0f Ensure both the top and bottom cameras have their lens caps removed. </li> </ul> </li> <li> <p>Navigate to the Bottom Camera's Device Settings tab in OpenPnP</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnpCaptureCamera Bottom &gt; Device Settings tab</code>. </li> </ul> </li> <li> <p>Choose the Correct Camera Device</p> <ul> <li>In the <code>Device Settings</code> tab, select <code>LumenPnP Bottom</code> from the <code>Device</code> dropdown. </li> </ul> <p>Duplicate Camera Names</p> <p>If two cameras appear with the same name, select one. If incorrect, choose the other. This is a bug within OpenPnP.</p> <p></p> </li> <li> <p>Set Resolution and Frame Rate</p> <ul> <li>In the <code>Format</code> drop-down menu, select <code>1280x720, 10FPS</code>. A low frame rate is crucial to avoid bandwidth/performance issues. </li> </ul> </li> <li> <p>Apply and Verify</p> <ul> <li>Click <code>Apply</code> to save the Bottom Camera settings. One of the red \"X\"s in the camera feed should disappear. The image might be entirely black, but we'll fix that in the following steps.</li> <li>Save your OpenPnP configuration so OpenPnP will remember this when opened. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/2-connect-to-machine/#adjust-bottom-camera-exposure","title":"Adjust Bottom Camera Exposure","text":"<p>Other Camera Settings</p> <p>In the following step, do not modify any camera settings other than exposure. The default values should remain unchanged.</p> <ol> <li> <p>Select Nozzle: N1.</p> <ul> <li>From the <code>Machine Controls</code> dropdown, select <code>Nozzle: N1 - N045 (Head:H1)</code>. </li> </ul> </li> <li> <p>Select the bottom Camera.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code></li> </ul> </li> <li> <p>Access the Position Tab.</p> <ul> <li>Click on the <code>Position</code> tab.</li> <li>Enter <code>31.500</code> into the <code>Z position field</code>. (This step is specific to any LumenPnP V3 machine, and is vital that it is set to 31.5.)  </li> </ul> </li> <li> <p>Save the 31.500 Z Position</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save the bottom camera position in OpenPnP. </li> </ul> </li> <li> <p>Align Nozzle Tip Over the Bottom Camera.</p> <ul> <li>In the <code>Position Tab</code>, click on the button to bring the nozzle tip over the bottom camera. This will jog the Nozzle: N1 (left toolhead) to be roughly over the bottom camera. </li> </ul> </li> <li> <p>Adjust the bottom camera exposure using the slider.</p> <ul> <li>Return to <code>Machine Setup &gt; Cameras &gt; OpenPnpCaptureCamera Bottom</code> to adjust the exposure. This will help us through the rest of the calibration.</li> <li>\ud83d\udea8 Keep all other camera settings at their default value, and only adjust the exposure slider.</li> <li>In the <code>OpenPnpCaptureCamera Bottom</code> go back to the <code>Device Settings</code> tab. </li> <li>Located the <code>Exposure</code> slider and click on the check box labeled <code>Auto</code>. The camera will attempt to find the correct exposure.</li> <li>Then, uncheck the <code>Auto</code> box to ensure we are now in \"manual adjustment\" mode. </li> <li>Using the jog controls, fine-tune the nozzle tip location to be perfectly centered over the bottom camera's reticle. You can use your mouse scroll wheel to zoom in on the feed for more precision. (Images are of a LumenPnP V4 and won't match exactly what you will see) </li> <li>Set the <code>Distance</code> slider to <code>0.1</code> or <code>0.01</code> for when you need more precise movements. </li> <li>Right click on the bottom camera's feed and select <code>Show Image Info?</code> to enable the image info card. This will give you the brightness histogram of the image. </li> <li>Use the histogram as a general guide rather than a precise measurement. It\u2019s a helpful tool but not exact. For the best results, refer to the comparison photos below, which show examples of 'too bright,' 'too dark,' and 'good exposure' to help you fine-tune your settings after using the histogram.</li> <li>In the next step, we'll be aiming for a sharp peak on the right side and a larger cluster to the left in the histogram. See the image below for reference. </li> </ul> <p>\ud83d\udea8 Important \ud83d\udea8</p> <p>The reference image above is just an example. Your histogram may look very different depending on lighting conditions, camera placement, and other environmental factors. Do not try to match it exactly. Instead, focus on achieving the key characteristics: a distinct peak on the right and a noticeable cluster, or peak, to the left. Adjust gradually until the image is clear and well-exposed.</p> </li> <li> <p>Find the Correct Exposure.</p> <ul> <li>Adjust the exposure slider, or enter varying manual exposure values, to ensure the camera can clearly detect the dark hole in the nozzle tip for calibration. The exposure should be balanced. Meaning, sbright enough to distinguish the nozzle tip from the background but not so bright that the hole becomes difficult to detect. Aim for a setting where the brightest areas are visible but do not appear completely white, and the darker areas remain well-defined. Use the following images as a reference for adjusting exposure: </li> <li>Close the Histogram window when you are done with it.</li> </ul> <p>Not seeing anything in the bottom camera feed?</p> <p>If you are not seeing anything after adjusting the bottom camera exposure, ensure the lens caps on the bottom camera has been removed.</p> <p>For Mac Users</p> <p>On some Macs, If OpenPnP doesn\u2019t allow exposure adjustments, use the open-source tool, CameraController.</p> <p></p> </li> <li> <p>Record the Bottom Camera Exposure Value</p> <ul> <li>OpenPnP may not retain camera settings after restart Record and save your exposure value by saving them in a text file or writing them down.</li> <li>This means every time you boot up OpenPnP you'll have to:<ul> <li>Toggle Auto Exposure <code>on</code>, then <code>off</code>. (This puts your camera into manual exposure mode)</li> <li>Type your recorded exposure value into the exposure field beside the slider. </li> </ul> </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes, if applicable. (OpenPnP may have the button greyed out. That is fine.) </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/2-connect-to-machine/#next-steps","title":"Next Steps","text":"<p>Now that your LumenPnP V3 is connected, nozzle tips have been installed, and the bottom camera is configured, you're ready to proceed with Configuring Top Camera and Homing Fiducial.</p>"},{"location":"misc/calibration/3-camera-fisheye-cal/","title":"Camera Fisheye","text":"<p>Now that you're connected to the LumenPnP, you'll need to set up the cameras so that they can accurately fine-tune the machine's position. The LumenPnP is a robust machine, but it needs both cameras to make sure it can pick and place components reliably every time. The first step is to correct for the fisheye effect of the webcams to help make sure they can identify distances accurately. This is not a step you will need to re-run unless you replace your webcams or lenses. See the original OpenPnP documentation for reference.</p> <p>This calibration uses a specific pattern of dots to correct for any fisheye effect in your webcams</p> <ul> <li>If you have a v2 LumenPnP kit, you can find this pattern is on the back side of your datum board (shown below).</li> <li>If you have a v3 semi-assembled LumenPnP machine, you can find this pattern on the back side of the FTP board in your Getting Started Kit.</li> <li>If you're having a hard time getting the camera to pick up on the pattern on the datum board or FTP board, you can print out the original <code>Circle Grid Camera Calibration Patterns</code> here.</li> </ul> <p></p>"},{"location":"misc/calibration/3-camera-fisheye-cal/#bottom-camera-calibration","title":"Bottom Camera Calibration","text":"<ol> <li> <p>Click on the <code>Machine Setup</code> tab. </p> </li> <li> <p>Click on the \"Expand\" checkbox to open all of the features about your machine. </p> </li> <li> <p>Click on <code>Cameras &gt; OpenPnpCaptureCamera Bottom</code>. </p> </li> <li> <p>In the lower detail pane, switch to the <code>Lens Calibration</code> tab. </p> <p>Tip</p> <p>To see both camera views at the same time, click on the dropdown in the top left of the UI and select <code>Show All Vertical</code> or <code>Show All Horizontal</code>. </p> </li> <li> <p>Click <code>Start Lens Calibration</code>. </p> </li> <li> <p>Hold the pattern under the bottom camera as shown below. Use the camera view in OpenPnP to move the pattern into focus. If you can't get the whole pattern in focus and in the field of view, screw in the lens a few turns to adjust the camera's focal distance and try again. (The image shows calibrating the top camera, but it is the same process.) </p> <p>Tip</p> <p>If you're having trouble adjusting the focus, try using the community-created lens adjustment tool.</p> </li> <li> <p>Slowly move the calibration pattern around the camera's field of view until OpenPnP tells you that it's gathered enough photos. OpenPnP will flash when it takes an image of the pattern, and will require you to take 25 pictures for an accurate calibration.   </p> </li> <li> <p>Confirm that the <code>Apply Calibration?</code> checkbox is enabled after calibration is complete. </p> </li> </ol>"},{"location":"misc/calibration/3-camera-fisheye-cal/#top-camera-calibration","title":"Top Camera Calibration","text":"<ol> <li> <p>Again, navigate to the <code>Machine Setup</code> tab.</p> </li> <li> <p>Again, click the \"Expand\" checkbox if necessary.</p> </li> <li> <p>Navigate to <code>Heads &gt; ReferenceHead H1 &gt; Cameras &gt; OpenPnPCaptureCamera Top</code>. </p> </li> <li> <p>Continue with the same steps starting from number 4 above.</p> </li> </ol>"},{"location":"misc/calibration/3-camera-fisheye-cal/#next-steps","title":"Next Steps","text":"<p>Next, we'll work on homing your machine with the Homing Fiducials.</p>"},{"location":"misc/calibration/4-homing-fiducial/","title":"Configure Top Camera and Homing Fiducial","text":"<p>First, we will establish a connection with the top camera, like we did with the bottom camera.</p> <p>Then, we can set up the datum board, which is a key component to the homing sequence. The center dot on the datum board is called the \"homing fiducial\", and is the key calibration point, allowing fine-tuning of the machine\u2019s XY position to compensate for minor variations in limit switch accuracy. configuring the homing fiducial ensures precise and repeatable homing for the LumenPnP.</p> <p>Finally, we will go back and fine-tune the top camera exposure settings for proper homing calibration. We will use the top camera aligned above the datum board's homing fiducial to properly adjust the exposure.</p>"},{"location":"misc/calibration/4-homing-fiducial/#configuring-the-top-camera","title":"Configuring the Top Camera","text":"<p>Now that your bottom camera exposure has been fine-tuned, the same thing needs to be done to the top camera. We'll connect to the top camera in this step and adjust the exposure.</p> <p>\ud83d\udea8 The homing fiducial is the 1mm dot in the center of the Opulo logo, located toward the center of the datum board. \ud83d\udea8 </p> <ol> <li> <p>Select the Top Camera in OpenPnP</p> <ul> <li>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Cameras &gt; OpenPnpCaptureCamera Top &gt; Device Settings tab</code>. </li> </ul> </li> <li> <p>Choose the Correct Camera Device</p> <ul> <li>In the <code>Device Settings</code> tab, select <code>LumenPnP Top</code> from the <code>Device</code> dropdown. </li> </ul> </li> <li> <p>Set Resolution and Frame Rate</p> <ul> <li>In the <code>Format</code> dropdown menu, select <code>1280x720, 10fps</code>. A low frame rate is crucial to avoid bandwidth/performance issues. </li> </ul> </li> <li> <p>Apply and Verify</p> <ul> <li>Click <code>Apply</code> to save the Top Camera settings. One of the red \"X\"s in the camera feed should disappear. The image might be entirely black, but we'll fix that in the following steps. </li> </ul> </li> <li> <p>Save Your Configuration</p> <ul> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/4-homing-fiducial/#preparing-for-homing","title":"Preparing for Homing","text":"<ol> <li>Confirm the following settings before homing the LumenPnP.</li> <li>Go to Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; <code>Homing Method</code> is set to <code>None</code></li> <li>Go to Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N045 &gt; Calibration Tab &gt; Auto Recalibration: <code>Manual</code></li> <li> <p>Go to Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N24 &gt; Calibration Tab &gt; Auto Recalibration: <code>Manual</code></p> </li> <li> <p>Level the nozzles before homing.</p> <p>\ud83d\udea8 Critical Warning: Level Nozzles Before Homing \ud83d\udea8</p> <p>Before pressing the homing button\u2014now and every time in the future\u2014you must ensure that your nozzles are level. \u26a0\ufe0f Failure to do this can cause crashes and potentially damage your machine. OpenPnP does not remember the previous nozzle positions from the last homing sequence, meaning it cannot adjust movements based on past alignment. If the nozzles are not level before homing, they may collide with the machine, leading to misalignment or serious hardware damage.  </p> <p></p> </li> <li> <p>Click the Home button to perform a rough homing sequence.</p> <ul> <li>The Nozzles will move to X, Y, and Z zero positions (front-left corner of the LumenPnP) and park there. </li> </ul> </li> </ol>"},{"location":"misc/calibration/4-homing-fiducial/#setting-homing-fiducial-location","title":"Setting Homing Fiducial Location","text":"<ol> <li> <p>Navigate to  <code>Machine Setup &gt; Heads &gt; ReferenceHead H1</code>. </p> </li> <li> <p>In the Configuration tab, change the Homing Method to <code>ResetToFiducialLocation</code>.</p> <ul> <li>This sets the homing sequence to always finish by scanning the fiducial, which helps correct any minor inaccuracies caused by the endstops. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> <p>Caution</p> <p>DO NOT click the homing button again until you have fine-tuned the homing fiducial location, as explained in the next section.</p> <p></p> </li> <li> <p>Click on the \"Position Camera Over Location\" icon button shown below.</p> <ul> <li>This moves the top camera to the approximate position above the datum board. </li> </ul> </li> <li> <p>Ensure LED lights are still on:</p> <ul> <li>Ensure your Top and Bottom ring lights are still set to <code>On</code>. If not, go back to the Machine Controls in the bottom-left section of OpenPnP and go to <code>Actuators tab &gt; LED &gt; On</code> and close the actuator window.</li> </ul> </li> <li> <p>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Cameras &gt; OpenPnPCaptureCamera Top</code>. </p> </li> <li> <p>In the lower detail pane, switch to the <code>Device Settings</code> tab if you are not already there. </p> </li> <li> <p>Located the <code>Exposure</code> slider and check the check box labeled <code>Auto</code>. The camera will attempt to find the correct exposure.</p> </li> <li> <p>Then, uncheck the <code>Auto</code> box to ensure we are now in \"manual adjustment\" mode. </p> </li> <li> <p>If the image is still difficult to see, slightly adjust the exposure until the datum board is easily visible. This will be fine-tuned after setting the homing fiducial location.</p> <ul> <li>\ud83d\udea8 Keep all other camera settings at their default value, and only adjust the exposure slider.</li> </ul> </li> <li> <p>Return to the <code>Machine Controls</code> (bottom left of OpenPnP) so we can fine-tune the homing fiducial location. </p> </li> <li> <p>Align the Top Camera:</p> <ul> <li>Towards the bottom right of OpenPnP, use the jog controls to position the center of the reticle directly over the Homing Fiducial in the perfect-center of the Opulo logo. Adjust the <code>Distance</code> slider as needed. </li> </ul> </li> <li> <p>Now that we're perfectly centered on the homing fiducial, We need to save this location in two different places.</p> <ul> <li>Navigate back to  <code>Machine Setup &gt; Heads &gt; ReferenceHead H1</code>. </li> <li>First Location: click the <code>Capture Camera Location</code> button to save the fiducial\u2019s position for the Homing Fiducial. </li> <li>Second Location: Scroll down to the Calibration Rig section and click the <code>Capture Camera Location</code> button next to the Primary Fiducial field. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/4-homing-fiducial/#fine-tune-camera-exposure","title":"Fine-tune Camera Exposure","text":"<p>In order for OpenPnP to reliably detect the LumenPnP's homing fiducial, we'll need to set the exposure and camera settings for your top camera correctly.</p> <ol> <li> <p>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Cameras &gt; OpenPnPCaptureCamera Top</code>. </p> </li> <li> <p>In the lower detail pane, switch to the <code>Device Settings</code> tab. </p> </li> <li> <p>Right click on the top camera's feed and select <code>Show Image Info?</code> to enable the image info card. This will give you the brightness histogram of the image.</p> <ul> <li>Use the histogram as a general guide rather than a precise measurement. It\u2019s a helpful tool but not exact. For the best results, refer to the comparison photos below, which show examples of 'too bright,' 'too dark,' and 'good exposure' to help you fine-tune your settings after using the histogram. </li> </ul> </li> <li> <p>Adjust the Top Camera exposure using the slider or entering an exposure value.</p> <ul> <li>\ud83d\udea8 Keep all other camera settings at their default value, and only adjust the exposure slider.</li> <li>Aim for a sharp peak on the right side and a larger cluster to the left in the histogram. See the image below for reference.</li> </ul> <p>\ud83d\udea8 Important \ud83d\udea8</p> <p>The reference image below is just an example. Your histogram may look very different depending on lighting conditions, camera placement, and other environmental factors. Do not try to match it exactly. Instead, focus on achieving the key characteristics: a distinct peak on the right and a noticeable cluster to the left. Adjust gradually until the image is clear and well-exposed. </p> <ul> <li>Locate and adjust the <code>Exposure</code> slider, or manually enter varying exposure values, until the Datum Board is easy to see. </li> </ul> <p>Not seeing anything in the top camera feed?</p> <p>Ensure the lens caps on the top camera has been removed.</p> <p></p> </li> <li> <p>Once you've found a good exposure value, record your exposure value by saving them in a text file or writing them down:</p> <ul> <li>OpenPnP may not retain camera settings after restart, so save the exposure value for reference.</li> <li>This means every time you boot up OpenPnP you'll have to:<ul> <li>Toggle Auto Exposure <code>on</code>, then <code>off</code>. (This puts your camera into manual exposure mode)</li> <li>Type your recorded exposure value into the exposure field beside the slider.</li> <li>Turn off the histogram view the same way you turned it on. </li> </ul> </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/4-homing-fiducial/#test-fiducial-homing","title":"Test Fiducial Homing","text":"<ol> <li> <p>Click on the Home button in the <code>Machine Controls Pane &gt; Jog Tab</code> and watch your machine home using the limit switches, then moves the top camera over the homing fiducial and find its exact location. When the camera scans the fiducial, it will have a red-colored hue that scans for the fiducial's circle. </p> </li> <li> <p>If you receive the error <code>FIDUCIAL-HOME no matches found</code>, OpenPnP was not able to find your homing fiducial. You need to adjust your Homing Fiducial Pipeline. </p> </li> </ol>"},{"location":"misc/calibration/4-homing-fiducial/#next-steps","title":"Next Steps","text":"<p>Next is the MM/Pixel Calibration.</p>"},{"location":"misc/calibration/5-mm-per-pixel/","title":"MM/Pixel Calibration","text":"<p>This next step calibrates the relationship between pixels and millimeters to make our cameras more accurate.</p> <p>The main reason for needing to perform the mm to pixel calibration is to translate pixel data into accurate, real-world measurements (like millimeters). This allows for reliable sizing of objects, quality control, and dimensional analysis in computer vision by correcting for lens distortions and establishing a precise scale factor, which is crucial for tasks needing quantifiable results beyond just visual identification.</p>"},{"location":"misc/calibration/5-mm-per-pixel/#top-camera-mmpixel-calibration","title":"Top Camera MM/Pixel Calibration","text":"<p>In this step, we will calibrate the mm/pixels for the Top Camera. This requires us to set the dimensions and use a virtual bounding box to outline and measure one of the squares on the datum board, known as a golden guideline square. This allows us to calibrate the top camera\u2019s Units per pixel, giving us accurate top camera movement. </p> <ol> <li> <p>Select the Top Camera.</p> <ul> <li>Confirm that your <code>Top Camera</code> is still centered on your <code>Homing Fiducial</code></li> <li>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHeadH1 &gt; Cameras &gt; OpenPnPCaptureCamera Top</code>. </li> </ul> </li> <li> <p>Click on the <code>General Configuration</code> tab. </p> </li> <li> <p>Scroll down to the <code>Units Per Pixel</code> section.</p> <ul> <li>Locate the Object Dimension Fields for X and Y. </li> </ul> </li> <li> <p>Set the Object Dimensions.</p> <ul> <li>In the X Object Dimension field, enter <code>5</code>.</li> <li>In the Y Object Dimension field, enter <code>5</code>.</li> <li>Double-check that both X and Y are set correctly before proceeding. </li> </ul> </li> <li> <p>Locate a calibration square to be measured.</p> <ul> <li>Jog the machine until a golden guideline square is fully visible in the top camera view. The square should be roughly centered in the camera's reticles. The whole square must be visible. If necessary, use the scroll wheel to zoom out and ensure the entire square is visible.</li> <li>In <code>Machine Controls</code>, you can adjust the <code>Distance Slider</code> to jog in larger or smaller increments when locating the golden guideline square. </li> </ul> </li> <li> <p>Align and Measure.</p> <ul> <li>locate and click the <code>Measure</code> button. </li> <li>Click and drag in the camera view to create a bounding box. Align it with the center of the golden guideline square to align with the lines along its edge. The square is exactly 5mm x 5mm. </li> </ul> <p>Squareness</p> <p>Don't worry if the box's square doesn't perfectly align with the camera image. Any slight skew will be adjusted for during jobs with fiducial calibration.</p> <p></p> </li> <li> <p>Finalize Calibration.</p> <ul> <li>Once you have it perfectly outlined, click the <code>Measure</code> button again to update the Units Per Pixel values. </li> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/5-mm-per-pixel/#validate-top-camera-calibration","title":"Validate Top Camera Calibration","text":"<p>Lets verify the top camera calibration was successful. This will ensure the top camera's millimeter per pixel is accurate so it is moving the correct amount for a given command.</p> <ol> <li> <p>Ensure your top camera view is fully zoomed out.</p> <ul> <li>Hover over the top camera's feed, and scroll with the mouse wheel or trackpad to zoom all the way out.</li> </ul> </li> <li> <p>Confirm top camera is calibrated correctly.</p> <ul> <li>Click and drag the center reticle (located in the middle of the camera feed) to one of the corners of the Golden Guideline Square.</li> <li>If the mm/pixel calibration is correct, the Top Camera will move to be precisely over your chosen corner.  </li> </ul> </li> </ol>"},{"location":"misc/calibration/5-mm-per-pixel/#bottom-camera-mmpixel-calibration","title":"Bottom Camera MM/Pixel Calibration","text":"<p>The following steps will calibrate the mm/pixels for the Bottom Camera. This requires us to set the dimensions and use a virtual bounding box to outline the nozzle tip. This allows us to calibrate the bottom camera\u2019s Units per pixel, giving us accurate bottom camera movement.</p> <ol> <li> <p>Home your machine using the \"Home\" button.</p> <ul> <li>The LumenPnP will perform the homing process and position the top camera over the homing fiducial. In future steps, the homing sequence will also scan the nozzle tips after calibrating the homing fiducial, but for now, it should only scan the homing fiducial.</li> </ul> </li> <li> <p>Select the bottom Camera.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code></li> </ul> </li> <li> <p>Access the Position Tab.</p> <ul> <li>Click on the Position tab to begin setting the bottom camera\u2019s location.</li> <li>Enter <code>31.5</code> into the <code>Z position field</code>. (This step is specific to any LumenPnP V3 machine, and is vital that it is set to 31.5.)  </li> </ul> </li> <li> <p>Save the 31.500 Z Position</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save the bottom camera position in OpenPnP. </li> </ul> </li> <li> <p>Select Nozzle: N2 (Right Nozzle).</p> <ul> <li>In the drop-down under <code>Machine Controls</code>, select <code>Nozzle: N2 - N24 (Head: H1)</code> to control the nozzle on the right. This way, for any nozzle commands we run, OpenPnP knows to base them on Nozzle: N2 and not the other nozzle. </li> </ul> </li> <li> <p>Align Nozzle Tip Over the Bottom Camera.</p> <ul> <li>In the <code>Position Tab</code>, click on the button to bring the nozzle tip over the bottom camera. This will jog the Nozzle: N2 (right toolhead) to be roughly over the bottom camera. </li> <li>In <code>Machine Controls</code>, Use the arrows to center the nozzle tip in the bottom camera feed. </li> </ul> <p>Fine-Tuning Focus</p> <p>The bottom camera\u2019s focus is pre-adjusted before shipping, but you can fine-tune it if needed. loosen the set-screw in the side and slightly rotate the bottom camera lens until the image appears sharp.</p> </li> <li> <p>Go to the <code>General Configuration</code> tab.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code></li> <li>Select the <code>General Configuration</code> tab. </li> </ul> </li> <li> <p>Scroll down to the <code>Units Per Pixel</code> section.</p> <ul> <li>Locate the Object Dimension Fields for X and Y. </li> </ul> </li> <li> <p>Set the Object Dimensions</p> <ul> <li>In the X Object Dimension field, enter <code>4</code>.</li> <li>In the Y Object Dimension field, enter <code>4</code>.</li> <li>Double-check that both X and Y are set correctly before proceeding. </li> </ul> </li> <li> <p>Align and Measure</p> <ul> <li>locate and click the <code>Measure</code> button. </li> <li>Click and drag in the camera view to create a bounding box. Align it with the center of the nozzle tip so that it's perfectly tangent to the edges as shown in the image. </li> </ul> </li> <li> <p>Finalize Bottom Camera Calibration</p> <ul> <li>Once you have it perfectly outlined, click the <code>Measure</code> button again to update the Units Per Pixel values. </li> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/5-mm-per-pixel/#validate-bottom-camera-mmpixel-calibration","title":"Validate Bottom Camera MM/Pixel Calibration","text":"<p>Lets verify the bottom camera calibration was successful. This will ensure the bottom camera's millimeter per pixel is accurate so it is moving the correct amount for a given command.</p> <ol> <li> <p>Ensure your bottom camera view is fully zoomed out.</p> <ul> <li>Hover over the top camera's feed, and scroll with the mouse wheel or trackpad to zoom all the way out.</li> </ul> </li> <li> <p>Confirm bottom camera is calibrated correctly.</p> <ul> <li>Click and drag the center reticle (located in the middle of the camera feed) to the edge of the nozzle tip and then back to the center of the tip.</li> <li>The Bottom Camera should now be centered on the nozzle tip again. </li> <li>If it's inaccurate, repeat the bottom camera calibration and confirm you are using the larger N24 nozzle tip on Nozzle: N2 (right toolhead).</li> </ul> </li> </ol>"},{"location":"misc/calibration/5-mm-per-pixel/#next-steps","title":"Next Steps","text":"<p>Next is Nozzle Offset Calibration.</p>"},{"location":"misc/calibration/6-nozzle-offset/","title":"Top Camera to Nozzle Offset","text":"<p>Calibrating the top camera to nozzle tip offset ensures precise alignment between the nozzle tips and the top camera. This process involves capturing the exact position of the nozzle tip and aligning the top camera to the same reference point. The calibration is essential for accurate component placement and must be performed carefully.</p> <p>The calibration of the top camera to nozzle tip (this page we're on), and the bottom camera position (the next page) are by far the most important calibrations to be accurate, as most all other calibrations use these as a baseline for their calculations. For this reason, it is very important that the bottom camera position is set directly after the top camera to nozzle tip offset is calibrated.</p> <p>This guide will calibrate both nozzles, ensuring they share the same focal plane as your datum board, components, and PCBs.</p> <p>In the previous section, you validated nozzle N2's MM/Pixel calibration. We will switch back to Nozzle N1 to start this calibration.</p>"},{"location":"misc/calibration/6-nozzle-offset/#nozzle-n1-offset-left-toolhead","title":"Nozzle: N1 Offset (Left Toolhead)","text":"<p>\ud83d\udea8 Critical Warning: Level Nozzles \ud83d\udea8</p> <p>\u26a0\ufe0f You must ensure that your nozzles are level. Failure to do this can cause crashes and potentially damage your machine. Use the <code>P</code> between the Z-axis up/down arrows to ensure the nozzle tips are out of the way. The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. </p> <ol> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N1 - N045 (Head:H1)</code> from the machine controls dropdown. This ensures that movements and adjustments apply to the left nozzle equipped with the <code>N045</code> nozzle tip. </li> </ul> </li> <li> <p>Confirm the correct nozzle tip is installed.</p> <ul> <li>Confirm that the <code>N045</code> nozzle tip is securely attached to Nozzle: N1 (left toolhead). </li> </ul> </li> <li> <p>Park the nozzle rotation.</p> <ul> <li>It is very important that nozzle N1 stays in the same rotational direction throughout this testing, as nozzle runout has not been configured yet. The camera's crosshair reticle represent the angle of the rotation of a nozzle. This is easily done by \"parking\" the nozzle rotation, which should always bring it back to the same rotational degree every time.</li> <li>Within Machine Controls (bottom left of OpenPnP),locate the rotational controls, which can be found below the main directional arrows. The rotational control is labeled \"C\" with a Park button in between its left and right arrows.  This adjusts the rotation. </li> <li>Press the P button to park the rotation, which should make the lines perfectly straight up and down, like a plus sign. </li> </ul> </li> <li> <p>Open the Nozzle: N1 settings.</p> <ul> <li>Click through the following path: <code>Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code>. </li> </ul> </li> <li> <p>Open the Offset Wizard tab.</p> <ul> <li>Navigate to the <code>Offset Wizard</code> tab, where the nozzle offset calibration process will be performed. </li> </ul> </li> <li> <p>keep the \u2018Include Z?\u2019 checkbox unchecked.</p> <ul> <li>Ensure that the <code>Include Z?</code> checkbox is NOT selected, and is left unchecked. You already should have entered the correct Z height for nozzle N1 earlier, so we do shouldn't need to apply an Z-offset to it. </li> </ul> </li> <li> <p>Position Nozzle: N1 over the homing fiducial.</p> <ul> <li>Jog Nozzle: N1 (left toolhead) so that the nozzle tip barely touches the datum board and is perfectly centered over the homing fiducial. Avoid collisions while jogging the nozzle tip.</li> <li>Use the shiny edges of the fiducial that are visible around the nozzle tip to determine proper centering. Accuracy here is crucial to achieving precise placements, so please take your time with this and ensure it is dead center. </li> </ul> </li> <li> <p>Capture Nozzle: N1\u2019s position.</p> <ul> <li>Click the <code>Store nozzle mark position</code> button within the Offset Wizard tab to capture the Nozzle: N1's location for calibration purposes.</li> <li>Do not navigate away from the Offset Wizard tab while you go through the following steps to capture the nozzle offset. </li> </ul> </li> <li> <p>Raise Nozzle: N1 off the datum board.</p> <ul> <li>Click the letter <code>P</code> between the Z up/down arrows to \u201cPark\u201d the nozzle at a safe height. This prevents collisions when moving the top camera into position. </li> </ul> <p>Note</p> <p>The nozzles may not be level when clicking the \u201cPark\u201d button, which is okay. The nozzle only moves to the point that it reaches the \u201csafe zone\u201d and then stops.</p> <p></p> </li> <li> <p>Align the top camera over the homing fiducial.</p> <ul> <li>Jog the X and Y axes to bring the top camera directly over the same homing fiducial used in the previous step so it is in the exact center of the camera feed. Do not switch away from the Offset Wizard tab. OpenPnP will not save your nozzle mark position. </li> </ul> </li> <li> <p>Calculate the nozzle offset.</p> <ul> <li>Once the homing fiducial is centered in the top camera view, click <code>Calculate nozzle offset</code>. This determines the offset distance between the nozzle and the top camera based on their recorded positions. </li> </ul> </li> <li> <p>Apply and Save Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the calculated offset for the left N045 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/6-nozzle-offset/#validate-nozzle-n1s-offset","title":"Validate Nozzle N1's Offset","text":"<p>Once you have completed the top camera to nozzle tip offset calibration for the first nozzle, you need to validate that the alignment is accurate before continuing to the second one. This ensures that both the camera and nozzle tips are correctly aligned with the homing fiducial before continuing with production.</p> <p>Before starting, ensure you have <code>Nozzle N1</code> selected in the <code>Control Center</code>.</p> <ol> <li> <p>Confirm camera alignment</p> <ul> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Primary Fiducial</code> </li> <li>Click the button to bring the Top Camera to the Homing Fiducial. </li> <li>Check the camera view: the homing fiducial should appear exactly centered.</li> <li>\u274c If it is not centered, restart the camera-to-fiducial calibration.</li> <li>\u2705 Do not continue until the fiducial is showing accurately centered in the camera feed. </li> </ul> </li> <li> <p>Check nozzle tip alignment</p> <ul> <li>Click the button to place the selected nozzle tip on the Homing Fiducial. It is directly beside the button used for the camera in step 1.</li> <li>Please keep in mind that the images are for a V4, which uses a different Z-height. You can ignore the difference in Z-height in the images below compared to your LumenPnP V3's Z-height of 31.5. </li> <li>The machine should move the nozzle tip to its calculated position.</li> <li>Inspect the nozzle tip visually.</li> <li>\u2705 If the nozzle tip sits directly on the fiducial, no correction is needed. Proceed to calibrating Nozzle N2's offset.</li> <li>\u274c If it is off, note whether it is left, right, in front, or behind the homing fiducial. </li> </ul> </li> <li> <p>Adjust nozzle offsets, if needed</p> <ul> <li>When the nozzle tip does not land perfectly on the fiducial, adjust its offset.</li> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code> and locate the Offset values on that page.</li> <li>Start with fine adjustments to the decimal values so you can dial in the offset gradually. This helps get an idea of how much you need to adjust to get it spot on.</li> <li>When speaking of increasing values, this is always meaning that we are adding positive value to the number. Meaning a negative (-) number would go closer to zero.</li> <li>When speaking of decreasing values, this is always meaning that we are adding negative value to the number. Meaning a negative (-) number would go further away from zero.</li> <li>Example: If the nozzle tip is sitting to the right of the homing fiducial, change the fake x-value offset of -24.360 to be -24.330, which increases this value, so the nozzle will move to the left. </li> <li>Key points to remember:</li> <li>Increasing a value will move Nozzle N1 left (X) or forward (Y)</li> <li>Decrease a value will move Nozzle N1 right (X) or backward (Y)</li> <li>Whether the value is positive or negative, you still \u201cincrease\u201d or \u201cdecrease\u201d to move in the correct direction.</li> </ul> </li> <li> <p>Visual aid</p> <ul> <li>Use the table below to decide which way to change the value.</li> <li>Red arrows represent the direction the nozzle is from the fiducial.</li> <li>Blue arrows represent the direction the nozzle will move when that given axis value is raised or lowered. </li> </ul> </li> <li> <p>Once you've adjusted it to be accurate, Validate one last time before moving to the second nozzle.</p> <ul> <li>Click the button to bring the Top Camera to the Homing Fiducial and confirm it is still accurate. </li> <li>Click the button to place the selected nozzle tip to our newly adjusted position on the Homing Fiducial, and confirm it is still good. </li> <li>If both are accurate, proceed to next step.</li> </ul> </li> <li> <p>Apply and Save Adjusted Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the calculated offset for the left nozzle. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/6-nozzle-offset/#nozzle-n2-offset-right-toolhead","title":"Nozzle: N2 Offset (Right Toolhead)","text":"<p>\ud83d\udea8 Critical Warning: Level Nozzles \ud83d\udea8</p> <p>\u26a0\ufe0f You must ensure that your nozzles are level. Failure to do this can cause crashes and potentially damage your machine. Use the <code>P</code> between the Z-axis up/down arrows to ensure the nozzle tips are out of the way. The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. </p> <ol> <li> <p>Confirm the correct nozzle is installed.</p> <ul> <li>Confirm that the <code>N24</code> nozzle tip is still securely attached to Nozzle: N2 (right toolhead).</li> </ul> </li> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N2 - N24 (Head:H2)</code> from the machine controls dropdown. This ensures that movements and adjustments apply to the right nozzle equipped with the <code>N24</code> nozzle tip. </li> </ul> </li> <li> <p>Open the Nozzle: N2 settings.</p> <ul> <li>Click through the following path: <code>Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N2</code>. </li> </ul> </li> <li> <p>Open the Offset Wizard tab.</p> <ul> <li>Navigate to the <code>Offset Wizard</code> tab if you are not already there. </li> </ul> </li> <li> <p>click the \u2018Include Z?\u2019 checkbox.</p> <ul> <li>To ensure that Nozzle N2's Z-height registers as the same height as the primary fiducial's Z-height value, we must make sure that Z is included when calibrating these offsets.</li> <li>To calibrate the Z2 offset, make sure the <code>Include Z?</code> checkbox is selected. This will find the difference between the primary fiducial's Z-height value and Nozzle N2's Z-height. Then adds the appropriate offset to Nozzle N2's Z-height. </li> </ul> </li> <li> <p>Position the nozzle over the homing fiducial.</p> <ul> <li>Jog Nozzle: N2 (right toolhead) so that it is perfectly centered over the homing fiducial, while barely touching the datum board. Avoid collisions while jogging the nozzle tip. </li> <li>This nozzle tip is larger than the last one, which is okay. We will use the circle just outside of the homing fiducial to determine if you've centered it correctly. Please take your time with this and ensure it is dead center. </li> </ul> </li> <li> <p>Capture the Nozzle: N2\u2019s position.</p> <ul> <li>Click the <code>Store nozzle mark position</code> button within the Offset Wizard tab to capture Nozzle: N2's location for calibration purposes.</li> <li>Do not navigate away from the Offset Wizard tab while you go through the following steps to capture the nozzle offset. </li> </ul> </li> <li> <p>Raise Nozzle: N2 off the datum board.</p> <ul> <li>Click the letter <code>P</code> between the Z up/down arrows to \u201cPark\u201d the nozzle at a safe height. This prevents collisions when moving the top camera into position. </li> </ul> <p>Note</p> <p>The nozzles may not be level when clicking the \u201cPark\u201d button, which is okay. The nozzle only moves to the point that it reaches the \u201csafe zone\u201d and then stops.</p> <p></p> </li> <li> <p>Align the top camera over the homing fiducial.</p> <ul> <li>Jog the top camera to be directly over the homing fiducial so it is in the exact center of the camera feed. Do not switch away from the Offset Wizard tab. OpenPnP will not save your nozzle mark position if so. </li> </ul> </li> <li> <p>Calculate the nozzle offset.</p> <ul> <li>Once the homing fiducial is centered in the top camera view, click <code>Calculate nozzle offset</code>. This determines the offset distance between the nozzle and the top camera based on their recorded positions. </li> </ul> </li> <li> <p>Apply and Save Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the calculated offset for the right N24 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/6-nozzle-offset/#validate-nozzle-n2s-offset","title":"Validate Nozzle N2's Offset","text":"<p>Once you have completed the top camera to nozzle tip offset calibration for the second nozzle, you need to validate that the alignment is accurate before continuing to the next calibration steps. This ensures that both the camera and nozzle tips are correctly aligned with the homing fiducial before continuing with production.</p> <p>Before starting, ensure you have <code>Nozzle N2</code> selected in the <code>Control Center</code>.</p> <ol> <li> <p>Confirm camera alignment</p> <ul> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Primary Fiducial</code> </li> <li>Click the button to bring the Top Camera to the Homing Fiducial. </li> <li>Check the camera view: the homing fiducial should appear exactly centered.</li> <li>\u274c If it is not centered, restart the camera-to-fiducial calibration.</li> <li>\u2705 Do not continue until the fiducial is showing accurately centered in the camera feed. </li> </ul> </li> <li> <p>Check nozzle tip alignment</p> <ul> <li>Click the button to place the selected nozzle tip on the Homing Fiducial. It is directly beside the button used for the camera in step 1. </li> <li>The machine should move the nozzle tip to its calculated position.</li> <li>Inspect the nozzle tip visually.</li> <li>\u2705 If the nozzle tip sits directly on the fiducial, no correction is needed, and both your nozzle tips are validated. Proceed to the next section.</li> <li>\u274c If it is off, note whether it is left, right, in front, or behind the homing fiducial. </li> </ul> </li> <li> <p>Correct nozzle offsets</p> <ul> <li>When the nozzle tip does not land perfectly on the fiducial, adjust its offset.</li> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N2</code> and locate the Offset values on that page.</li> <li>Start with fine adjustments to the decimal values so you can dial in the offset gradually. This helps get an idea of how much you need to adjust to get it spot on. Example: If the nozzle tip is sitting to the right of the homing fiducial, change the fake x-value offset of 23.350 to be 23.380, which increases this value, so the nozzle will move to the left. </li> <li>Key points to remember:</li> <li>Increasing a value will move Nozzle N2 left (X) or forward (Y)</li> <li>Decrease a value will move Nozzle N2 right (X) or backward (Y)</li> <li>Whether the value is positive or negative, you still \u201cincrease\u201d or \u201cdecrease\u201d to move in the correct direction.</li> </ul> </li> <li> <p>Visual aid</p> <ul> <li>Use the table below to decide which way to change the value.</li> <li>Red arrows represent the direction the nozzle is from the fiducial.</li> <li>Blue arrows represent the direction the nozzle will move when that given axis value is raised or lowered. </li> </ul> </li> <li> <p>Once you've adjusted it to be accurate, Validate one last time before moving on.</p> <ul> <li>Click the button to bring the Top Camera to the Homing Fiducial and confirm it is still accurate. </li> <li>Click the button to place the selected nozzle tip to our newly adjusted position on the Homing Fiducial, and confirm it is still good. </li> <li>If both are accurate, proceed to next step.</li> </ul> </li> <li> <p>Apply and Save Adjusted Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the newly adjusted offset for the right nozzle. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/6-nozzle-offset/#next-steps","title":"Next Steps","text":"<p>Do not home the machine between this step and setting your bottom camera position!**</p> <p>The top camera to nozzle tip offset is meant to be done directly before setting your bottom camera position. Homing the machine between these steps has the chance to ruin the precise calibration you've done so far. If you have confirmed that the Top camera and nozzle tip locations are perfectly accurate, you MUST immediately set your bottom camera position, which is the next section. It is crucial that the bottom camera position is set after the top camera to nozzle tip offset has been perfectly aligned, as this ensures the bottom camera position is now 100% accurate.  All other calibrations are based on the bottom camera's accurate location, which is why it is crucial that this step is performed in this order.</p> <p>Next is Bottom Camera Position.</p>"},{"location":"misc/calibration/7-bottom-camera-position/","title":"Bottom Camera Position","text":"<p>Now that you have confirmed the top camera and nozzle tip locations are perfectly aligned, you must immediately set the bottom camera position by following the steps below.</p> <p>Do NOT home the machine at this point. If you have already homed it, return to the previous steps and re-validate that the top camera to nozzle tip offsets are still 100 percent accurate before continuing.</p> <p>It is critical that the bottom camera position is set directly after the top camera to nozzle tip offset has been fully and accurately calibrated. This ensures the bottom camera position itself is correct.</p> <p>All subsequent calibrations depend on the bottom camera being in the correct location. For this reason, this step must be performed in this order, and the bottom camera position should not be adjusted again once it has been set.</p> <ol> <li> <p>Open the Bottom Camera Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnpCaptureCamera Bottom</code>. </li> </ul> </li> <li> <p>Access the Position Tab.</p> <ul> <li>Click on the Position tab to begin setting the bottom camera\u2019s location.</li> <li>Ensure the Bottom camera's Z-height field is set to 31.5. (This step is specific to any LumenPnP V3 machine.)  </li> </ul> </li> <li> <p>Select Nozzle: N1.</p> <ul> <li>From the machine controls dropdown, select <code>Nozzle: N1 - N045 (Head:H1)</code>. This ensures the left nozzle is used for positioning. </li> </ul> </li> <li> <p>Align Nozzle Tip Over the Bottom Camera.</p> <ul> <li>In the <code>Position Tab</code>, click on the button to bring the nozzle tip over the bottom camera. This will jog the Nozzle: N1 (left toolhead) over the bottom camera. </li> <li>In <code>Machine Controls</code>, Use the arrows to center the nozzle tip in the bottom camera feed. </li> </ul> <p>Fine-Tuning Focus</p> <p>The bottom camera\u2019s focus is pre-adjusted before shipping, but you can fine-tune it if needed. loosen the set-screw in the side and slightly rotate the bottom camera lens until the image appears sharp.</p> <p></p> </li> <li> <p>Capture the Bottom Camera Position.</p> <ul> <li>Once the nozzle tip is sharp and centered, click the \"Capture Toolhead Location\" button to save the position. (The image in this step is from a V4 camera, which is different than the V3 camera. This image may not represent what you will see.)</li> </ul> <p>Blurry or Pixelated?</p> <p>If you are zoomed in very close to the nozzle tip, what may appear as blurriness could actually be pixelation. Try zooming out to check if this is the case.</p> <p> </p> </li> <li> <p>Apply and Save the Captured Nozzle Position</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save the bottom camera position in OpenPnP. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol> <p>Reminder: Do not change the bottom camera position.</p> <p>The bottom camera position should not be changed after the bottom camera location is set  All other calibrations are based on the bottom camera's accurate location, which is why it is crucial that this step is performed directly after calibrating the top camera to the nozzle tip. If you crash the nozzle, it is important to ensure the bottom camera's saved coordinates are still accurate before continuing.</p>"},{"location":"misc/calibration/7-bottom-camera-position/#next-steps","title":"Next Steps","text":"<p>Next is Nozzle Tip Calibration.</p>"},{"location":"misc/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/","title":"Nozzle Tip Runout Compensation","text":"<p>Nozzle Tip Runout Compensation measures how the nozzle tip's position shifts when the nozzle rotates. This shift is detected using the bottom camera. The compensation algorithm adjusts for any misalignment, ensuring more accurate placement. This process eliminates errors caused by runout, which can occur from either the nozzle tip or the nozzle itself. The calibration system automatically compensates for any combination of these factors. This section will be walking you through calibrating the <code>N045</code> and <code>N24</code> Nozzle Tips.</p> <p>To better visualize what nozzle tip runout is and how the compensation helps, here is an example:</p> <ul> <li>Without Compensation: </li> <li>With Compensation:  </li> </ul> <p>Note</p> <p>Runout can originate from either the nozzle tip or the nozzle it is attached to. The calibration system automatically handles both. </p> <p></p>"},{"location":"misc/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/#nozzle-tip-runout-compensation-for-nozzle-n1-left-toolhead","title":"Nozzle Tip Runout Compensation for Nozzle: N1 (left toolhead)","text":"<p>\ud83d\udea8Important!\ud83d\udea8 Read this if you're continuing from the previous steps.</p> <p>If you have just completed the previous steps, Nozzle: N1 should already be centered over the bottom camera, and you should be in the Bottom Camera Position tab. Do not move the nozzle position. Switch to the <code>Device Settings</code> tab. Skip to Step 4 to continue.</p> <ol> <li> <p>Select Nozzle: N1.</p> <ul> <li>If <code>Nozzle: N1</code> is already centered over the bottom camera, switch to the bottom camera's <code>Device Settings</code> tab and skip to <code>Step 4</code>.</li> <li>From the <code>Machine Controls</code> dropdown, select <code>Nozzle: N1 - N045 (Head:H1)</code>. </li> </ul> </li> <li> <p>Open the bottom Camera Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code>. </li> </ul> </li> <li> <p>Position Nozzle: N1 over the Bottom Camera.</p> <ul> <li>Open the \"Position\" tab, then click the <code>Position the tool over the center of the location</code> button. </li> </ul> </li> <li> <p>Calibrate the N045 Nozzle Tip Runout.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; N045 &gt; Calibration</code>, and click the <code>Calibrate</code> button. </li> <li>\ud83d\udea8 It is very important to closely observe the nozzle runout calibration. As the nozzle rotates, the detection must consistently track the nozzle tip and should not lock onto random circles or features that are clearly not part of the nozzle. If the runout calibration is inaccurate, parts will be placed incorrectly. </li> </ul> <p>Warning</p> <p>If calibration fails with an error message stating, \"...Too many vision misdetects...\", click the Pipeline <code>Edit</code> button to adjust the nozzle tip vision pipelinefor Nozzle Tip N045, then retest.   </p> <p></p> </li> <li> <p>Set Auto Recalibration.</p> <ul> <li>After successfully calibrating, Auto Recalibration should be set to <code>NozzleTipChange</code>. If it is set to <code>Manual</code>, change the Auto Recalibration setting from <code>Manual</code> to <code>NozzleTipChange</code>. This ensures that OpenPnP automatically recalibrates any loaded <code>N045</code> nozzle tips after homing or swapping tips. </li> </ul> </li> <li> <p>Confirm Final Exposure Settings for Nozzle: N1.</p> <ul> <li>If further exposure adjustments were necessary, update your saved exposure value for Nozzle: <code>N1</code> . You'll need it when restarting OpenPnP. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. (<code>Apply</code> may be greyed out. That's fine. Continue to save your configuration). </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/#nozzle-tip-runout-compensation-for-nozzle-n2-right-toolhead","title":"Nozzle Tip Runout Compensation for Nozzle: N2 (right toolhead)","text":"<ol> <li> <p>Select Nozzle: N2.</p> <ul> <li>From the <code>Machine Controls</code> dropdown, select <code>Nozzle: N2 - N24 (Head:H2)</code>. </li> </ul> </li> <li> <p>Open the bottom Camera Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code>. </li> </ul> </li> <li> <p>Position Nozzle: N2 over the Bottom Camera.</p> <ul> <li>Open the \"Position\" tab, then click the <code>Position the tool over the center of the location</code> button. </li> </ul> </li> <li> <p>Confirm the Correct Exposure.</p> <ul> <li>The exposure settings from the first nozzle should be close to what Nozzle Tip <code>N24</code> requires. If minor adjustments are needed, they will be refined in the vision pipeline for Nozzle Tip <code>N24</code> in the next steps.</li> </ul> </li> <li> <p>Calibrate the N24 Nozzle Tip Runout.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; N24 &gt; Calibration</code>, and click the <code>Calibrate</code> button. </li> <li>\ud83d\udea8 It is very important to closely observe the nozzle runout calibration. As the nozzle rotates, the detection must consistently track the nozzle tip and should not lock onto random circles or features that are clearly not part of the nozzle. If the runout calibration is inaccurate, parts will be placed incorrectly. </li> </ul> <p>Warning</p> <p>If calibration fails with an error message stating, \"...Too many vision misdetects...\", click the Pipeline <code>Edit</code> button to adjust the nozzle tip vision pipelinefor Nozzle Tip N24, then retest.   </p> <p></p> </li> <li> <p>Set Auto Recalibration.</p> <ul> <li>After successfully calibrating, Auto Recalibration should be set to <code>NozzleTipChange</code>. If it is set to <code>Manual</code>, change the Auto Recalibration setting from <code>Manual</code> to <code>NozzleTipChange</code>. This ensures that OpenPnP automatically recalibrates any loaded <code>N24</code> nozzle tips after homing or swapping tips. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. (<code>Apply</code> may be greyed out. That's fine. Continue to save your configuration). </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"misc/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/#final-check","title":"Final Check","text":"<p>\ud83d\udea8 Critical Warning: Level Nozzles \ud83d\udea8</p> <p>\u26a0\ufe0f You must ensure that your nozzles are level. Failure to do this can cause crashes and potentially damage your machine. Use the <code>P</code> between the Z-axis up/down arrows to ensure the nozzle tips are out of the way. The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. </p> <ol> <li> <p>Retest the N045 Calibration.</p> <ul> <li>If you made any changes to the bottom camera exposure settings when calibrating Nozzle: <code>N2</code>, retest the <code>N045</code> nozzle calibration to ensure the settings are compatible and the calibration works with the new exposure. </li> </ul> </li> <li> <p>Home the LumenPnP.</p> <ul> <li>Level the nozzles to prevent collisions before homing.</li> <li>Perform a homing of the LumenPnP to ensure that fiducial detection and nozzle tip calibration finish successfully for the <code>N1</code> and <code>N2</code> nozzles without errors.</li> <li>The homing sequence will first scan the homing fiducial, then proceed to scan and calibrate both nozzle tips. </li> </ul> </li> <li> <p>Update Saved Exposure Settings for Nozzle: N2 (If Needed).</p> <ul> <li>If you had to change your saved exposure value for your bottom camera to get a nozzle tip to complete runout calibration successfully, record the new exposure value. You'll need it when restarting OpenPnP. We recommend saving these values to a text file and storing it somewhere convenient. </li> </ul> </li> </ol> <p>Next is configuring the vacuum sensor.</p>"},{"location":"misc/import-config/","title":"Importing V3 Configuration Files","text":"<p>If you have an older V2, you'll download the V2 configuration files instead of the ones for the V3 mentioned below. The instructions to install them should be the same.</p> <p>To properly use OpenPnP with the LumenPnP V3, you need to configure the software with your machine's specifications, such as size, camera setup, and other essential settings. To simplify this, we provide a set of pre-configured files. Follow the steps below to import them correctly.</p> <p>\u26a0\ufe0f If you are setting up a LumenPnP V4, you cannot use this page. Follow this link to the correct V4 config files. \u26a0\ufe0f</p>"},{"location":"misc/import-config/#general-instructions","title":"General Instructions","text":"<p>We will be doing the following steps for the OS you have chosen.</p> <ul> <li> <p>Ensure OpenPnP is fully closed before proceeding.</p> </li> <li> <p>Download the latest V3 Config Files from the Software Updates Page.</p> </li> <li> <p>Extract the contents of the downloaded .zip file to a location you can easily access.</p> </li> <li> <p>Backup your current configuration files before replacing them.</p> </li> <li> <p>Follow the OS-specific instructions below to locate and replace the necessary configuration files.</p> </li> </ul>"},{"location":"misc/import-config/#linux-instructions","title":"Linux Instructions","text":"<ol> <li> <p>Before continuing, it is imperative to ensure OpenPnP is not running and fully closed.</p> </li> <li> <p>Download the zipped OpenPnP V3 Config Files for the <code>LumenPnP V3</code> by going to the Software Updates Page and returning to this page after.</p> <ul> <li></li> </ul> </li> <li> <p>Unzip the V3 config files to a location you will remember, while confirming it contains a <code>machine.xml</code> and a <code>vision-settings.xml</code>.</p> </li> <li> <p>Locate OpenPnP\u2019s hidden configuration folder (.openpnp2)</p> <ul> <li>Open Ubuntu's file manager, named (Nautilus)</li> <li>Navigate to /home/[username]/ (depending on your setup, you may not have a /[username]/ folder. In this case, stay in /home/)</li> <li>Press <code>CTRL</code> + <code>H</code> to reveal hidden folders. (Alternatively, go to the <code>View</code> menu and select Show Hidden Files.)</li> <li>There should now be additional folders and files that are visible within the folder you are viewing.</li> <li>Locate and open the <code>.openpnp2</code> folder that is now visible.</li> </ul> </li> <li> <p>In the <code>.openpnp2</code> folder, backup the existing files <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code> by copying them to a safe location.</p> </li> <li> <p>Replace the old <code>machine.xml</code> and <code>vision-settings.xml</code> files in the <code>.openpnp2</code> folder with the new <code>machine.xml</code> and <code>vision-settings.xml</code> files you unzipped earlier.</p> </li> </ol>"},{"location":"misc/import-config/#windows-instructions","title":"Windows Instructions","text":"<ol> <li> <p>Before continuing, it is imperative to ensure OpenPnP is not running and fully closed.</p> </li> <li> <p>Download the zipped OpenPnP V3 Config Files for the <code>LumenPnP V3</code> by going to the Software Updates Page and returning to this page after.</p> <ul> <li></li> </ul> </li> <li> <p>Unzip the V3 config files to a location you will remember, while confirming it contains a <code>machine.xml</code> and a <code>vision-settings.xml</code>.</p> </li> <li> <p>Locate OpenPnP\u2019s hidden configuration folder (.openpnp2)</p> <ul> <li>Enable hidden files by following these instructions.</li> <li>Navigate to:<ul> <li>Windows Vista or Newer: <code>C:\\Users\\[username]\\.openpnp2</code></li> <li>Windows XP or Older: <code>C:\\Documents and Settings\\[username]\\.openpnp2</code></li> </ul> </li> <li>Locate and open the <code>.openpnp2</code> folder that is now visible.</li> </ul> </li> <li> <p>In the <code>.openpnp2</code> folder, backup the existing files <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code> by copying them to a safe location.</p> </li> <li> <p>Replace the old <code>machine.xml</code> and <code>vision-settings.xml</code> files in the <code>.openpnp2</code> folder with the new <code>machine.xml</code> and <code>vision-settings.xml</code> files you unzipped earlier.</p> </li> </ol>"},{"location":"misc/import-config/#macos-instructions","title":"MacOS Instructions","text":"<ol> <li> <p>Before continuing, it is imperative to ensure OpenPnP is not running and fully closed.</p> </li> <li> <p>Download the zipped OpenPnP V3 Config Files for the <code>LumenPnP V3</code> by going to the Software Updates Page and returning to this page after.</p> <ul> <li></li> </ul> </li> <li> <p>Unzip the V3 config files to a location you will remember, while confirming it contains a <code>machine.xml</code> and a <code>vision-settings.xml</code>.</p> </li> <li> <p>Locate OpenPnP\u2019s hidden configuration folder (.openpnp2)</p> <ul> <li>Open Finder and navigate to /Users/[username]/.</li> <li>Reveal hidden files by following these instructions.</li> <li>There should now be additional folders and files that are visible within the folder you are viewing.</li> <li>Locate and open the <code>.openpnp2</code> folder that is now visible.</li> </ul> </li> <li> <p>In the <code>.openpnp2</code> folder, backup the existing files <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code> by copying them to a safe location.</p> </li> <li> <p>Replace the old <code>machine.xml</code> and <code>vision-settings.xml</code> files in the <code>.openpnp2</code> folder with the new <code>machine.xml</code> and <code>vision-settings.xml</code> files you unzipped earlier.</p> </li> </ol>"},{"location":"misc/import-config/#next-steps","title":"Next Steps","text":"<p>The next step is LumenPnP V3 calibration.</p> <p></p>"},{"location":"misc/photon/","title":"Photon Protocol","text":"<p>The Photon Protocol is designed to facilitate two different types of addressing. In Photon, you can address a feeder using both its UUID (the hard-coded name of that unique device) and its slot (the physical location on the machine). This is so that we can:</p> <ul> <li>keep track of what part is loaded into a feeder even when it's moved to a different location</li> <li>find a feeder regardless of where it's loaded on the machine</li> <li>easily discover new feeders when they're loaded onto the machine</li> </ul> <p>Only the host may initiate communication. Every Photon interaction is comprised of two packets: one packet from the host with a command and optional payload, and a response from a feeder with a status and optional payload of information.</p> <p>The following is the basic Photon packet structure.</p> <p></p> <p>The packet is made up of two parts: the header and the payload. The header contains exactly five bytes: \"to\" address, \"from\" address, packet ID, payload length, and the CRC. The payload always has at least one byte, either a command ID or a status. The payload can have optional further bytes.</p> <p>The host can send either broadcast and unicast commands. Unicast commands are meant for only the device in a certain slot. Broadcast commands are effectively speaking to the whole bus, and are instead addressing based on UUID, initialization status, or potentially other factors.</p> <p>Example Feeder Init and Feed</p> <pre><code>sequenceDiagram\n    participant H as Host\n    participant F as Slot 5\n    H-&gt;&gt;F: Hey, is a feeder at slot 5? (Command ID: 0x01)\n    activate F\n    F-&gt;&gt;H: Yes, my name is {UUID}\n    deactivate F\n    H-&gt;&gt;F: Cool, please initalize. (Command ID: 0x02)\n    activate F\n    F-&gt;&gt;H: I am initialized.\n    deactivate F\n    H-&gt;&gt;F: Please feed 4mm. (Command ID: 0x04)\n    activate F\n    F-&gt;&gt;H: On it!\n    H-&gt;&gt;F: Are you done yet? (Command ID: 0x06)\n    Note right of H: Delay\n    H-&gt;&gt;F: Are you done yet? (Command ID: 0x06)\n    Note right of H: Delay\n    H-&gt;&gt;F: Are you done yet? (Command ID: 0x06)\n    F-&gt;&gt;H: I'm done, and I fed successfully.\n    deactivate F</code></pre> <p>Example Bus Scan</p> <pre><code>sequenceDiagram\n    participant H as Host\n    participant F as Slot N\n    loop\n        H-&gt;&gt;F: Hey, is a feeder at slot N? (Command ID: 0x01)\n        F-&gt;&gt;H: Yes, my name is {UUID}\n        H-&gt;&gt;F: Cool, please initalize (Command ID: 0x02)\n        activate F\n        F-&gt;&gt;H: I am initialized.\n        deactivate F\n        Note right of H: N++\n    end</code></pre>"},{"location":"misc/photon/#header-bytes","title":"Header Bytes","text":""},{"location":"misc/photon/#to-address","title":"To Address","text":"<p>This byte indicates which address the packet is intended for. This address value is equivalent to the slot addresses.</p> <p>Valid values are anywhere between <code>0x00</code> and <code>0xFF</code>. Address <code>0x00</code> is reserved for the host, and address <code>0xFF</code> is reserved for broadcast commands.</p>"},{"location":"misc/photon/#from-address","title":"From Address","text":"<p>This byte indicates which address the packet is coming from. This address value is equivalent to the slot addresses.</p> <p>Valid values are anywhere between <code>0x00</code> and <code>0xFF</code>. Address <code>0x00</code> is reserved for the host, and <code>0xFF</code> should not be used.</p>"},{"location":"misc/photon/#packet-id","title":"Packet ID","text":"<p>The Packet ID is an identifying byte that allows the devices on the bus to keep track of requests. When a feeder responds to a command, it includes the Packet ID of the initiating packet. This allows the host to determine which packet the feeder is responding to.</p> <p>This byte is a value between <code>0x00</code> and <code>0xFF</code>. The host should increment this value for every command sent, and roll back to <code>0x00</code> once it reaches <code>0xFF</code>.</p>"},{"location":"misc/photon/#payload-length","title":"Payload Length","text":"<p>The payload length is the number of bytes contained in the payload. This number will always be at least <code>0x01</code>, as each packet has at least a Command ID or Status.</p>"},{"location":"misc/photon/#crc","title":"CRC","text":"<p>The CRC byte is a checksum calculated on the entire packet sans the checksum byte. The checksum can be calculated as shown below:</p> <p>JavaScript</p> <pre><code>calcCRC(data){\n    let crc = 0;\n    for(var i = 0; i&lt;data.length; i++){\n        crc = crc ^ (data[i] &lt;&lt; 8);\n        for(let j = 0; j &lt; 8; j++){\n            if ((crc &amp; 0x8000) != 0) {\n            crc = crc ^ (0x1070 &lt;&lt; 3);\n            }\n            crc &lt;&lt;= 1;\n        }\n    }\n    return (crc &gt;&gt; 8) &amp; 0xFF;\n}\n</code></pre> <p>C</p> <pre><code>uint8_t crc8(uint8_t data, size_t len) {\n    uint32_t crc = 0;\n\n    for (size_t i = 0; i &lt; len; i++) {\n        crc ^= (data &lt;&lt; 8);\n        for (size_t bit_n = 0; bit_n &lt; 8; bit_n++) {\n            if (crc &amp; 0x8000) {\n                crc ^= (0x1070 &lt;&lt; 3);\n            }\n            crc &lt;&lt;= 1;\n        }\n    }\n\n    return (uint8_t)(crc &gt;&gt; 8);\n}\n</code></pre> <p>Once the CRC is calculated, it should be spliced into the packet in the appropriate location. The CRC should be recalculated and compared with the received CRC for every received packet to confirm data integrity.</p>"},{"location":"misc/photon/#payload","title":"Payload","text":"<p>The first byte of the payload is always a Command ID when coming from the host, and always a Status when coming as a response from a feeder. The Command ID tells the feeder what action to perform or what information to send. The Status tells the host the status of the command.</p> <p>The rest of the payload is used for any other information that needs to be sent, depending on the situation.</p> Command Code Name <code>0x01</code> <code>GET_FEEDER_ID</code> <code>0x02</code> <code>INITIALIZE_FEEDER</code> <code>0x03</code> <code>GET_VERSION</code> <code>0x04</code> <code>MOVE_FEED_FORWARD</code> <code>0x05</code> <code>MOVE_FEED_BACKWARD</code> <code>0x06</code> <code>MOVE_FEED_STATUS</code> <code>0xbf</code> <code>VENDOR_OPTIONS</code> <code>0xc0</code> <code>GET_FEEDER_ADDRESS</code> <code>0xc1</code> <code>IDENTIFY_FEEDER</code> <code>0xc2</code> <code>PROGRAM_FEEDER_FLOOR</code> <code>0xc3</code> <code>UNINITIALIZED_FEEDERS_RESPOND</code> Status Code Name <code>0x00</code> <code>OK</code> <code>0x01</code> <code>WRONG_FEEDER_ID</code> <code>0x02</code> <code>COULDNT_REACH</code> <code>0x03</code> <code>UNINITIALIZED_FEEDER</code> <code>0x04</code> <code>FEEDING_IN_PROGRESS</code> <code>0x05</code> <code>FAIL</code> <code>0xFE</code> <code>TIMEOUT</code> <code>0xFF</code> <code>UNKNOWN</code>"},{"location":"misc/photon/#unicast-commands","title":"Unicast Commands","text":""},{"location":"misc/photon/#get_feeder_id-0x01","title":"GET_FEEDER_ID <code>0x01</code>","text":"Send Requires Initialized NO Addressing UNICAST Payload NONE Receive Value Position Status <code>OK</code> 0 Payload 12 Byte UUID 1-13 <p>GET_ID is used to get a feeder's UUID knowing only it's slot address. GET_ID is used mainly to scan the bus address space and see if a feeder is present in a slot, and get its UUID for initilizing.</p>"},{"location":"misc/photon/#example","title":"Example","text":"<p>Send:</p> <pre><code>[02] [00] [07] [01] [C0] [01]\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0x01 means GET_ID\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [0D] [D7] [00] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   12 Byte UUID\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 13\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#initialize_feeder-0x02","title":"INITIALIZE_FEEDER <code>0x02</code>","text":"Send Requires Initialized NO Addressing UNICAST Payload 12 Byte UUID Receive Value Position Status <code>OK</code> (0x00), <code>WRONG_FEEDER_ID</code> (0x01) 0 Payload 12 Byte UUID 1-13 <p>INITIALIZE_FEEDER is used to initialize a feeder and allow it to perform other functions.</p>"},{"location":"misc/photon/#example_1","title":"Example","text":"<p>Send:</p> <pre><code>[02] [00] [07] [0D] [C0] [02] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   12 Byte Feeder UUID\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0x02 means INITIALIZE\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 13\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [0D] [D7] [00] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   12 Byte Feeder UUID\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 13\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#get_version-0x03","title":"GET_VERSION <code>0x03</code>","text":"Send Requires Initialized YES Addressing UNICAST Payload None Receive Value Position Status <code>OK</code> 0 Payload Version 1 <p>GET_VERSION is used to get the version of the protocol used by a specific feeder.</p>"},{"location":"misc/photon/#example_2","title":"Example","text":"<p>Send:</p> <pre><code>[02] [00] [07] [01] [C0] [03]\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0x02 means GET_VERSION\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [02] [D7] [00] [01]\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   Protocol Version\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 2\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#move_feed_forward-0x04","title":"MOVE_FEED_FORWARD <code>0x04</code>","text":"Send Requires Initialized YES Addressing UNICAST Payload Distance to move (in tenths of a mm) Receive Value Position Status <code>OK</code> 0 Payload Expected Feed Time in milliseconds 1-2 (Big Endian) <p>MOVE_FEED_FORWARD is used to command a feeder to feed a certain distance forward. It returns the expected amount of time it will take to perform the feed.</p>"},{"location":"misc/photon/#example_3","title":"Example","text":"<p>Send:</p> <pre><code>[02] [00] [07] [02] [C0] [04] [28]\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   Distance (in tenths of a mm)\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0x04 means MOVE_FEED_FORWARD\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 2\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [03] [D7] [00] [02] [48]\n |    |    |    |    |    |    |____|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   2 Byte Expected Time to Feed\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 3\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#move_feed_backward-0x05","title":"MOVE_FEED_BACKWARD <code>0x05</code>","text":"Send Requires Initialized YES Addressing UNICAST Payload Distance to move (in tenths of a mm) Receive Value Position Status <code>OK</code> 0 Payload Expected Feed Time in milliseconds 1-2 (Big Endian) <p>MOVE_FEED_BACKWARD is used to command a feeder to feed a certain distance backwards. It returns the expected amount of time it will take to perform the feed.</p>"},{"location":"misc/photon/#example_4","title":"Example","text":"<p>Send:</p> <pre><code>[02] [00] [07] [02] [C0] [05] [28]\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   Distance (in tenths of a mm)\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0x05 means MOVE_FEED_BACKWARD\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 2\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [0D] [D7] [00] [02] [48]\n |    |    |    |    |    |    |____|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   2 Byte Expected Time to Feed\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 3\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#move_feed_status-0x06","title":"MOVE_FEED_STATUS <code>0x06</code>","text":"Send Requires Initialized YES Addressing UNICAST Payload None Receive Value Position Status <code>OK</code> (0x00), <code>COULDNT_REACH</code> (0x01) 0 Payload None <p>MOVE_FEED_STATUS is used to determine if a feeder has finished a feed command, and get the status of the last feed. Feeding is blocking, so this command is intended to be used to probe a feeder until a response is received with the last feed's status.</p>"},{"location":"misc/photon/#example_5","title":"Example","text":"<p>Send:</p> <pre><code>[02] [00] [07] [01] [C0] [06]\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0x06 means MOVE_FEED_STATUS\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [01] [D7] [00]\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#vendor_options-0xbf","title":"VENDOR_OPTIONS <code>0xBF</code>","text":"Send Requires Initialized YES Addressing UNICAST Payload Implementation Dependent Receive Value Position Status Implementation Dependent 0 Payload Implementation Dependent <p>VENDOR_OPTIONS is a section used to add vendor-specific commands behind a dedicated command ID. The specifics of this command depend on your implementation.</p>"},{"location":"misc/photon/#example_6","title":"Example","text":"<p>Send:</p> <pre><code>[02] [00] [07] [0D] [C0] [BF] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   Vendor-Specific Payload\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0xBF means VENDOR_OPTIONS\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length is dependent on implementation\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [0D] [D7] [3F] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   Vendor-Specific Payload\n |    |    |    |    |    |\n |    |    |    |    |   Vendor-Specific Status\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length dependent on implementation\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#broadcast-commands","title":"Broadcast Commands","text":""},{"location":"misc/photon/#get_feeder_address-0xc0","title":"GET_FEEDER_ADDRESS <code>0xC0</code>","text":"Send Requires Initialized NO Addressing BROADCAST Payload 12 Byte UUID Receive Value Position Status <code>OK</code> 0 Payload None <p>GET_FEEDER_ADDRESS is used to get the slot address of a feeder based on its UUID. If a feeder's UUID matches the one sent in the payload, it will respond with status <code>OK</code> (0x00) with a \"From\" address that indicates its slot.</p>"},{"location":"misc/photon/#example_7","title":"Example","text":"<p>Send:</p> <pre><code>[FF] [00] [07] [0D] [C0] [C0] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   12 Byte Feeder UUID\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0xC0 means GET_FEEDER_ADDRESS\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 13\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nBroadcast Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [01] [D7] [00]\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#identify_feeder-0xc1","title":"IDENTIFY_FEEDER <code>0xC1</code>","text":"Send Requires Initialized NO Addressing BROADCAST Payload 12 Byte UUID Receive Value Position Status <code>OK</code> 0 Payload None <p>IDENTIFY_FEEDER is used to cause the feeder to do some action that makes it identifiable by a user. For example, the LumenPnP feeders flash their main indicator light when they receive this command.</p>"},{"location":"misc/photon/#example_8","title":"Example","text":"<p>Send:</p> <pre><code>[FF] [00] [07] [0D] [C0] [C1] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   12 Byte Feeder UUID\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0xC1 means IDENTIFY_FEEDER\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 13\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nBroadcast Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [01] [D7] [00]\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#program_feeder_floor-0xc2","title":"PROGRAM_FEEDER_FLOOR <code>0xC2</code>","text":"Send Requires Initialized NO Addressing BROADCAST Payload 12 Byte UUID Address to Program Receive Value Position Status <code>OK</code> 0 Payload None <p>PROGRAM_FEEDER_FLOOR is used to program an address into a slot. This should only need to be done once per slot.</p>"},{"location":"misc/photon/#example_9","title":"Example","text":"<p>Send:</p> <pre><code>[FF] [00] [07] [0E] [C0] [C2] [02] [48] ..... [37] [30] [05]\n |    |    |    |    |    |    |_____________________|   |\n |    |    |    |    |    |    |                         |\n |    |    |    |    |    |    |                         |\n |    |    |    |    |    |    |                        Address to program\n |    |    |    |    |    |    |\n |    |    |    |    |    |   12 Byte Feeder UUID\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0xC2 means PROGRAM_FEEDER_FLOOR\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 14\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nBroadcast Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [05] [07] [01] [D7] [00]\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address (which was just programmed)\n |\nTo Address\n</code></pre>"},{"location":"misc/photon/#uninitialized_feeders_respond-0xc3","title":"UNINITIALIZED_FEEDERS_RESPOND <code>0xC3</code>","text":"Send Requires Initialized NO Addressing BROADCAST Payload None Receive Value Position Status <code>OK</code> 0 Payload 12 Byte UUID 1-12 <p>UNINITIALIZED_FEEDERS_RESPOND causes all feeders on the bus that are not initialized to respond. This command should only be used when it's known that there's only one uninitialized feeder on the bus. This command is mainly used for helping in slot programming utilies.</p>"},{"location":"misc/photon/#example_10","title":"Example","text":"<p>Send:</p> <pre><code>[FF] [00] [07] [0E] [C0] [C3]\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |    |\n |    |    |    |    |   Sending Command 0xC3 means UNINITIALIZED_FEEDERS_RESPOND\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 1\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nBroadcast Address\n</code></pre> <p>Receive:</p> <pre><code>[00] [02] [07] [0D] [D7] [00] [02] [48] ..... [37] [30]\n |    |    |    |    |    |    |_____________________|\n |    |    |    |    |    |    |\n |    |    |    |    |    |    |\n |    |    |    |    |    |   12 Byte Feeder UUID\n |    |    |    |    |    |\n |    |    |    |    |   Status 0x00 means OK\n |    |    |    |    |\n |    |    |    |   Checksum\n |    |    |    |\n |    |    |   Payload Length of 13\n |    |    |\n |    |   Packet ID\n |    |\n |   From Address\n |\nTo Address\n</code></pre>"},{"location":"misc/standalone-feeders/","title":"Standalone Feeder Control","text":""},{"location":"misc/standalone-feeders/#standalone-feeder-control","title":"Standalone Feeder Control","text":"<p>The default method of communicating with Opulo Feeders is through the LumenPnP motherboard. If you have a different PnP machine but would like to use Opulo Feeders, pick up a LumenPnP motherboard, a Slot Harness Kit, and you'll be able to connect directly to them.</p> <p>If you'd like to accomplish this a different way, there are a few options.</p> <p>Help</p> <p>This is not the standard way of communicating with the Photon feeders! As Photon gets more adoption, and boards are designed around communicating with them specifically, this will become more common practice. But for now, this method of talking with feeders will require a bit of debugging and trial &amp; error. If you have trouble, hop into our Discord server and see if someone has a solution!</p>"},{"location":"misc/standalone-feeders/#lumenpnp-emulation","title":"LumenPnP Emulation","text":"<p>By emulating the LumenPnP motherboard, you can communicate with feeders in the intended method using different hardware. You will need:</p> <ul> <li>STM32F407 Dev Board</li> <li>RS-485 Transceiver</li> </ul> <p>Following the motherboard's schematic, connect the RS-485 serial port connections on the STM32 dev board to the transceiver. Load Marlin onto the dev board in the factory recommended method (likely either DFU or via SWD). You'll need to provide your own 24v bus to power the feeders. Connect the output of the transceiver and 24v power supply to the input of the Slot Harness Kit.</p> <p>This method allows you to interface with the feeders using the standard method in OpenPnP. Aside from setting up a second serial port for communicating with feeders, all other configuration should be the same.</p>"},{"location":"misc/standalone-feeders/#usb-rs-485-dongle","title":"USB &lt;-&gt; RS-485 Dongle","text":"<p>This method uses a USB &lt;-&gt; RS-485 adapter to communicate with the feeders. Communicating directly with the RS-485 bus has been done for debugging, but not for regular communication during a job. This will require some tinkering to get going, including changing the regex for feeder communication in OpenPnP.</p>"},{"location":"misc/supporting-equipment/","title":"Supporting Equipment","text":""},{"location":"misc/supporting-equipment/#machines","title":"Machines","text":"<p>reflow oven and shiz</p>"},{"location":"misc/supporting-equipment/#furniture","title":"Furniture","text":""},{"location":"misc/supporting-equipment/#ikea-trotten","title":"IKEA Trotten","text":""},{"location":"misc/supporting-equipment/#ikea-melltorp","title":"IKEA Melltorp","text":""},{"location":"misc/upgrade/","title":"Upgrade to v4","text":"<p>v4 has enough changes from the previous release that it's most effective to fully disassemble your current LumenPnP. There are effectively no subassemblies that have not be updated in some way, so a full rebuild is the fastest way to get your machine upgraded.</p> <p>We highly recommend picking a version. Select a release starting with <code>v4</code> from the LumenPnP Github page and stick to it!</p> <p>All upgrade parts available on the Opulo Web Store are suited to upgrading to v4.</p>"},{"location":"misc/upgrade/#parts","title":"Parts","text":"<p>When determining if you have the right parts, always reference the BOM. This is attached to each release. Download the zip file, unzip it, and open the HTML page with your browser. Make sure you have purchased all the parts needed, or already have them from disassembling your old build.</p> <p>You'll have to print parts as well. There are printing instructions in the BOM file.</p> <p>If you have questions, please don't hesitate to reach out.</p>"},{"location":"misc/upgrade/#build","title":"Build","text":"<p>With your parts and tools collected, dive into building! We highly recommend opening the FreeCAD model of the LumenPnP for reference as you build.</p> <p>The best place to start from is this OHAI page. Note that OHAI is written as internal assembly instructions for Opulo employees. It will reference jigs, tools, and other specifics that you might not have. This is the currently most accurate guide for upgrading your machine until dedicated build instructions are written.</p> <p>If you have questions, please don't hesitate to reach out and we'll be happy to help!</p>"},{"location":"misc/versions/","title":"LumenPnP Versions","text":"<p>The LumenPnP is always being upgraded and improved. This page is a reference for determining what and how to upgrade parts of your machine, depending on what version you built or bought.</p>"},{"location":"misc/versions/#summary-of-versions","title":"Summary of Versions","text":""},{"location":"misc/versions/#v2xx","title":"v2.X.X","text":"<p>The v2 of the LumenPnP was a kit. It came as a box of parts and circuit boards, and users would 3D print all the plastic parts themselves. The LumenPnP v2 had:</p> <ul> <li>V-Slot Rollers for linear motion</li> <li>A REV03 Motherboard</li> <li>Umbilicals for cable management</li> <li>One Nozzle and pneumatic system</li> <li>No foot extensions</li> <li>No included feeder slots</li> </ul>"},{"location":"misc/versions/#v30x","title":"v3.0.X","text":"<p>v3.0 versions of the LumenPnP were the first to come semi-assembled. They arrived with all printed parts included, and bolted together from just a handful of subassemblies. The LumenPnP v3.0 had:</p> <ul> <li>V-Slot Rollers for linear motion</li> <li>A REV04 Motherboard</li> <li>Cable chain for cable management</li> <li>Two Nozzles and pneumatic systems</li> <li>No foot extensions</li> <li>No included feeder slots</li> </ul>"},{"location":"misc/versions/#v31x","title":"v3.1.X","text":"<p>v3.1.X was a significant improvement to the previous version, introducing linear rails and upgrading to cable chain.</p> <ul> <li>Linear rails for linear motion</li> <li>A REV04 Motherboard</li> <li>Cable chain for cable management</li> <li>Two Nozzles and pneumatic systems</li> <li>Included foot extensions</li> <li>Feeder slots included</li> </ul>"},{"location":"misc/versions/#v32x","title":"v3.2.X","text":"<p>v3.2.X of the machine is almost identical to v3.1.X, except that the slots (where feeders interface with the machine) are ganged together into \"blades\" to make them easier to manufacure.</p> <ul> <li>Linear rails for linear motion</li> <li>A REV04 Motherboard</li> <li>Cable chain for cable management</li> <li>Two Nozzles and pneumatic systems</li> <li>Included foot extensions</li> <li>Feeder blades included</li> </ul>"},{"location":"misc/versions/#v2xx-upgrade-paths","title":"v2.X.X Upgrade Paths","text":"<pre><code>flowchart TD\n    A[\"`**LumenPnP v2.X.X**\n    - V-Slot Rollers\n    - One Nozzle\n    - Umbilical\n    - REV03 Motherboard\n    `\"] --&gt; B[/I want...\\]\n    B -- Better Strain Relief ---&gt; C[Reprint &amp; Install New Z Gantries]\n\n    B -- Faster Machine ---&gt; E[Stargirl's v2 Linear Rail Mod]\n    E ---&gt; F[Update OpenPnP Gcode Macros]\n\n    B -- Second Nozzle ---&gt; G[Buy Second Nozzle Kit]\n    G ---&gt; K[Install Second Nozzle]\n\n    B -- REV04 Motherboard ---&gt; I[Buy LumenPnP PCB Kit]\n    I ---&gt; J[Update OpenPnP Gcode Macros]\n\n    style A text-align:left\n\n    click E \"#stargirls-v2-linear-rail-mod\" _blank\n    style E color:#daa520\n\n    click F \"#update-openpnp-gcode-macros\"\n    style F color:#daa520\n\n    click G \"https://www.opulo.io/products/wired-toolhead-assembly\" _blank\n    style G color:#daa520\n\n    click K \"https://docs.opulo.io/guides/second-tool/\" _blank\n    style K color:#daa520\n\n    click J \"#update-openpnp-gcode-macros\"\n    style J color:#daa520\n\n    click C \"#new-z-gantries\"\n    style C color:#daa520\n\n    click I \"https://www.opulo.io/products/lumenpnp-pcb-kit\"\n    style I color:#daa520\n\n</code></pre>"},{"location":"misc/versions/#v30x-upgrade-paths","title":"v3.0.X Upgrade Paths","text":"<pre><code>flowchart TD\n    A[\"`**LumenPnP v3.0.X**\n    - V-Slot Rollers\n    - Two Nozzles\n    - XY Cable Chain\n    - REV04 Motherboard\n    `\"] --&gt; B[/I want...\\]\n    B -- Better Strain Relief ---&gt; C[Reprint &amp; Install New Z Gantries]\n    B -- Faster Machine ---&gt; E[Stargirl's v3 Linear Rail Mod]\n    E ---&gt; F[Update OpenPnP Gcode Macros]\n\n\n    style A text-align:left\n\n    click C \"#new-z-gantries\"\n    style C color:#daa520\n\n    click E \"#stargirls-v3-linear-rail-mod\"\n    style E color:#daa520\n\n    click F \"#update-openpnp-gcode-macros\"\n    style F color:#daa520\n</code></pre>"},{"location":"misc/versions/#upgrades","title":"Upgrades","text":""},{"location":"misc/versions/#stargirls-v2-linear-rail-mod","title":"Stargirl's v2 Linear Rail Mod","text":"<p>Community member Stargirl developed a linear rail modification for the v2 LumenPnP. Many folks in the community have performed this mod with great success. If you'd like to upgrade your v2 to linear rails, use Stargirl's instructions on Printables.</p> <p>Once you've added the linear rails, you can greatly increase the speed of your machine. Do this by changing the \"Max. Feed Rate [/min]\" in your GcodeDriver's Driver Settings in OpenPnP to <code>35000</code>.</p> <p></p>"},{"location":"misc/versions/#stargirls-v3-linear-rail-mod","title":"Stargirl's v3 Linear Rail Mod","text":"<p>Community member Stargirl developed a linear rail modification for the v3.0 LumenPnP. Many folks in the community have performed this mod with great success. If you'd like to upgrade your v3.0 to linear rails, use Stargirl's instructions on Printables.</p> <p>Once you've added the linear rails, you can greatly increase the speed of your machine. Do this by changing the \"Max. Feed Rate [/min]\" in your GcodeDriver's Driver Settings in OpenPnP to <code>35000</code>.</p> <p></p>"},{"location":"misc/versions/#new-z-gantries","title":"New Z Gantries","text":"<p>In machines prior to v3.1, there wasn't much strain relief for the L and R motors.</p> <p></p> <p>Starting in v3.1, the z-gantry print got a location to secure the cable using a zip tie.</p> <p></p> <p>Reprinting your z-gantries from the v3.1 release and zip tieing the cables to the print will greatly improve the strain relief for your machine's cables.</p> <p>v2 Users</p> <p>If you're performing this upgrade on a v2, the height of the nozzles will change by performing this upgrade. Update your OpenPnP configuration to make your Z axis match reality.</p>"},{"location":"misc/versions/#update-openpnp-gcode-macros","title":"Update OpenPnP Gcode Macros","text":"<p>If you're upgrading your machine's hardware, it's very likely you'll need to update how OpenPnP controls it as well. Depending on what you changed, you'll have to splice new Gcode into OpenPnP to support it. In general, speed settings are based on if your machine has linear rails or rollers.</p> <p>To update your Gcode Macros, visit our guide for doing so.</p>"},{"location":"openpnp/v4/","title":"LumenPnP V4 Calibration Docs","text":""},{"location":"openpnp/v4/#next-steps","title":"Next Steps","text":"<p>First, we'll connect to your LumenPnP V4.</p>"},{"location":"openpnp/v4/calibration/","title":"LumenPnP V4 Calibration - Introduction","text":""},{"location":"openpnp/v4/calibration/#what-youll-learn","title":"What you'll learn","text":"<p>This guide is focused on performing basic calibration for your LumenPnP V4. Specifically, it will test the motion system, calibrate the cameras to identify objects, and apply offsets to the toolhead for precise part picking and placing. These steps are usually only necessary when first setting up a LumenPnP V4 for the first time.</p> <p>Pick-and-place machines are complicated and require extensive calibration to work correctly. OpenPnP is a large piece of software that can take time to learn. Please note that learning the software and calibrating your machine can take many hours, and that time should be set aside for getting everything honed in.</p> <p>We provide these docs and default configuration files to make the process as straightforward as possible, but if you notice things that we can be doing to make the process easier, please do not hesitate to let us know by making a Github Issue.</p> <p>Important</p> <p>You must complete these calibration steps in order. Each calibration step relies on the steps that come before, so it's imperative that you complete them in the order we have them listed.</p>"},{"location":"openpnp/v4/calibration/#save-your-settings","title":"Save Your Settings","text":"<p>Save your settings after each calibration step. OpenPnP may not remember your settings if you close the application without saving them, so save them every time you adjust your calibration.</p> <p></p>"},{"location":"openpnp/v4/calibration/#different-calibration-methods","title":"Different calibration methods","text":"<p>OpenPnP has a feature called <code>Issues and Solutions</code> that tries to identify calibration tasks that need to be performed. Some users have reported success using this tool, but it is incongruent with the rest of these calibration steps and provided configuration files. This documentation explicitly aims to use the provided configuration files. We highly recommend using the provided configuration files and following this documentation. If you choose to use the <code>Issues and Solutions</code> tool instead, we recommend using the OpenPnP Wiki for reference.</p> <p>If you'd like to start from scratch with your setup, community member Qwertymodo has posted a very helpful video showing his process of doing calibration on his machine from scratch. This video is outdated, but it can help see how OpenPnP operates.</p>"},{"location":"openpnp/v4/calibration/#what-youll-need","title":"What you'll need","text":"<ul> <li>A LumenPnP V4 with the mechanical and electrical build completed.</li> <li>A smooth, flat surface on which to operate your machine. Your LumenPnP V4 should always be used on a flat and hard surface.</li> </ul>"},{"location":"openpnp/v4/calibration/#next-steps","title":"Next Steps","text":"<p>First, we'll connect to your LumenPnP V4 and configure your bottom camera.</p>"},{"location":"openpnp/v4/calibration/10-vacuum-sensor/","title":"Vacuum Part Detection","text":"<p>When picking up parts with the LumenPnP, it\u2019s important to verify that a part has been successfully picked. While the bottom camera also confirms this visually, using the LumenPnP's vacuum sensors provides a faster way to detect a successful pick, preventing it from having to bring the component to the bottom camera first to detect the part. Because the bottom camera does checks the part, even if slightly slower, you can freely disable the vacuum part detection with confidence that you'll still be able to place your parts.</p>"},{"location":"openpnp/v4/calibration/10-vacuum-sensor/#how-vacuum-part-detection-works","title":"How Vacuum Part Detection Works","text":"<p>When a part is picked up, it seals the nozzle opening, causing an increase in vacuum pressure within the pneumatic line. This change in pressure is measured by the vacuum sensors, and OpenPnP uses this data to determine whether a part has been successfully picked. With the nozzle tip covered, if the vacuum sensor value falls within the Vacuum Range low and high values, OpenPnP considers the part \"picked\".</p> <p>Each nozzle has a different vacuum reading due to variations in nozzle tip size. The exact numbers aren\u2019t critical as long as you understand how to set the high and low values correctly and adjust them accordingly. </p> <p>Disabling Vacuum Detection is an Option</p> <p>Vacuum Part detection is not required to use the LumenPnP because the bottom camera checks for a part before placing anyway. If you'd like to disable this feature, it's just a matter of setting \"Measurement Method\" to \"None\" on the relevant nozzle tip. Don't forget to <code>Apply</code> your settings and save your configuration before moving on. <code>Machine Setup &gt; Nozzle Tips &gt; Reference Nozzle Tip N## &gt; Part detection tab &gt; Measurement Method &gt; None</code></p> <p></p> <p></p>"},{"location":"openpnp/v4/calibration/10-vacuum-sensor/#setting-up-vacuum-part-detection-for-nozzle-n1","title":"Setting Up Vacuum Part Detection for Nozzle: N1","text":"<ol> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N1 - N045 (Head:H1)</code> from the machine controls dropdown. </li> </ul> </li> <li> <p>Confirm the correct nozzle tip is installed.</p> <ul> <li>Ensure that the <code>N045</code> nozzle tip is securely attached to Nozzle: N1 (left toolhead). </li> </ul> </li> <li> <p>Position Nozzle: N1 for Accurate Readings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom &gt; Position tab</code></li> <li>Click the <code>Position the tool over the center of the location</code> button.</li> <li>This brings the <code>nozzle: N1</code> to the same Z height as the datum board, ensuring more consistent readings for the following steps. </li> </ul> </li> <li> <p>Open the Part Detection Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N045 &gt; Part Detection</code>. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure While Open.</p> <ul> <li>In <code>Machine Controls</code>, navigate to the <code>Actuators</code> tab.</li> <li>Select <code>H1:VAC1</code> to open the vacuum pressure window.</li> <li>Click <code>On</code> to activate the pump and valve.  </li> <li>Click <code>Read</code>. A value will appear in the <code>Read Value box</code>. This represents the vacuum pressure when the Nozzle: N1 is uncovered.</li> <li>Take note of this number. We will need it later. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure While Covered.</p> <ul> <li>Take one of the components from the strip of components included with your LumenPnP kit, or a component from your BOM that is an appropriate size for this nozzle, and hold it up to the nozzle tip. The vacuum pressure should be able to pick up and hold the part on its own.</li> <li>Click <code>Read</code> again. This represents the vacuum pressure when a part is picked, or \"covered\". </li> <li>Take note of the new value. We will also need it later.</li> <li>Click <code>Off</code> to deactivate the pump and valve.</li> <li>Close the <code>H1:VAC1</code> vacuum pressure window. </li> </ul> </li> <li> <p>Calculate the Detection Threshold.</p> <ul> <li>Find the midpoint between the uncovered and covered values. For example:<ul> <li>Uncovered: 220</li> <li>Covered: 200</li> <li>Midpoint: 210 \u2192 Enter this as the <code>High Value</code>. </li> </ul> </li> <li>Enter the calculated midpoint value into the Vacuum Range <code>High Value</code> field for the N045 nozzle tip.</li> <li>Ensure the <code>Low Value</code> is at least 10-20 units lower than the \"Midpoint\" reading. The default low value is 220, but if your readings are close to this number (like the example above), you may need to lower it further to avoid false detections. If your Midpoint value is 210, setting the <code>Low Value</code> to 190 (or lower) is a good starting point. </li> </ul> <p>Caution</p> <p>The difference between uncovered and covered readings may be small, but even a single-digit change can indicate a successful pick. Nozzle sizes affect these readings, so expect variations between nozzles.</p> <p></p> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes to the N045 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/10-vacuum-sensor/#setting-up-vacuum-part-detection-for-nozzle-n2","title":"Setting Up Vacuum Part Detection for Nozzle: N2","text":"<ol> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N2 - N24 (Head:H1)</code> from the machine controls dropdown. </li> </ul> </li> <li> <p>Confirm the correct nozzle tip is installed.</p> <ul> <li>Ensure that the <code>N24</code> nozzle tip is securely attached to Nozzle: N2(right toolhead). </li> </ul> </li> <li> <p>Position Nozzle: N2 for Accurate Readings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom &gt; Position tab</code></li> <li>Click the <code>Position the tool over the center of the location</code> button. </li> <li>This brings the <code>Nozzle: N2</code> to the same Z height as the datum board, ensuring more consistent readings for the following steps. </li> </ul> </li> <li> <p>Open the Part Detection tab.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N24 &gt; Part Detection</code>. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure.</p> <ul> <li>In <code>Machine Controls</code>, navigate to the <code>Actuators</code> tab.</li> <li>Select <code>H1:VAC2</code> to open the vacuum pressure window.</li> <li>Click <code>On</code> to activate the pump and valve. </li> <li>Click <code>Read</code>. A value will appear in the <code>Read Value box</code>. This represents the vacuum pressure when Nozzle: N2 is uncovered.</li> <li>Take note of this number. We will need it later. </li> </ul> </li> <li> <p>Measure the Vacuum Pressure with a Sealed Nozzle.</p> <ul> <li>Take a component from your BOM that is an appropriate size for this nozzle and hold it up to the nozzle tip. The vacuum pressure should be able to pick up and hold the part on its own. If you do not have a component large enough for this nozzle tip, you may use your fingertip as a fallback. However, using an actual component will provide the most accurate results.</li> <li>Click <code>Read</code> again. This represents the vacuum pressure when a part is picked, or \"covered\". </li> <li>Take note of the new value. We will also need it later.</li> <li>Click <code>Off</code> to deactivate the pump and valve.</li> <li>Close the <code>H1:VAC2</code> vacuum pressure window. </li> </ul> </li> <li> <p>Calculate the Detection Threshold.</p> <ol> <li>Find the midpoint between the uncovered and covered values. For example:<ul> <li>Uncovered: 230</li> <li>Covered: 200</li> <li>Midpoint: 215 \u2192 Enter this as the <code>High Value</code>. </li> </ul> </li> <li>Enter the calculated midpoint value into the Vacuum Range <code>High Value</code> field for the N24 nozzle tip.</li> <li>Ensure the <code>Low Value</code> is at least 10-20 units lower than the \"Midpoint\" reading. The default low value is 220, but if your readings are close to this number(like the example above), you may need to lower it further to avoid false detections. If your Midpoint value is 215, setting the <code>Low Value</code> to 195 (or lower) is a good starting point. </li> </ol> <p>Don't forget</p> <p>The difference between uncovered and covered readings may be small, but even a single-digit change can indicate a successful pick. Nozzle sizes affect these readings, so expect variations between nozzles.</p> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes to the N24 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/10-vacuum-sensor/#next-steps","title":"Next Steps","text":"<p>Next is Running Your First Job.</p>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/","title":"Connect to Your LumenPnP and Configure Bottom Camera","text":"<p>Now that OpenPnP is installed and the LumenPnP configuration files have been placed in the hidden system folder, OpenPnP can start with some basic preconfigured settings. The next step is to connect your LumenPnP and get familiar with OpenPnP\u2019s user interface..</p> <p>Then, we will install the N045 and N24 nozzle tips to help us with calibration.</p> <p>Finally, we will configure your bottom camera by establishing a connection to it, and setting the correct exposure.</p>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#prepare-for-connection","title":"Prepare for Connection","text":"<p>Before launching OpenPnP, follow these guidelines to ensure a smooth connection:</p> <p>USB Connection Order Matters!</p> <p>Always plug in your LumenPnP\u2019s USB cable before launching OpenPnP. If OpenPnP is already open, close it before connecting the USB.</p> <p>Camera USB Ports</p> <p>Plug cameras directly into your computer using separate USB ports. Avoid USB hubs, as they may not provide enough bandwidth for the cameras.Use separate USB ports directly into your computer. The cameras require a lot of USB bandwidth, and many USB hubs aren't capable of handling it. For best results, make sure each camera is plugged into a different USB port directly into your computer, ideally on different internal USB hubs.</p>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#connecting-to-your-lumenpnp-v4","title":"Connecting to Your LumenPnP V4","text":"<p>Follow these steps in order:</p> <ol> <li> <p>Ensure OpenPnP is closed.</p> </li> <li> <p>Power the LumenPnP by plugging in the barrel jack power cable.</p> </li> <li> <p>Connect the LumenPnP to your computer using the included USB cable.</p> </li> <li> <p>Connect both cameras using their USB cables.</p> </li> <li> <p>Launch OpenPnP. You should now see the OpenPnP user interface: </p> </li> </ol>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#configure-the-serial-port","title":"Configure the Serial Port","text":"<p>Before OpenPnP can communicate with the LumenPnP, we need to set the correct serial port.</p> <ol> <li> <p>Open Machine Setup</p> <ul> <li>Click the <code>Machine Setup</code> tab, toward the top right section of OpenPnP. </li> </ul> </li> <li> <p>Expand the Configuration Trees</p> <ul> <li>Check the <code>Expand</code> checkbox toward the top right of OpenPnP to show all machine configuration options.</li> <li>This will expand all of the categories, and sub-categories, in the upper pane of <code>Machine Setup</code> and will require you to scroll to see all of the options mentioned below. </li> </ul> </li> <li> <p>Select the Gcode Driver</p> <ul> <li>In the upper pane, locate the newly expanded <code>Drivers</code> category and click on <code>GcodeDriver GcodeDriver</code>. </li> </ul> </li> <li> <p>Choose the Correct Port</p> <ul> <li>Under the <code>Serial Port</code> section in the <code>Configuration</code> tab, select the correct <code>Port</code> from the dropdown menu:<ul> <li>Linux: Select the <code>Port</code> formatted as <code>ttyACM#</code>. (Examples ttyACM0, ttyACM1, ttyACM2, etc.) </li> <li>Windows: The <code>Port</code> will be labeled as <code>COM#</code>. (Examples COM1, COM2, COM3, etc.)</li> <li>Mac: Look for a <code>Port</code> in the format of <code>cu.usbmodemXXXX</code>, where <code>XXXX</code> is a series of numbers. </li> </ul> </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration: <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol> <p>Port Not Found?</p> <p>If your machine's port isn't listed: </p> <ol> <li> <p>Ensure the USB cable is securely connected on both sides.</p> </li> <li> <p>Make sure the motherboard is powered on.</p> </li> <li> <p>Close OpenPnP, press the reset button on the control box, wait a few seconds, and reopen OpenPnP. </p> </li> <li> <p>Finally, use our Debug Tool and see if you are able to connect your LumenPnP there.</p> </li> </ol> <p></p>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#establish-a-connection","title":"Establish a Connection","text":"<ol> <li> <p>Connect OpenPnP to Your Machine</p> <ul> <li>Click the green power button in the <code>Machine Controls</code> section (Bottom left of OpenPnP). </li> </ul> </li> <li> <p>Confirm Connection</p> <ul> <li>If successful, the green power button will turn red. This means OpenPnP has successfully connected to your machine.</li> <li>If unsuccessful,review your Serial Port Connection. </li> </ul> </li> <li> <p>Turn On Ring Lights</p> <ul> <li>In the bottom left corner of OpenPnP, go to <code>Machine Controls</code>.</li> <li>Click the <code>Actuators</code> tab.</li> <li>Click the <code>LED</code> button.</li> <li>Then press <code>On</code>. </li> <li>Close the LED window.</li> <li>Switch back to the <code>Jog</code> tab so you are ready to move the nozzles in the following steps.</li> </ul> <p>Keep Ring Lights On</p> <p>Keep the ring lights on for the rest of calibration. All calibrations should be based on the lighting from the ring lights. Once calibration is complete and running a job on the LumenPnP, OpenPnP will automatically control the ring lights as needed, eliminating the need for manual operation during normal use.</p> </li> </ol>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#preparing-for-homing","title":"Preparing for Homing","text":"<ol> <li> <p>Level the nozzles before homing.</p> <p>\ud83d\udea8 Critical Warning: Level Nozzles Before Homing \ud83d\udea8</p> <p>Before pressing the homing button-now and every time in the future-you must ensure that your nozzles are level. \u26a0\ufe0f Failure to do this can cause crashes and potentially damage your machine. OpenPnP does not remember the previous nozzle positions from the last homing sequence, meaning it cannot adjust movements based on past alignment. If the nozzles are not level before homing, they may collide with the machine, leading to misalignment or serious hardware damage.  </p> <p>Note</p> <p>Use the <code>P</code> between the Z-axis up/down arrows located in Machine Controls toward the bottom left of OpenPnP. This ensures the nozzle tips are out of the way.  The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. If nothing happens after you click the <code>P</code> button, that means the nozzles are at a safe height already. <p>Nozzles not level after parking.</p> <p>The nozzles may not be level when clicking the \u201cPark\u201d button, which is okay. The nozzle only moves to the point that it reaches the \u201csafe zone\u201d and then stops.</p> <p></p> <li> <p>Before we home the LumenPnP, it is very important that we check a couple of settings.</p> <ul> <li>Go to <code>Machine Setup &gt; Nozzle Tips &gt;N045 &gt; Calibration Tab &gt; Auto Recalibration</code></li> <li>Ensure <code>Auto Recalibration</code> is set to <code>Manual</code>. </li> <li>Then, go to <code>Machine Setup &gt; Nozzle Tips &gt;N24 &gt; Calibration Tab &gt; Auto Recalibration</code></li> <li>Ensure <code>Auto Recalibration</code> is set to <code>Manual</code>. </li> </ul> </li> <li> <p>Once the nozzle tips are set to <code>Manual</code>, click the Home button to perform a rough homing sequence.</p> <ul> <li>The Nozzles will move to X, Y, and Z zero positions (front-left corner of the LumenPnP) and park there.</li> <li>If the LumenPnP does not stay in the front left corner of the machine, Please go back to the prior step and ensure the <code>Manual</code> settings was saved. </li> </ul> </li>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#install-the-nozzle-tips","title":"Install the Nozzle Tips","text":"<ol> <li> <p>Locate Your Nozzle Tips and SuperLube tube.</p> <ul> <li>Find and remove the <code>N045</code> and <code>N24</code> nozzle tips in the nozzle rack located in your LumenPnP v4 packaging. </li> <li>Remove the <code>SuperLube</code> Tube that is in the LumenPnP V4 Black Tool Kit.</li> </ul> </li> <li> <p>Lubricate both brass nozzles.</p> <ul> <li>Apply a small amount of SuperLube to the brass nozzles. This prevents damage to the rubber O-rings when mounting nozzle tips. We pre-lubricate them before shipping, but adding extra ensures longevity. </li> </ul> <p>Automatic Nozzle Tip Swapping</p> <p>OpenPnP supports automatic nozzle tip swapping, but we don\u2019t recommend it yet due to inconsistent performance. This feature will be improved in a future update, and the nozzle tip rack will be mounted on the staging plate. Most jobs can be completed using an <code>N045</code> on one nozzle and an <code>N24</code> on the other.</p> <p></p> </li> <li> <p>Mount the <code>N045</code> Nozzle Tip onto Nozzle: N1.</p> <ul> <li>In OpenPnP, navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code>.</li> <li>Select the <code>Nozzle Tips</code> tab, and check the <code>Loaded?</code> checkbox for the <code>N045</code> row.</li> <li>Your machine will jog the head to the front of the machine for easy tip loading. </li> <li>A \u201dTask Interrupted:\u201d window will pop up. This is not an error! OpenPnP is just notifying you that the job has been stopped if one is running. This is normal and can be dismissed. </li> <li>Slide the N045 nozzle tip (the one with the smaller opening) onto the left nozzle. Rotate the nozzle tip as you mount it to the brass nozzle to evenly distribute the lubricant around the O-rings. It should slide on and off smoothly after working it in. </li> </ul> </li> <li> <p>Mount the <code>N24</code> Nozzle Tip onto Nozzle: N2.</p> <ul> <li>In OpenPnP, navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N2</code>.</li> <li>Select the <code>Nozzle Tips</code> tab, and check the <code>Loaded?</code> checkbox for the <code>N24</code> row.</li> <li>Don\u2019t forget. It will move to the second nozzle and you\u2019ll see the \u201dTask Interrupted:\u201d popup window again. </li> <li>Slide the N24 nozzle tip (the one with the larger opening) onto the right nozzle. Rotate the nozzle tip as you mount it to the brass holder to ensure the grease works its way into the tip and around the O-rings. It should slide on and off easily after working it in. </li> </ul> <p>Why These Nozzle Tips?</p> <p>The N045 and N24 nozzle tips cover the vast majority of parts without needing swaps. We highly recommend keeping them as the default and only swapping when absolutely (e.g., for very heavy parts).</p> </li> </ol>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#configuring-the-bottom-camera","title":"Configuring the Bottom Camera","text":"<p>Before calibration begins, the bottom camera and exposure must be set up properly. We will need to install a nozzle tip and position it above the bottom camera to properly adjust the exposure.</p> <p>Which Reticle should I use?</p> <p>We use the \"Ruler\" Reticle in the following steps. If you prefer to use the same reticle style that we use, right-click on the top or bottom camera feed and choose <code>Reticle</code>, then \"<code>Ruler</code>\" to match our docs photos best. </p> <ol> <li> <p>\ud83d\udea8 Remove the Top Camera Lens Cap \ud83d\udea8</p> <ul> <li>\u26a0\ufe0f Ensure the top camera has its lens caps removed. </li> </ul> </li> <li> <p>Navigate to the Bottom Camera's Device Settings tab in OpenPnP</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnpCaptureCamera Bottom &gt; Device Settings tab</code>. </li> </ul> </li> <li> <p>Choose the Correct Camera Device</p> <ul> <li>In the <code>Device Settings</code> tab, select <code>LumenPnP Bottom</code> from the <code>Device</code> dropdown. </li> </ul> <p>Duplicate Camera Names</p> <p>If two cameras appear with the same name, select one. If incorrect, choose the other. This is a bug within OpenPnP.</p> <p></p> </li> <li> <p>Set Resolution and Frame Rate</p> <ul> <li>In the <code>Format</code> drop-down menu, select <code>1920x1080 5fps</code>. A low frame rate is crucial to avoid bandwidth/performance issues. </li> </ul> </li> <li> <p>Apply and Verify</p> <ul> <li>Click <code>Apply</code> to save the Bottom Camera settings. One of the red \"X\"s in the camera feed should disappear. The image might be entirely black, but we'll fix that in the following steps.</li> <li>Save your OpenPnP configuration so OpenPnP will remember this when opened. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#adjust-camera-exposure","title":"Adjust Camera Exposure","text":"<p>Other Camera Settings</p> <p>In the following step, do not modify any camera settings other than exposure. The default values should remain unchanged.</p> <ol> <li> <p>Select Nozzle: N1.</p> <ul> <li>From the <code>Machine Controls</code> dropdown, select <code>Nozzle: N1 - N045 (Head:H1)</code>. </li> </ul> </li> <li> <p>Positioning 'Nozzle: N1' Over the Bottom Camera</p> <ul> <li>Using the <code>Machine Controls</code>, jog <code>Nozzle: N1</code> to be roughly centered above the datum board.</li> <li>Set the <code>Distance</code> slider to <code>0.1</code> or <code>0.01</code> for when you need more precise movements. </li> <li>Lower <code>Nozzle: N1</code>, using the <code>Z-axis</code> controls, until the nozzle tip is barely touching the datum board. (The very edge of the datum board has been ideal for easily seeing how close it is before Nozzle: N1 barely makes contact). Lowering it to the same height as the datum board ensures the nozzle is at the correct Z-height before calibration. </li> <li>Keeping the Z-height unchanged, jog <code>Nozzle: N1</code> to be centered over the bottom camera feed. </li> </ul> </li> <li> <p>Adjust the bottom camera exposure.</p> <ul> <li>Return to <code>Machine Setup &gt; Cameras &gt; OpenPnpCaptureCamera Bottom</code> to adjust the exposure. This will help us through the rest of the calibration.</li> <li>\ud83d\udea8 Keep all other camera settings at their default value, and only adjust the exposure slider.</li> <li>In the <code>OpenPnpCaptureCamera Bottom</code> go back to the <code>Device Settings</code> tab. </li> <li>Located the <code>Exposure</code> slider and click on the check box labeled <code>Auto</code>. The camera will attempt to find the correct exposure.</li> <li>Then, uncheck the <code>Auto</code> box to ensure we are now in \"manual adjustment\" mode. </li> <li>Using the jog controls, fine-tune the nozzle tip location to be perfectly centered over the bottom camera's reticle. You can use your mouse scroll wheel to zoom in on the feed for more precision. </li> <li>Right click on the bottom camera's feed and select <code>Show Image Info?</code> to enable the image info card. This will give you the brightness histogram of the image. </li> <li>Use the histogram as a general guide rather than a precise measurement. It\u2019s a helpful tool but not exact. For the best results, refer to the comparison photos below, which show examples of 'too bright,' 'too dark,' and 'good exposure' to help you fine-tune your settings after using the histogram.</li> <li>In the next step, we'll be aiming for a sharp peak on the right side and a larger cluster to the left in the histogram. See the image below for reference. </li> </ul> <p>\ud83d\udea8 Important \ud83d\udea8</p> <p>The reference image above is just an example. Your histogram may look very different depending on lighting conditions, camera placement, and other environmental factors. Do not try to match it exactly. Instead, focus on achieving the key characteristics: a distinct peak on the right and a noticeable cluster, or peak, to the left. Adjust gradually until the image is clear and well-exposed.</p> </li> <li> <p>Find the Correct Exposure.</p> <ul> <li>Adjust the exposure slider, or enter varying manual exposure values, to ensure the camera can clearly detect the dark hole in the nozzle tip for calibration. The exposure should be balanced. Meaning, bright enough to distinguish the nozzle tip from the background but not so bright that the hole becomes difficult to detect. Aim for a setting where the brightest areas are visible but do not appear completely white, and the darker areas remain well-defined. Use the following images as a reference for adjusting exposure: </li> <li>Close the Histogram window when you are done with it.</li> </ul> <p>Not seeing anything in the bottom camera feed?</p> <p>If you are not seeing anything after adjusting the bottom camera exposure, ensure the lens caps on the bottom camera has been removed.</p> <p>For Mac Users</p> <p>On some Macs, If OpenPnP doesn\u2019t allow exposure adjustments, use the open-source tool, CameraController.</p> <p></p> </li> <li> <p>Record the Bottom Camera Exposure Value</p> <ul> <li>OpenPnP may not retain your camera exposure settings after restart. Record and save your exposure value by saving them in a text file or writing them down.</li> <li>This means every time you boot up OpenPnP you'll have to:<ul> <li>Toggle Auto Exposure <code>on</code>, then <code>off</code>. (This puts your camera into manual exposure mode)</li> <li>Type your recorded exposure value into the exposure field beside the slider. </li> </ul> </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes, if applicable. (OpenPnP may have the button greyed out. That is fine.) </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/2-connect-to-machine/#next-steps","title":"Next Steps","text":"<p>Now that your LumenPnP V4 is connected, nozzle tips have been installed and the bottom camera exposure is configured, you're ready to proceed with Configuring Top Camera and Homing Fiducial.</p>"},{"location":"openpnp/v4/calibration/4-homing-fiducial/","title":"Configure Top Camera and Homing Fiducial","text":"<p>First, we will establish a connection with the top camera, like we did with the bottom camera.</p> <p>Then, we can set up the datum board location, which is a key component to the homing sequence. The center dot on the datum board is called the \"homing fiducial\", and is the key calibration point in fine-tuning the machine\u2019s X/Y position and compensates for minor variations in limit switch accuracy. Configuring the homing fiducial ensures precise and repeatable homing for the LumenPnP.</p> <p>Finally, we will go back and fine-tune the top camera exposure settings for proper homing calibration. We will use the top camera aligned above the datum board's homing fiducial to properly adjust the exposure.</p>"},{"location":"openpnp/v4/calibration/4-homing-fiducial/#configuring-the-top-camera","title":"Configuring the Top Camera","text":"<p>Now that your bottom camera exposure has been fine-tuned, the same thing needs to be done to the top camera. We'll connect to the top camera in this step and adjust the exposure.</p> <p>\ud83d\udea8 The homing fiducial is the 1mm dot in the center of the Opulo logo, located toward the center of the datum board. \ud83d\udea8 </p> <ol> <li> <p>Select the Top Camera in OpenPnP</p> <ul> <li>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Cameras &gt; OpenPnpCaptureCamera Top &gt; Device Settings tab</code>. </li> </ul> </li> <li> <p>Choose the Correct Camera Device</p> <ul> <li>In the <code>Device Settings</code> tab, select <code>LumenPnP Top</code> from the <code>Device</code> dropdown. </li> </ul> </li> <li> <p>Set Resolution and Frame Rate</p> <ul> <li>In the <code>Format</code> dropdown menu, select <code>1920x1080, 5FPS</code>. A low frame rate is crucial to avoid bandwidth/performance issues. </li> </ul> </li> <li> <p>Apply and Verify</p> <ul> <li>Click <code>Apply</code> to save the Top Camera settings. One of the red \"X\"s in the camera feed should disappear. The image might be entirely black, but we'll fix that in the following steps. </li> </ul> </li> <li> <p>Save Your Configuration</p> <ul> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/4-homing-fiducial/#preparing-for-homing","title":"Preparing for Homing","text":"<ol> <li>Confirm the following settings before homing the LumenPnP.</li> <li>Go to Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; <code>Homing Method</code> is set to <code>None</code></li> <li>Go to Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N045 &gt; Calibration Tab &gt; Auto Recalibration: <code>Manual</code></li> <li> <p>Go to Machine Setup &gt; Nozzle Tips &gt; ReferenceNozzleTip N24 &gt; Calibration Tab &gt; Auto Recalibration: <code>Manual</code></p> </li> <li> <p>Level the nozzles before homing.</p> <p>\ud83d\udea8 Critical Warning: Level Nozzles Before Homing \ud83d\udea8</p> <p>Before pressing the homing button\u2014now and every time in the future\u2014you must ensure that your nozzles are level. \u26a0\ufe0f Failure to do this can cause crashes and potentially damage your machine. OpenPnP does not remember the previous nozzle positions from the last homing sequence, meaning it cannot adjust movements based on past alignment. If the nozzles are not level before homing, they may collide with the machine, leading to misalignment or serious hardware damage.  </p> <p></p> </li> <li> <p>Click the Home button to perform a rough homing sequence.</p> <ul> <li>The Nozzles will move to X, Y, and Z zero positions (front-left corner of the LumenPnP) and park there. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/4-homing-fiducial/#setting-homing-fiducial-location","title":"Setting Homing Fiducial Location","text":"<ol> <li> <p>Navigate to  <code>Machine Setup &gt; Heads &gt; ReferenceHead H1</code>. </p> </li> <li> <p>In the Configuration tab, change the Homing Method to <code>ResetToFiducialLocation</code>.</p> <ul> <li>This sets the homing sequence to always finish by scanning the fiducial, which helps correct any minor inaccuracies caused by the endstops. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> <p>Caution</p> <p>DO NOT click the homing button again until you have fine-tuned the homing fiducial location, as explained in the next section.</p> <p></p> </li> <li> <p>Click on the \"Position Camera Over Location\" icon button shown below.</p> <ul> <li>This moves the top camera to the approximate position above the datum board. </li> </ul> </li> <li> <p>Ensure LED lights are still on:</p> <ul> <li>Ensure your Top and Bottom ring lights are still set to <code>On</code>. If not, go back to the Machine Controls in the bottom-left section of OpenPnP and go to <code>Actuators tab &gt; LED &gt; On</code> and close the actuator window.</li> </ul> </li> <li> <p>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Cameras &gt; OpenPnPCaptureCamera Top</code>. </p> </li> <li> <p>In the lower detail pane, switch to the <code>Device Settings</code> tab if you are not already there. </p> </li> <li> <p>Located the <code>Exposure</code> slider and check the check box labeled <code>Auto</code>. The camera will attempt to find the correct exposure.</p> </li> <li> <p>Then, uncheck the <code>Auto</code> box to ensure we are now in \"manual adjustment\" mode. </p> </li> <li> <p>If the image is still difficult to see, slightly adjust the exposure until the datum board is easily visible. This will be fine-tuned after setting the homing fiducial location.</p> <ul> <li>\ud83d\udea8 Keep all other camera settings at their default value, and only adjust the exposure slider.</li> </ul> </li> <li> <p>Return to the <code>Machine Controls</code> (bottom left of OpenPnP) so we can fine-tune the homing fiducial location. </p> </li> <li> <p>Align the Top Camera:</p> <ul> <li>Towards the bottom right of OpenPnP, use the jog controls to position the center of the reticle directly over the Homing Fiducial in the perfect-center of the Opulo logo. Adjust the <code>Distance</code> slider as needed. </li> </ul> </li> <li> <p>Now that we're perfectly centered on the homing fiducial, We need to save this location in two different places.</p> <ul> <li>Navigate back to  <code>Machine Setup &gt; Heads &gt; ReferenceHead H1</code>. </li> <li>First Location: click the <code>Capture Camera Location</code> button to save the fiducial\u2019s position for the Homing Fiducial. </li> <li>Second Location: Scroll down to the Calibration Rig section and click the <code>Capture Camera Location</code> button next to the Primary Fiducial field. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/4-homing-fiducial/#fine-tune-camera-exposure","title":"Fine-tune Camera Exposure","text":"<p>In order for OpenPnP to reliably detect the LumenPnP's homing fiducial, we'll need to set the exposure and camera settings for your top camera correctly.</p> <ol> <li> <p>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Cameras &gt; OpenPnPCaptureCamera Top</code>. </p> </li> <li> <p>In the lower detail pane, switch to the <code>Device Settings</code> tab. </p> </li> <li> <p>Right click on the top camera's feed and select <code>Show Image Info?</code> to enable the image info card. This will give you the brightness histogram of the image.</p> <ul> <li>Use the histogram as a general guide rather than a precise measurement. It\u2019s a helpful tool but not exact. For the best results, refer to the comparison photos below, which show examples of 'too bright,' 'too dark,' and 'good exposure' to help you fine-tune your settings after using the histogram. </li> </ul> </li> <li> <p>Adjust the Top Camera exposure using the slider or entering an exposure value.</p> <ul> <li>\ud83d\udea8 Keep all other camera settings at their default value, and only adjust the exposure slider.</li> <li>Aim for a sharp peak on the right side and a larger cluster to the left in the histogram. See the image below for reference.</li> </ul> <p>\ud83d\udea8 Important \ud83d\udea8</p> <p>The reference image below is just an example. Your histogram may look very different depending on lighting conditions, camera placement, and other environmental factors. Do not try to match it exactly. Instead, focus on achieving the key characteristics: a distinct peak on the right and a noticeable cluster to the left. Adjust gradually until the image is clear and well-exposed. </p> <ul> <li>Locate and adjust the <code>Exposure</code> slider, or manually enter varying exposure values, until the Datum Board is easy to see. </li> <li>Turn off the histogram view the same way you turned it on.</li> </ul> <p>Not seeing anything in the top camera feed?</p> <p>Ensure the lens caps on the top camera has been removed.</p> <p></p> </li> <li> <p>Once you've found a good exposure value, record your exposure value by saving them in a text file or writing them down:</p> <ul> <li>OpenPnP may not retain your camera exposure settings after restart. Record and save your exposure value by saving them in a text file or writing them down.</li> <li>This means every time you boot up OpenPnP you'll have to:<ul> <li>Toggle Auto Exposure <code>on</code>, then <code>off</code>. (This puts your camera into manual exposure mode)</li> <li>Type your recorded exposure value into the exposure field beside the slider.</li> </ul> </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/4-homing-fiducial/#test-fiducial-homing","title":"Test Fiducial Homing","text":"<ol> <li> <p>Click on the Home button in the <code>Machine Controls Pane &gt; Jog Tab</code> and watch your machine home using the limit switches, then moves the top camera over the homing fiducial and find its exact location. When the camera scans the fiducial, it will have a red-colored hue that scans for the fiducial's circle. </p> </li> <li> <p>If you receive the error <code>FIDUCIAL-HOME no matches found</code>, OpenPnP was not able to find your homing fiducial. You need to adjust your Homing Fiducial Pipeline. </p> </li> </ol>"},{"location":"openpnp/v4/calibration/4-homing-fiducial/#next-steps","title":"Next Steps","text":"<p>Next is the MM/Pixel Calibration.</p>"},{"location":"openpnp/v4/calibration/5-mm-per-pixel/","title":"MM/Pixel Calibration","text":"<p>This next step calibrates the relationship between pixels and millimeters to make our cameras more accurate.</p> <p>The main reason for needing to perform the mm to pixel calibration is to translate pixel data into accurate, real-world measurements (like millimeters). This allows for reliable sizing of objects, quality control, and dimensional analysis in computer vision by correcting for lens distortions and establishing a precise scale factor, which is crucial for tasks needing quantifiable results beyond just visual identification.</p>"},{"location":"openpnp/v4/calibration/5-mm-per-pixel/#top-camera-mmpixel-calibration","title":"Top Camera MM/Pixel Calibration","text":"<p>In this step, we will calibrate the mm/pixels for the Top Camera. This requires us to set the dimensions and use a virtual bounding box to outline and measure one of the squares on the datum board, known as a golden guideline square. This allows us to calibrate the top camera\u2019s Units per pixel, giving us accurate top camera movement. </p> <ol> <li> <p>Select the Top Camera.</p> <ul> <li>Confirm that your <code>Top Camera</code> is still centered on your <code>Homing Fiducial</code></li> <li>Navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHeadH1 &gt; Cameras &gt; OpenPnPCaptureCamera Top</code>. </li> </ul> </li> <li> <p>Click on the <code>General Configuration</code> tab. </p> </li> <li> <p>Scroll down to the <code>Units Per Pixel</code> section.</p> <ul> <li>Locate the Object Dimension Fields for X and Y. </li> </ul> </li> <li> <p>Set the Object Dimensions.</p> <ul> <li>In the X Object Dimension field, enter <code>5</code>.</li> <li>In the Y Object Dimension field, enter <code>5</code>.</li> <li>Double-check that both X and Y are set correctly before proceeding. </li> </ul> </li> <li> <p>Locate a calibration square to be measured.</p> <ul> <li>Jog the machine until a golden guideline square is fully visible in the top camera view. The square should be roughly centered in the camera's reticles. The whole square must be visible. If necessary, use the scroll wheel to zoom out and ensure the entire square is visible.</li> <li>In <code>Machine Controls</code>, you can adjust the <code>Distance Slider</code> to jog in larger or smaller increments when locating the golden guideline square. </li> </ul> </li> <li> <p>Align and Measure.</p> <ul> <li>locate and click the <code>Measure</code> button. </li> <li>Click and drag in the camera view to create a bounding box. Align it with the center of the golden guideline square to align with the lines along its edge. The square is exactly 5mm x 5mm. </li> </ul> <p>Squareness</p> <p>Don't worry if the box's square doesn't perfectly align with the camera image. Any slight skew will be adjusted for during jobs with fiducial calibration.</p> <p></p> </li> <li> <p>Finalize Calibration.</p> <ul> <li>Once you have it perfectly outlined, click the <code>Measure</code> button again to update the Units Per Pixel values. </li> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/5-mm-per-pixel/#validate-top-camera-mmpixel-calibration","title":"Validate Top Camera MM/Pixel Calibration","text":"<p>Lets verify the top camera calibration was successful. This will ensure the top camera's millimeter per pixel is accurate so it is moving the correct amount for a given command.</p> <ol> <li> <p>Ensure your top camera view is fully zoomed out.</p> <ul> <li>Hover over the top camera's video feed, and scroll with the mouse wheel or trackpad to zoom all the way out.</li> </ul> </li> <li> <p>Confirm top camera is calibrated correctly.</p> <ul> <li>Click and drag the center reticle (located in the middle of the camera feed) to one of the corners of the Golden Guideline Square.</li> <li>If the mm/pixel calibration is correct, the Top Camera will move to be precisely over your chosen corner.  </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/5-mm-per-pixel/#bottom-camera-mmpixel-calibration","title":"Bottom Camera MM/Pixel Calibration","text":"<p>The following steps will calibrate the mm/pixels for the Bottom Camera. This requires us to set the dimensions and use a virtual bounding box to outline the nozzle tip. This allows us to calibrate the bottom camera\u2019s Units per pixel, giving us accurate bottom camera movement.</p> <ol> <li> <p>Home your machine using the \"Home\" button.</p> <ul> <li>The LumenPnP will perform the homing process and position the top camera over the homing fiducial. In future steps, the homing sequence will also scan the nozzle tips after calibrating the homing fiducial, but for now, it should only scan the homing fiducial.</li> </ul> </li> <li> <p>Select the bottom Camera.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code></li> <li>In the drop-down under <code>Machine Controls</code>, select <code>Nozzle: N2 - N24 (Head: H1)</code> to control the nozzle on the right. This way, for any nozzle commands we run, OpenPnP knows to base them on Nozzle: N2 and not the other nozzle. </li> </ul> </li> <li> <p>Manually adjust the Nozzle to be over the Bottom Camera.</p> <ul> <li>Using the controls at the bottom left of OpenPnP, jog <code>Nozzle: N2</code> (right toolhead) to roughly the center of the Datum board, positioning it near the edge closest to the bottom camera. </li> <li>Lower the <code>Nozzle: N2</code> so that it\u2019s just barely touching the top surface of the Datum Board, just like we did with the first nozzle tip in previous steps. Placing the nozzle tip on the edge of the Datum Board makes it easier to see the nozzle tip's proximity to the Datum board as you lower it.</li> <li>Keep the nozzle at this Z height and carefully use the jog controls to move it directly over the center of the bottom camera\u2019s reticle. </li> </ul> <p>Fine-Tuning Focus</p> <p>The bottom camera\u2019s focus is pre-adjusted before shipping, but you can fine-tune it if needed. The lens is secured with friction grease, so apply light pressure while twisting the top portion of the lens until the image appears sharp. Avoid excessive force.</p> <p></p> </li> <li> <p>Go to the <code>General Configuration</code> tab.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code></li> <li>Select the <code>General Configuration</code> tab. </li> </ul> </li> <li> <p>Scroll down to the <code>Units Per Pixel</code> section.</p> <ul> <li>Locate the Object Dimension Fields for X and Y. </li> </ul> </li> <li> <p>Set the Object Dimensions</p> <ul> <li>In the X Object Dimension field, enter <code>4</code>.</li> <li>In the Y Object Dimension field, enter <code>4</code>.</li> <li>Double-check that both X and Y are set correctly before proceeding. </li> </ul> </li> <li> <p>Align and Measure</p> <ul> <li>locate and click the <code>Measure</code> button. </li> <li>Click and drag in the camera view to create a bounding box. Align it with the center of the nozzle tip so that it's perfectly tangent to the edges as shown in the image. </li> </ul> </li> <li> <p>Finalize Bottom Camera Calibration</p> <ul> <li>Once you have it perfectly outlined, click the <code>Measure</code> button again to update the Units Per Pixel values. </li> <li>Click <code>Apply</code> in the lower right corner to save your changes. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/5-mm-per-pixel/#validate-bottom-camera-mmpixel-calibration","title":"Validate Bottom Camera MM/Pixel Calibration","text":"<p>Lets verify the bottom camera calibration was successful. This will ensure the bottom camera's millimeter per pixel is accurate so it is moving the correct amount for a given command.</p> <ol> <li> <p>Ensure your bottom camera view is fully zoomed out.</p> <ul> <li>Hover over the top camera's feed, and scroll with the mouse wheel or trackpad to zoom all the way out.</li> </ul> </li> <li> <p>Confirm bottom camera MM/Pixel is calibrated correctly.</p> <ul> <li>Click and drag the center reticle (located in the middle of the camera feed) to the edge of the nozzle tip and then back to the center of the tip.</li> <li>The Bottom Camera should now be centered on the nozzle tip again. </li> <li>If it's inaccurate, repeat the bottom camera calibration and confirm you are using the larger N24 nozzle tip on Nozzle: N2 (right toolhead).</li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/5-mm-per-pixel/#next-steps","title":"Next Steps","text":"<p>Next is Nozzle Offset Calibration. </p>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/","title":"Top Camera to Nozzle Offset","text":"<p>Calibrating the top camera to nozzle tip offset ensures precise alignment between the nozzle tips and the top camera. This process involves capturing the exact position of the nozzle tip and aligning the top camera to the same reference point. The calibration is essential for accurate component placement and must be performed carefully.</p> <p>The calibration of the top camera to nozzle tip (this page we're on), and the bottom camera position (the next page) are by far the most important calibrations to be accurate, as most all other calibrations use these as a baseline for their calculations. For this reason, it is very important that the bottom camera position is set directly after the top camera to nozzle tip offset is calibrated.</p> <p>This guide will calibrate both nozzles, ensuring they share the same focal plane as your datum board, components, and PCBs.</p> <p>In the previous section, you validated nozzle N2's MM/Pixel calibration. We will switch back to Nozzle N1 to start this calibration.</p>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#nozzle-n1-offset-left-toolhead","title":"Nozzle: N1 Offset (Left Toolhead)","text":"<p>\ud83d\udea8 Critical Warning: Level Nozzles \ud83d\udea8</p> <p>\u26a0\ufe0f You must ensure that your nozzles are level. Failure to do this can cause crashes and potentially damage your machine. Use the <code>P</code> between the Z-axis up/down arrows to ensure the nozzle tips are out of the way. The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. </p> <ol> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N1 - N045 (Head:H1)</code> from the machine controls dropdown. This ensures that movements and adjustments apply to the left nozzle equipped with the <code>N045</code> nozzle tip. </li> </ul> </li> <li> <p>Confirm the correct nozzle tip is installed.</p> <ul> <li>Confirm that the <code>N045</code> nozzle tip is securely attached to Nozzle: N1 (left toolhead). </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#set-nozzle-n1s-primary-z-height","title":"Set Nozzle N1's Primary Z-Height","text":"<p>We will capture the correct Z-height value and input it into the primary fiducial's Z-height. This is a very important value to get correct, as it sets the standard for what height the focal plane is, which is the same height as the top of the datum board.</p> <p>Note</p> <p>It is very important that nozzle N1 stays in the same rotational direction throughout this testing, as nozzle runout has not been configured yet. The camera's crosshair reticle represent the angle of the rotation of a nozzle. Try to keep the crosshair the same throughout this whole section.</p> <ol> <li> <p>Park the nozzle rotation.</p> <ul> <li>Within Machine Controls (bottom left of OpenPnP),locate the rotational controls, which can be found below the main directional arrows. The rotational control is labeled \"C\" with a Park button in between its left and right arrows.  This adjusts the rotation. </li> <li>Press the P button to park the rotation, which should make the lines perfectly straight up and down, like a plus sign. </li> </ul> </li> <li> <p>Position Nozzle: N1 on the homing fiducial.</p> <ul> <li>Jog Nozzle: N1 (left toolhead) so that the nozzle tip barely touches the datum board and is perfectly centered over the homing fiducial. Avoid collisions while jogging the nozzle tip.</li> <li>Use the shiny edges of the fiducial that are visible around the nozzle tip to help determine proper centering. Accuracy here is crucial to achieving precise placements, so please take your time with this and ensure it is dead center by checking it from multiple angles without bumping the machine. </li> <li>\ud83d\udea8IMPORTANT!\ud83d\udea8 \u26a0\ufe0f Keep record of the Z height that is displayed in the green DRO (Digital Read Out) when the nozzle is touching the top of the datum board \u26a0\ufe0f. This is located in the very bottom right of OpenPnP. In this example, it is 5.2 for nozzle N1, but yours could be different, which is okay. </li> <li>(If the DRO is blue, click on it to change it to green) (Your your coordinates, including z-height, will likely be different than what you see in this image) </li> </ul> </li> <li> <p>Apply captured Z-value to the Primary fiducial's Z-Height</p> <ul> <li>Take the Z-Height that you captured from the DRO in the previous step and go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 and locate the Primary Fiducial</code></li> <li>Locate the <code>Z</code> value field in the primary fiducial and enter the captured z-height into that field. </li> <li>It is very important that this Z height for <code>Nozzle N1</code> is correct, as it will be used as an critical value for other calibrations and most anything that needs to be level with the focal plane, which is at the same height as the datum board.</li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#calibrate-nozzle-n1s-xy-offset","title":"Calibrate Nozzle N1's X/Y Offset","text":"<p>Now that Nozzle N1\u2019s Z-height is properly set, we can move straight into calculating the X/Y offset for that nozzle.</p> <ol> <li> <p>Open the Nozzle: N1 settings.</p> <ul> <li>Click through the following path: <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code>. </li> </ul> </li> <li> <p>Open the Offset Wizard tab.</p> <ul> <li>Navigate to the <code>Offset Wizard</code> tab, where the nozzle offset calibration process will be performed. </li> </ul> </li> <li> <p>keep the \u2018Include Z?\u2019 checkbox unchecked.</p> <ul> <li>Ensure that the <code>Include Z?</code> checkbox is NOT selected, and is left unchecked. You already should have manually captured the correct Z height for nozzle N1 from the digital read out, so we do not need to apply an Z-offset to it. </li> </ul> </li> <li> <p>Capture Nozzle: N1\u2019s position.</p> <ul> <li>Click the <code>Store nozzle mark position</code> button within the Offset Wizard tab to capture the Nozzle: N1's location for calibration purposes.</li> <li>Do not navigate away from the Offset Wizard tab while you go through the following steps to capture the nozzle offset. </li> </ul> </li> <li> <p>Raise Nozzle: N1 off the datum board.</p> <ul> <li>Click the letter <code>P</code> between the Z up/down arrows to \u201cPark\u201d the nozzle at a safe height. This prevents collisions when moving the top camera into position. </li> </ul> <p>Note</p> <p>The nozzles may not be level when clicking the \u201cPark\u201d button, which is okay. The nozzle only moves to the point that it reaches the \u201csafe zone\u201d and then stops.</p> <p></p> </li> <li> <p>Align the top camera over the homing fiducial.</p> <ul> <li>Jog the X and Y axes to bring the top camera directly over the same homing fiducial used in the previous step so it is in the exact center of the camera feed. Do not switch away from the Offset Wizard tab. OpenPnP will not save your nozzle mark position. </li> </ul> </li> <li> <p>Calculate the nozzle offset.</p> <ul> <li>Once the homing fiducial is centered in the top camera view, click <code>Calculate nozzle offset</code>. This determines the offset distance between the nozzle and the top camera based on their recorded positions. </li> </ul> </li> <li> <p>Apply and Save Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the calculated offset for the left N045 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#validate-nozzle-n1s-offset","title":"Validate Nozzle N1's Offset","text":"<p>Once you have completed the top camera to nozzle tip offset calibration for the first nozzle, you need to validate that the alignment is accurate before continuing to the second one. This ensures that both the camera and nozzle tips are correctly aligned with the homing fiducial before continuing with production.</p> <p>Before starting, ensure you have <code>Nozzle N1</code> selected in the <code>Control Center</code>.</p> <ol> <li> <p>Confirm camera alignment</p> <ul> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Primary Fiducial</code> </li> <li>Click the button to bring the Top Camera to the Homing Fiducial. </li> <li>Check the camera view: the homing fiducial should appear exactly centered.</li> <li>\u274c If it is not centered, restart the camera-to-fiducial calibration.</li> <li>\u2705 Do not continue until the fiducial is showing accurately centered in the camera feed. </li> </ul> </li> <li> <p>Check nozzle tip alignment</p> <ul> <li>Click the button to place the selected nozzle tip on the Homing Fiducial. It is directly beside the button used for the camera in step 1. </li> <li>The machine should move the nozzle tip to its calculated position.</li> <li>Inspect the nozzle tip visually.</li> <li>\u2705 If the nozzle tip sits directly on the fiducial, no correction is needed. Proceed to calibrating Nozzle N2's offset.</li> <li>\u274c If it is off, note whether it is left, right, in front, or behind the homing fiducial. </li> </ul> </li> <li> <p>Adjust nozzle offsets, if needed</p> <ul> <li>When the nozzle tip does not land perfectly on the fiducial, adjust its offset.</li> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code> and locate the Offset values on that page.</li> <li>Do not change the Z-offset value for Nozzle N1. It should stay at 0.000.</li> <li>Start with fine adjustments to the decimal values of the X and Y fields, so you can dial in the offset gradually. This helps get an idea of how much you need to adjust to get it spot on.</li> <li>When speaking of increasing values, this is always meaning that we are adding positive value to the number. Meaning a negative (-) number would go closer to zero.</li> <li>When speaking of decreasing values, this is always meaning that we are adding negative value to the number. Meaning a negative (-) number would go further away from zero.</li> <li>Example: If the nozzle tip is sitting to the right of the homing fiducial, change the fake x-value offset of -24.360 to be -24.330, which increases this value, so the nozzle will move to the left. </li> <li>Key points to remember:</li> <li>Increasing a value will move Nozzle N1 left (X) or forward (Y)</li> <li>Decrease a value will move Nozzle N1 right (X) or backward (Y)</li> <li>Whether the value is positive or negative, you still \u201cincrease\u201d or \u201cdecrease\u201d to move in the correct direction.</li> </ul> </li> <li> <p>Visual aid</p> <ul> <li>Use the table below to decide which way to change the value.</li> <li>Red arrows represent the direction the nozzle is from the fiducial.</li> <li>Blue arrows represent the direction the nozzle will move when that given axis value is raised or lowered. </li> </ul> </li> <li> <p>Once you've adjusted it to be accurate, Validate one last time before moving on.</p> <ul> <li>Click the button to bring the Top Camera to the Homing Fiducial and confirm it is still accurate. </li> <li>Click the button to place the selected nozzle tip to our newly adjusted position on the Homing Fiducial, and confirm it is still good. </li> <li>If both are accurate, proceed to next step.</li> </ul> </li> <li> <p>Apply and Save Adjusted Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the calculated offset for the left nozzle. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#nozzle-n2-offset-right-toolhead","title":"Nozzle: N2 Offset (Right Toolhead)","text":"<p>\ud83d\udea8 Critical Warning: Level Nozzles \ud83d\udea8</p> <p>\u26a0\ufe0f You must ensure that your nozzles are level. Failure to do this can cause crashes and potentially damage your machine. Use the <code>P</code> between the Z-axis up/down arrows to ensure the nozzle tips are out of the way. The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. </p> <ol> <li> <p>Confirm the correct nozzle is installed.</p> <ul> <li>Confirm that the <code>N24</code> nozzle tip is still securely attached to Nozzle: N2 (right toolhead).</li> </ul> </li> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N2 - N24 (Head:H2)</code> from the machine controls dropdown. This ensures that movements and adjustments apply to the right nozzle equipped with the <code>N24</code> nozzle tip. </li> </ul> </li> <li> <p>Position the nozzle over the homing fiducial.</p> <ul> <li>Jog <code>Nozzle: N2</code> (right toolhead) so that it is perfectly centered over the homing fiducial, while barely touching the datum board (Just like we did with the first nozzle). Avoid collisions while jogging the nozzle tip. </li> <li>This nozzle tip is larger than the last one, which is okay. We will use the circle just outside of the homing fiducial to determine if you've centered it correctly. Please take your time with this and ensure it is dead center.</li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#calibrate-nozzle-n2s-x-y-z-offset","title":"Calibrate Nozzle N2's X, Y, &amp; Z Offset","text":"<ol> <li> <p>Open the Offset Wizard tab.</p> <ul> <li>Navigate to the <code>Offset Wizard</code> tab. </li> </ul> </li> <li> <p>click the \u2018Include Z?\u2019 checkbox.</p> <ul> <li>To ensure that Nozzle N2's Z-height registers as the same height as the primary fiducial's Z-height value, we must make sure that Z is included when calibrating these offsets.</li> <li>To calibrate the Z2 offset, make sure the <code>Include Z?</code> checkbox is selected. This will find the difference between the primary fiducial's Z-height value and Nozzle N2's Z-height. Then adds the appropriate offset to Nozzle N2's Z-height. </li> </ul> </li> <li> <p>Position the nozzle over the homing fiducial.</p> <ul> <li>Jog Nozzle: N2 (right toolhead) so that it is perfectly centered over the homing fiducial, while barely touching the datum board. Avoid collisions while jogging the nozzle tip. </li> <li>This nozzle tip is larger than the last one, which is okay. We will use the circle just outside of the homing fiducial to determine if you've centered it correctly. Please take your time with this and ensure it is dead center. </li> </ul> </li> <li> <p>Capture the Nozzle: N2\u2019s position.</p> <ul> <li>Click the <code>Store nozzle mark position</code> button within the Offset Wizard tab to capture Nozzle: N2's location for calibration purposes.</li> <li>Do not navigate away from the Offset Wizard tab while you go through the following steps to capture the nozzle offset. </li> </ul> </li> <li> <p>Raise Nozzle: N2 off the datum board.</p> <ul> <li>Click the letter <code>P</code> between the Z up/down arrows to \u201cPark\u201d the nozzle at a safe height. This prevents collisions when moving the top camera into position. </li> </ul> <p>Note</p> <p>The nozzles may not be level when clicking the \u201cPark\u201d button, which is okay. The nozzle only moves to the point that it reaches the \u201csafe zone\u201d and then stops.</p> <p></p> </li> <li> <p>Align the top camera over the homing fiducial.</p> <ul> <li>Jog the top camera to be directly over the homing fiducial so it is in the exact center of the camera feed. Do not switch away from the Offset Wizard tab. OpenPnP will not save your nozzle mark position if so. </li> </ul> </li> <li> <p>Calculate the nozzle offset.</p> <ul> <li>Once the homing fiducial is centered in the top camera view, click <code>Calculate nozzle offset</code>. This determines the offset distance between the nozzle and the top camera based on their recorded positions. </li> </ul> </li> <li> <p>Apply and Save Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the calculated offset for the right N24 nozzle tip. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#validate-nozzle-n2s-offset","title":"Validate Nozzle N2's Offset","text":"<p>Once you have completed the top camera to nozzle tip offset calibration for the second nozzle, you need to validate that the alignment is accurate before continuing to the next calibration steps. This ensures that both the camera and nozzle tips are correctly aligned with the homing fiducial before continuing with production.</p> <p>Before starting, ensure you have <code>Nozzle N2</code> selected in the <code>Control Center</code>.</p> <ol> <li> <p>Confirm camera alignment</p> <ul> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Primary Fiducial</code> </li> <li>Click the button to bring the Top Camera to the Homing Fiducial. </li> <li>Check the camera view: the homing fiducial should appear exactly centered.</li> <li>\u274c If it is not centered, restart the camera-to-fiducial calibration.</li> <li>\u2705 Do not continue until the fiducial is showing accurately centered in the camera feed. </li> </ul> </li> <li> <p>Check nozzle tip alignment</p> <ul> <li>Click the button to place the selected nozzle tip on the Homing Fiducial. It is directly beside the button used for the camera in step 1. </li> <li>The machine should move the nozzle tip to its calculated position.</li> <li>Inspect the nozzle tip visually.</li> <li>\u2705 If the nozzle tip sits directly on the fiducial, no correction is needed, and both your nozzle tips are validated. Proceed to the next section.</li> <li>\u274c If it is off, note whether it is left, right, in front, or behind the homing fiducial. </li> </ul> </li> <li> <p>Correct nozzle offsets</p> <ul> <li>When the nozzle tip does not land perfectly on the fiducial, adjust its offset.</li> <li>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N2</code> and locate the Offset values on that page.</li> <li>Start with fine adjustments to the decimal values so you can dial in the offset gradually. This helps get an idea of how much you need to adjust to get it spot on. Example: If the nozzle tip is sitting to the right of the homing fiducial, change the fake x-value offset of 23.350 to be 23.380, which increases this value, so the nozzle will move to the left. </li> <li>Key points to remember:</li> <li>Increasing a value will move Nozzle N2 left (X) or forward (Y)</li> <li>Decrease a value will move Nozzle N2 right (X) or backward (Y)</li> <li>Whether the value is positive or negative, you still \u201cincrease\u201d or \u201cdecrease\u201d to move in the correct direction.</li> </ul> </li> <li> <p>Visual aid</p> <ul> <li>Use the table below to decide which way to change the value.</li> <li>Red arrows represent the direction the nozzle is from the fiducial.</li> <li>Blue arrows represent the direction the nozzle will move when that given axis value is raised or lowered. </li> </ul> </li> <li> <p>Once you've adjusted it to be accurate, Validate one last time before moving on.</p> <ul> <li>Click the button to bring the Top Camera to the Homing Fiducial and confirm it is still accurate. </li> <li>Click the button to place the selected nozzle tip to our newly adjusted position on the Homing Fiducial, and confirm it is still good. </li> <li>If both are accurate, proceed to next step.</li> </ul> </li> <li> <p>Apply and Save Adjusted Nozzle offset.</p> <ul> <li>Click <code>Apply</code> in the lower right corner to store the newly adjusted offset for the right nozzle. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/6-nozzle-offset/#next-steps","title":"Next Steps","text":"<p>Do not home the machine between this step and setting your bottom camera position!**</p> <p>The top camera to nozzle tip offset is meant to be done directly before setting your bottom camera position. Homing the machine between these steps has the chance to ruin the precise calibration you've done so far. If you have confirmed that the Top camera and nozzle tip locations are perfectly accurate, you MUST immediately set your bottom camera position, which is the next section. It is crucial that the bottom camera position is set after the top camera to nozzle tip offset has been perfectly aligned, as this ensures the bottom camera position is now 100% accurate.  All other calibrations are based on the bottom camera's accurate location, which is why it is crucial that this step is performed in this order.</p> <p>Next is Bottom Camera Position.</p>"},{"location":"openpnp/v4/calibration/7-bottom-camera-position/","title":"Bottom Camera Position","text":"<p>Now that you have confirmed the top camera and nozzle tip locations are perfectly aligned, you must immediately set the bottom camera position by following the steps below.</p> <p>Do NOT home the machine at this point. If you have already homed it, return to the previous steps and re-validate that the top camera to nozzle tip offsets are still 100 percent accurate before continuing.</p> <p>It is critical that the bottom camera position is set directly after the top camera to nozzle tip offset has been fully and accurately calibrated. This ensures the bottom camera position itself is correct.</p> <p>All subsequent calibrations depend on the bottom camera being in the correct location. For this reason, this step must be performed in this order, and the bottom camera position should not be adjusted again once it has been set.</p> <ol> <li> <p>Select Nozzle: N1.</p> <ul> <li>From the machine controls dropdown, select <code>Nozzle: N1 - N045 (Head:H1)</code>. This ensures the left nozzle is used for positioning. </li> </ul> </li> <li> <p>Position Nozzle: N1 at Datum Board Height.</p> <ul> <li> <p>Go to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Primary Fiducial</code> </p> </li> <li> <p>Click the button to bring the N1 nozzle tip to the Homing Fiducial's location. </p> </li> </ul> </li> <li> <p>Align Nozzle Tip Over the Bottom Camera.</p> <ul> <li>Without changing the Z-height or nozzle rotation, jog the Nozzle: N1 (left toolhead) over to the bottom camera and use the machine controls to center the nozzle tip in the image. </li> </ul> <p>Fine-Tuning Focus</p> <p>The bottom camera\u2019s focus is pre-adjusted before shipping, but you can fine-tune it if needed. The lens is secured with friction grease, so apply light pressure while twisting the top portion of the side of the lens until the image appears sharp. Avoid excessive force. The important thing is that it is in focus at the same height as your primary fiducial's Z-height.</p> <p></p> </li> <li> <p>Open the Bottom Camera Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnpCaptureCamera Bottom</code>. </li> </ul> </li> <li> <p>Access the Position Tab.</p> <ul> <li>Click on the <code>Position tab</code> to begin setting the bottom camera\u2019s location. </li> </ul> </li> <li> <p>Capture the Bottom Camera Position.</p> <ul> <li>Once the nozzle tip is sharp and centered, click the <code>Capture Toolhead Location</code> button to save the position. Keep in mind that this is a very important calibration step, and it is vital that it is properly captured.</li> </ul> <p>Blurry or Pixelated?</p> <p>If you are zoomed in very close to the nozzle tip, what may appear as blurriness could actually be pixelation. Try zooming out to check if this is the case.</p> <p> </p> </li> <li> <p>Apply and Save the Captured Nozzle Position</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save the bottom camera position in OpenPnP. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol> <p>Reminder: Do not change the bottom camera position.</p> <p>The bottom camera position should not be changed after the bottom camera location is set  All other calibrations are based on the bottom camera's accurate location, which is why it is crucial that this step is performed directly after calibrating the top camera to the nozzle tip. If you crash the nozzle, it is important to ensure the bottom camera's saved coordinates are still accurate before continuing.</p>"},{"location":"openpnp/v4/calibration/7-bottom-camera-position/#next-steps","title":"Next Steps","text":"<p>Next is Nozzle Tip Calibration. </p>"},{"location":"openpnp/v4/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/","title":"Nozzle Tip Runout Compensation","text":"<p>Nozzle Tip Runout Compensation measures how the nozzle tip's position shifts when the nozzle rotates. This shift is detected using the bottom camera. The compensation algorithm adjusts for any misalignment, ensuring more accurate placement. This process eliminates errors caused by runout, which can occur from either the nozzle tip or the nozzle itself. The calibration system automatically compensates for any combination of these factors. This section will be walking you through calibrating the <code>N045</code> and <code>N24</code> Nozzle Tips.</p> <p>To better visualize what nozzle tip runout is and how the compensation helps, here is an example:</p> <ul> <li>Without Compensation: </li> <li>With Compensation:  </li> </ul> <p>Note</p> <p>Runout can originate from either the nozzle tip or the nozzle it is attached to. The calibration system automatically handles both. </p> <p></p>"},{"location":"openpnp/v4/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/#nozzle-tip-runout-compensation-for-nozzle-n1-left-toolhead","title":"Nozzle Tip Runout Compensation for Nozzle: N1 (left toolhead)","text":"<p>\ud83d\udea8Important!\ud83d\udea8 Read this if you're continuing from the previous steps.</p> <p>If you have just completed the previous steps, Nozzle: N1 should already be centered over the bottom camera. Do not move the nozzle position. Skip to Step 4 to continue.</p> <ol> <li> <p>Select Nozzle: N1.</p> <ul> <li>If <code>Nozzle: N1</code> is already centered over the bottom camera, skip to <code>Step 4</code>.</li> <li>From the <code>Machine Controls</code> dropdown, select <code>Nozzle: N1 - N045 (Head:H1)</code>. </li> </ul> </li> <li> <p>Open the bottom Camera Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code>. </li> </ul> </li> <li> <p>Position Nozzle: N1 over the Bottom Camera.</p> <ul> <li>Open the \"Position\" tab, then click the <code>Position the tool over the center of the location</code> button. </li> </ul> </li> <li> <p>Calibrate the N045 Nozzle Tip Runout.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; N045 &gt; Calibration</code>, and click the <code>Calibrate</code> button. </li> <li>\ud83d\udea8 It is very important to closely observe the nozzle runout calibration. As the nozzle rotates, the detection must consistently track the nozzle tip and should not lock onto random circles or features that are clearly not part of the nozzle. If the runout calibration is inaccurate, parts will be placed incorrectly. </li> </ul> <p>Warning</p> <p>If calibration fails with an error message stating, \"...Too many vision misdetects...\", click the Pipeline <code>Edit</code> button to adjust the nozzle tip vision pipelinefor Nozzle Tip N045, then retest.   </p> <p></p> </li> <li> <p>Set Auto Recalibration.</p> <ul> <li>After successfully calibrating, Auto Recalibration should be set to <code>NozzleTipChange</code>. If it is set to <code>Manual</code>, change the Auto Recalibration setting from <code>Manual</code> to <code>NozzleTipChange</code>. This ensures that OpenPnP automatically recalibrates any loaded <code>N045</code> nozzle tips after homing or swapping tips. </li> </ul> </li> <li> <p>Confirm Final Exposure Settings for Nozzle: N1.</p> <ul> <li>If further exposure adjustments were necessary, update your saved exposure value for Nozzle: <code>N1</code> . You'll need it when restarting OpenPnP. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. (<code>Apply</code> may be greyed out. That's fine. Continue to save your configuration). </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/#nozzle-tip-runout-compensation-for-nozzle-n2-right-toolhead","title":"Nozzle Tip Runout Compensation for Nozzle: N2 (right toolhead)","text":"<ol> <li> <p>Select Nozzle: N2.</p> <ul> <li>From the <code>Machine Controls</code> dropdown, select <code>Nozzle: N2 - N24 (Head:H2)</code>. </li> </ul> </li> <li> <p>Open the bottom Camera Settings.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Cameras &gt; OpenPnPCaptureCamera Bottom</code>. </li> </ul> </li> <li> <p>Position Nozzle: N2 over the Bottom Camera.</p> <ul> <li>Open the \"Position\" tab, then click the <code>Position the tool over the center of the location</code> button. </li> </ul> </li> <li> <p>Confirm the Correct Exposure.</p> <ul> <li>The exposure settings from the first nozzle should be close to what Nozzle Tip <code>N24</code> requires. If minor adjustments are needed, they will be refined in the vision pipeline for Nozzle Tip <code>N24</code> in the next steps.</li> </ul> </li> <li> <p>Calibrate the N24 Nozzle Tip Runout.</p> <ul> <li>Navigate to <code>Machine Setup &gt; Nozzle Tips &gt; N24 &gt; Calibration</code>, and click the <code>Calibrate</code> button. </li> <li>\ud83d\udea8 It is very important to closely observe the nozzle runout calibration. As the nozzle rotates, the detection must consistently track the nozzle tip and should not lock onto random circles or features that are clearly not part of the nozzle. If the runout calibration is inaccurate, parts will be placed incorrectly. </li> </ul> <p>Warning</p> <p>If calibration fails with an error message stating, \"...Too many vision misdetects...\", click the Pipeline <code>Edit</code> button to adjust the nozzle tip vision pipelinefor Nozzle Tip N24, then retest.   </p> <p></p> </li> <li> <p>Set Auto Recalibration.</p> <ul> <li>After successfully calibrating, Auto Recalibration should be set to <code>NozzleTipChange</code>. If it is set to <code>Manual</code>, change the Auto Recalibration setting from <code>Manual</code> to <code>NozzleTipChange</code>. This ensures that OpenPnP automatically recalibrates any loaded <code>N24</code> nozzle tips after homing or swapping tips. </li> </ul> </li> <li> <p>Apply and Save</p> <ul> <li>Click <code>Apply</code> in the lower right corner to save your changes. (<code>Apply</code> may be greyed out. That's fine. Continue to save your configuration). </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/calibration/8-nozzle-tip-calibration/nozzle-tip-calibration/#final-check","title":"Final Check","text":"<p>\ud83d\udea8 Critical Warning: Level Nozzles \ud83d\udea8</p> <p>\u26a0\ufe0f You must ensure that your nozzles are level. Failure to do this can cause crashes and potentially damage your machine. Use the <code>P</code> between the Z-axis up/down arrows to ensure the nozzle tips are out of the way. The <code>P</code> stands for Parking the nozzle out of the way into a safe height that won\u2019t collide with any objects. </p> <ol> <li> <p>Retest the N045 Calibration.</p> <ul> <li>If you made any changes to the bottom camera exposure settings when calibrating Nozzle: <code>N2</code>, retest the <code>N045</code> nozzle calibration to ensure the settings are compatible and the calibration works with the new exposure. </li> </ul> </li> <li> <p>Home the LumenPnP.</p> <ul> <li>Level the nozzles to prevent collisions before homing.</li> <li>Perform a homing of the LumenPnP to ensure that fiducial detection and nozzle tip calibration finish successfully for the <code>N1</code> and <code>N2</code> nozzles without errors.</li> <li>The homing sequence will first scan the homing fiducial, then proceed to scan and calibrate both nozzle tips. </li> </ul> </li> <li> <p>Update Saved Exposure Settings for Nozzle: N2 (If Needed).</p> <ul> <li>If you had to change your saved exposure value for your bottom camera to get a nozzle tip to complete runout calibration successfully, record the new exposure value. You'll need it when restarting OpenPnP. We recommend saving these values to a text file and storing it somewhere convenient. </li> </ul> </li> </ol> <p>Next is configuring the vacuum sensor.</p>"},{"location":"openpnp/v4/calibration/auto-toolchanger/","title":"Automatic Toolchanger Calibration","text":"<p>Almost all of the jobs that can be run on a LumenPnP are possible using just an <code>N045</code> nozzle tip on the first nozzle, and an <code>N24</code> nozzle tip on the second. This means that a nozzle tip swap is very rarely needed.</p> <p>If your job requires more than three nozzle tips, by default OpenPnP will pause a job and wait for you to manually change a nozzle tip. OpenPnP also has an option to enable automatic tool changing. Perform the following optional steps for each of the nozzle tips you'll be switching between. We recommend reading the OpenPnP Wiki page about this for additional information.</p> <p>Warning</p> <p>This procedure is finicky and prone to error. Ensure your brass nozzles are sufficiently lubricated with the included lubrication packet, and you set your speeds very low for insertion and removal movements. We highly recommend optimizing your job for just two nozzle tips, or doing a manual nozzle tip swap if absolutely necessary.</p> <ol> <li> <p>Apply some lubricant to the end of your nozzle holder with the lubrication packet included with your nozzles. This is important for repeatably fully attaching the nozzles without damaging the rubber O-rings around the holder.   </p> </li> <li> <p>go through every nozzle tip and place it on the pre-lubed nozzle and then remove it. Repeat this several times or until each nozzle tip slides on to the nozzle easily. This helps prevent friction causing crashes later.</p> </li> <li> <p>Insert the labeled nozzle tips into the holder in their respectively labeled slots.</p> </li> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane.   </p> </li> <li> <p>Click on the \"Expand\" checkbox to open all of the features about your machine.   </p> </li> <li> <p>Select the nozzle you're working with. For example: <code>Nozzle Tips &gt; ReferenceNozzleTipN045</code> </p> </li> <li> <p>Select the <code>Tool Changer</code> tab.   </p> </li> </ol>"},{"location":"openpnp/v4/calibration/auto-toolchanger/#capturing-positions","title":"Capturing Positions","text":"<p>Now we can start capturing positions. Automatic nozzle changing works by replaying four position commands either forward or backward to load or unload a nozzle tip, respectively. We're going to start with the last position, because it's easiest for getting our Z height correct. Note that the instructions below are for the N045 nozzle tip, but you should use whichever tip you're setting up.</p> <p>Warning</p> <p>Be careful not to crash your nozzle tip or toolhead into any of the components mounted on your staging plate, especially the nozzle holder. Be especially careful if you have high amounts of backlash compensation, which can cause your tool head to move in unexpected directions when jogging to eliminate backlash. Be aware of your machine's Safe Z axis settings as well, as they can cause the tool head to raise between moves to avoid crashing, which may actually be undesirable here.</p> <ol> <li> <p>Install the N045 nozzle onto the tool head by hand.   </p> </li> <li> <p>Jog the nozzle until it is directly in front of the N045 slot in the tool changer.   </p> </li> <li> <p>Adjust the Z height until it's clear it'll slide into the rack.   </p> </li> <li> <p>Double-check the toolhead is aligned with the slot in the Y axis so that only a X movement would be necessary to slot it into place. It may be a good idea to test-fit the nozzle into the slot by jogging the X axis only.</p> </li> <li> <p>Capture the nozzle position for the <code>Last Location</code>.   </p> </li> <li> <p>Move the nozzle into the slot by jogging the X axis in 0.1mm increments. Try to ensure there's no lateral strain on the nozzle holder in the Y axis. Continue until the nozzle is fully slotted into the nozzle holder.   </p> </li> <li> <p>Capture the <code>Third Location</code> nozzle position.   </p> </li> <li> <p>The next position is for making sure that the nozzle tip is completely seated on the CP40 holder during insertion. Jog the Z axis down approximately two millimeters. The spring in the CP40 holder will take up these few millimeters to avoid damage to the tool head. You may find that a larger or smaller movement gets the nozzle tip seated completely, so feel free to experiment.   </p> </li> <li> <p>Capture the <code>Second Location</code> nozzle position.   </p> </li> <li> <p>Now jog the Z axis up 30 millimeters. This is the clearance position where the nozzle holder is getting ready for the plunge.   </p> </li> <li> <p>Capture the <code>First Location</code> nozzle position.   </p> </li> <li> <p>You can now play through the positions by clicking on the \"move nozzle to position\" buttons in order. Tune any values in the fields as necessary to ensure you get a clean and straight insertion.   </p> </li> <li> <p>Apply the changes to the tool changing positions.   </p> </li> <li> <p>Repeat the above steps for each of the nozzles you're using. See also the \"Cloning Settings\" section in the OpenPnP docs.</p> </li> </ol>"},{"location":"openpnp/v4/calibration/auto-toolchanger/#enable-automatic-tool-changing","title":"Enable Automatic Tool Changing","text":"<p>Now that your positions are set, you can enable automatic tool changing in OpenPnP.</p> <ol> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane.   </p> </li> <li> <p>Click on the \"Expand\" checkbox if necessary.   </p> </li> <li> <p>Select <code>Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code>.   </p> </li> <li> <p>Switch to the <code>Tool Changer</code> tab.   </p> </li> <li> <p>Check the <code>Automatic Tool Changer Enabled?</code> box.   </p> </li> <li> <p>Click <code>Apply</code> to save your changes.   </p> </li> <li> <p>Select <code>Heads &gt; ReferenceHead H2 &gt; Nozzles &gt; ReferenceNozzle N2</code>.   </p> </li> <li> <p>Switch to the <code>Tool Changer</code> tab.   </p> </li> <li> <p>Check the <code>Automatic Tool Changer Enabled?</code> box.   </p> </li> <li> <p>Click <code>Apply</code> to save your changes.   </p> </li> </ol>"},{"location":"openpnp/v4/debugging/","title":"Debugging","text":"<p>This page is a central repository for debugging OpenPnP errors.</p>"},{"location":"openpnp/v4/debugging/#placement-errors","title":"Placement Errors","text":"<p>You might have found an inaccuracy or error when placing parts. This page address these errors, and how to go about fixing them. You might encounter a couple of these errors at once, so choose one to address before moving on.</p> <p>Random offset</p><p>Parts are placed seemingly randomly.</p> <p>Global offset</p><p>Every part is shifted the same amount in X and Y</p> <p>Nozzle offset</p><p>All parts placed with a certain nozzle have offset</p> <p>Part offset</p><p>Parts have offset relative to part's orientation</p> <p>Rotational offset</p><p>Parts are placed with a consistent rotational offset</p> <p>90 degree offset</p><p>Parts are rotated in increments of 90 degrees</p>"},{"location":"openpnp/v4/debugging/#miscellaneous-errors","title":"Miscellaneous Errors","text":""},{"location":"openpnp/v4/debugging/#part-not-picking","title":"Part not picking","text":"<p>If the nozzle is not picking parts consistently, there are a few potential root causes:</p> <ul> <li>The vacuum sensor threshold is too sensitive. If you notice that your nozzle is attempting to pick a part, but seems to raise up too quickly, the vacuum sensor threshold value is incorrectly telling OpenPnP that it's successfully picked the part. This can be solved by tuning your vacuum sensor threshold value.</li> <li>The feeder Z position is set too high. If the machine is told to pick a part slightly too high, the nozzle tip doesn't make a good seal on the part, and fails to pick. This is solved by adjusting the feeder's height.</li> <li>Lack of suction force from the nozzle tip. Especially for the smallest N045 nozzle tip, some solder paste can get stuck in the tip, reducing suction force. If you cannot see a tiny circle of light shining through the tip when held up to a light, you might need to clean the tip with a thin wire and some isopropyl alcohol.</li> </ul>"},{"location":"openpnp/v4/debugging/#parts-sticking","title":"Parts sticking","text":"<p>If you're having trouble getting the nozzle to release the part, there are a few potential root causes:</p> <ul> <li>The board's Z position is set too high. If the nozzle doesn't fully press the part into the solder paste, it won't help stick the part in position. Set the board's Z height a little lower to ensure the part is pushed into the paste properly.</li> <li>The nozzle needs to be cleaned. If solder paste gets onto the nozzle tip, it can stick to parts. Clean your nozzle tips using isopropyl alcohol and a thin enamel wire to clear out the opening.</li> <li>Not enough dwell time. If OpenPnP does not give the pneumatic lines enough time to equalize pressure before moving up after a placement, there might still be some latent vacuum in the lines causing the part to stick. Disable vacuum sensing and increase the \"Place Dwell Time (ms)\" on the \"Configuration\" tab for the relevant nozzle tip. (Vacuum sensing overrides any manually inputted dwell time.)</li> </ul>"},{"location":"openpnp/v4/debugging/#no-result-found-error","title":"\"No result found\" error","text":"<ul> <li>If the component was not identified by the bottom camera correctly, you will likely need to adjust its Part Identification Vision Pipeline.</li> </ul>"},{"location":"openpnp/v4/debugging/feeder-rotation/","title":"90 degree offset","text":"<p>If some of your parts are placed with a 90 or 180 degree offset, there are a couple potential root causes:</p>"},{"location":"openpnp/v4/debugging/feeder-rotation/#the-feeders-rotation-value-needs-adjustment","title":"The feeder's rotation value needs adjustment","text":"<p>When setting the position of a feeder, the rotation value you enter is equal to the initial rotation angle that the part is picked at. Adjust the <code>Rotation</code> field for the feeder of the part you notice is being placed incorrectly in increments of 90 degrees.</p>"},{"location":"openpnp/v4/debugging/feeder-rotation/#the-parts-vision-pipeline-needs-adjustment","title":"The part's vision pipeline needs adjustment","text":"<p>If your rotation offset is consistently 90 or 180 degrees this is less likely, but it could still worth adjusting that part's vision pipeline.</p>"},{"location":"openpnp/v4/debugging/global-offset/","title":"Global offset","text":"<p>If parts are universally placed with an offset in the X and/or Y axis, there are a few potential root causes:</p>"},{"location":"openpnp/v4/debugging/global-offset/#bottom-camera-position-needs-adjustment","title":"Bottom camera position needs adjustment","text":"<p>If OpenPnP's understanding of where the bottom camera is located is incorrect, part placements can also be incorrect. Perform a nozzle offset calibration on one nozzle, then immediately set the bottom camera position without rotating the nozzle.</p>"},{"location":"openpnp/v4/debugging/global-offset/#fiducial-calibration-pipeline-needs-adjustment","title":"Fiducial calibration pipeline needs adjustment","text":"<p>If OpenPnP incorrectly detects your fiducials and instead thinks a silkscreen marking or footprint pad is the fiducial, all of the locations on your board will be shifted. Make sure your fiducial pipeline is correctly identifying your PCB's fiducials.</p>"},{"location":"openpnp/v4/debugging/global-offset/#both-nozzles-need-offset-calibration-adjustment","title":"Both nozzles need offset calibration adjustment","text":"<p>It's possible that both of your nozzle offsets need adjusting. Make sure your nozzle offsets are correct.</p>"},{"location":"openpnp/v4/debugging/global-offset/#the-lumenpnp-skipped-steps-during-motion","title":"The LumenPnP skipped steps during motion","text":"<p>If the LumenPnP's stepper motors encounter too much resistance, they can \"skip steps\" and lose their position. The way to confirm that this has happened is by navigating to <code>Machine Setup -&gt; Heads</code>, clicking on <code>ReferenceHead H1</code> clicking the \"Move camera to position\" button next to the Homing Fiducial coordinates. If the camera is not centered on the homing fiducial, your machine has likely skipped steps. This can happen for a number of reasons:</p> <ul> <li>The machine's gantries interfered with something in the pick area, or something in your workspace. Check to make sure the machine is free to move easily and no cables are getting caught or tangled.</li> <li>LumenPnP models from v3.1 onward come with linear rails. These rails require proper lubrication to operate correctly. Lubricate your rails with the included lubrication packet.</li> <li>If you've increased your machine's travel speed, it's possible this is the reason for skipped steps. If the motors aren't capable of moving the machine at the requested speed, they will skip steps. Try lowering the machine's travel speed by navigating to <code>Machine Setup -&gt; Drivers -&gt; GcodeDriver GcodeDriver -&gt; Driver Settings</code> and lower the value in the <code>Max. Feed Rate [/min]</code> field.</li> </ul>"},{"location":"openpnp/v4/debugging/nozzle-offset/","title":"Nozzle offset","text":"<p>If parts placed with a specific nozzle have a consistent offset in the X and/or Y axis, there are a couple potential root causes:</p>"},{"location":"openpnp/v4/debugging/nozzle-offset/#the-nozzle-offset-for-that-nozzle-needs-adjustment","title":"The nozzle offset for that nozzle needs adjustment","text":"<p>If OpenPnP doesn't have an accurate idea of how far away a nozzle is from the top camera, it's going to place them with that inaccuracy. Adjust that nozzle's offset.</p>"},{"location":"openpnp/v4/debugging/nozzle-offset/#the-bottom-vision-pipeline-for-your-parts-needs-adjustment","title":"The bottom vision pipeline for your parts needs adjustment","text":"<p>OpenPnP decides how to place parts onto your board based on what it sees in the bottom camera view. If a bright light or reflective surface in view of the camera is making OpenPnP think your part is a different size than it is, you'll see a placement offset. Adjust your part identification pipeline.</p>"},{"location":"openpnp/v4/debugging/nozzle-offset/#the-nozzles-tip-calibration-needs-adjustment","title":"The nozzle's tip calibration needs adjustment","text":"<p>When OpenPnP performs a nozzle tip calibration, it profiles any runout in the nozzle tip. If this calibration does not correctly identify the nozzle tip, it can cause placement errors. Adjust your nozzle tip calibration pipeline.</p>"},{"location":"openpnp/v4/debugging/part-offset/","title":"Part offset","text":"<p>If parts are placed offset relative to the orientation of the footprint, there's a main potential root cause:</p>"},{"location":"openpnp/v4/debugging/part-offset/#the-vision-pipeline-is-inaccurate","title":"The vision pipeline is inaccurate","text":"<p>When OpenPnP processes the bottom vision image of a component on a nozzle, it's identifying the part's boundaries and uses that information to place it accurately. If OpenPnP incorrectly finds the boundaries of your part, it will place it inaccurately as well. This usually happens because the nozzle tip is visible by the bottom camera, and OpenPnP incorrectly thinks it's part of the component on the tip. To fix this:     -  Lower your bottom camera's exposure according to the instructions for nozzle tip calibration.     -  Adjust your bottom vision pipeline to make sure OpenPnP is correctly finding your component.</p>"},{"location":"openpnp/v4/debugging/random-offset/","title":"Random offset","text":"<p>If your parts are being placed with seemingly random offsets and rotations, there are couple potential root causes:</p>"},{"location":"openpnp/v4/debugging/random-offset/#the-boards-z-position-is-too-high","title":"The board's Z position is too high","text":"<p>If the nozzle isn't pushing the part into the board, it's dropping a short distance onto the board, and not being placed accurately. Lower the board's Z axis location in <code>0.10mm</code> increments until you see that the nozzle tip is just barely pushing into the board.</p>"},{"location":"openpnp/v4/debugging/random-offset/#the-parts-height-value-is-too-large","title":"The part's height value is too large","text":"<p>If OpenPnP thinks the part is taller than it is, it'll try to place the part too high up, even if the board Z position is correct. Select the relevant part in the <code>Parts</code> tab and lower the height value to be accurate.</p>"},{"location":"openpnp/v4/debugging/random-offset/#lack-of-suction-force-from-the-nozzle-tip","title":"Lack of suction force from the nozzle tip","text":"<p>If your nozzle is correctly pushing the part into the board and you're still getting a seemingly random offset, it's likely a lack of suction on the nozzle tip. When the LumenPnP head moves, the part will still stay attached to the nozzle tip, but can rotate and shift because it isn't being held onto the nozzle tip with enough force. We call this shifting \"pirouetting.\" There are two potential solves:</p> <ul> <li>Use a larger nozzle tip for that part. The larger the nozzle tip diameter, the more suction force the part is held with.</li> <li>Especially for the smallest N045 nozzle tip, some solder paste can get stuck in the tip, reducing suction force. If you cannot see a tiny circle of light shining through the tip when held up to a light, you might need to clean the tip with a thin wire and some isopropyl alcohol.</li> </ul>"},{"location":"openpnp/v4/debugging/rotational-offset/","title":"Rotational offset","text":"<p>If parts placed have a consistent rotational offset, there are a couple potential root causes:</p>"},{"location":"openpnp/v4/debugging/rotational-offset/#the-nozzle-tip-is-too-small-for-the-part-youre-picking","title":"The nozzle tip is too small for the part you're picking","text":"<p>If the nozzle tip you've selected to pick a part doesn't apply enough suction force to the part, it can cause the part to shift on the nozzle tip, often causing a rotational offset that we call \"pirouetting.\" Increase the nozzle tip diameter you're using for that part to prevent this.</p>"},{"location":"openpnp/v4/debugging/rotational-offset/#the-bottom-camera-needs-a-rotation-adjustment","title":"The bottom camera needs a rotation adjustment","text":"<p>If parts from both nozzles are causing a consistent rotational offset, it could be that you need to adjust your bottom camera rotation. Navigate to <code>Machine Setup -&gt; Cameras -&gt; OpenPnPCaptureCamera Bottom -&gt; Image Transforms</code> and adjust the value in the <code>Rotation</code> field.</p> <p></p>"},{"location":"openpnp/v4/debugging/rotational-offset/#the-bottom-vision-pipeline-for-your-parts-needs-adjustment","title":"The bottom vision pipeline for your parts needs adjustment","text":"<p>OpenPnP decides how to place parts onto your board based on what it sees in the bottom camera view. If a bright light or reflective surface in view of the camera is making OpenPnP think your part is a different size than it is, you'll see a placement error. Adjust your part identification pipeline.</p>"},{"location":"openpnp/v4/ftp/","title":"First Job - Introduction","text":""},{"location":"openpnp/v4/ftp/#what-youll-learn","title":"What you'll learn","text":"<p>This guide walks you through setting up and running your first PCB assembly job using the Getting Started Kit, included with the LumenPnP.</p> <p>Before starting, ensure you've completed the Calibration guide to get your LumenPnP up and running. Proper calibration is needed for accurate part placement.</p> <p>This guide isn\u2019t just for first-time setup. You\u2019ll revisit these steps whenever you start a new board until you have the process memorized. The process becomes much faster with experience, so take your time on your first run to build a solid understanding.</p>"},{"location":"openpnp/v4/ftp/#tutorial-video","title":"Tutorial Video","text":"<p>This video walks you through the process of running your first job on the LumenPnP. Each page in this section has a link to the relevant timestamp of the video.</p>"},{"location":"openpnp/v4/ftp/#what-youll-need","title":"What you'll need","text":"<p>A fully assembled and calibrated LumenPnP.</p> <p>OpenPnP installed and configured on your computer.</p> <p>The \"Getting Started Kit\" with:</p> <ul> <li>A FTP PCB</li> <li>0603 Resistors</li> <li>Universal Mounting Kit prints and hardware</li> <li>8mm strip feeder</li> </ul>"},{"location":"openpnp/v4/ftp/#next-step","title":"Next Step","text":"<p>Now that you have everything ready, let\u2019s start by setting up your board.</p>"},{"location":"openpnp/v4/ftp/1-board-setup/","title":"Setting Up Your FTP PCB for Assembly (Video Guide)","text":"<p>The first step in starting the FTP PCB is physically mounting the FTP PCB onto the LumenPnP's staging plates.</p>"},{"location":"openpnp/v4/ftp/1-board-setup/#mounting-the-ftp-pcb","title":"Mounting the FTP PCB","text":"<ol> <li> <p>Loosely screw in the universal mounting components in the following locations on the staging plates.</p> <ul> <li>Static Board Mount positioned diagonally, screwed into B26</li> <li>Dynamic Board Mount positioned vertically, screwed into D26</li> <li>Dynamic Board Mount positioned horizontally, screwed into B28</li> <li>Board Support placed in E29 </li> </ul> </li> <li> <p>Apply double-sided tape to the FTP PCB.</p> <ul> <li>Place four strips between the two white horizontal lines on the FTP board.</li> <li>Avoid covering fiducial markers (used for calibration).</li> <li>The tape holds the components onto the PCB without using solder paste, making testing easier. </li> </ul> </li> <li> <p>Place the PCB board into the mounts.</p> <ul> <li>Place the FTP board in the board mounts and push them so that they're snug against the sides of the board.</li> <li>The top edge of the board should line up with the ridge in the dynamic board mount's tab.</li> <li>Gently press the board against the mounts while slightly bending back the dynamic mount tab. This allows the PCB to slip past the tabs hump to lock into place.</li> <li>Once in place, the board should fit snugly with no noticeable movement or wiggle to speak of. </li> </ul> </li> <li> <p>Tighten the mounting hardware.</p> <ul> <li>Once the board is positioned correctly, tighten the mounts. You shouldn't be able to easily move the board except when pressing on the dynamic board mount tab.</li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/1-board-setup/#importing-the-position-file","title":"Importing the Position File","text":"<ol> <li> <p>Download the FTP board position file.</p> <ul> <li>Get the latest <code>ftp-top.pos</code> file from the LumenPnP GitHub Releases Page. </li> </ul> </li> <li> <p>Create a New Board in OpenPnP.</p> <ul> <li>Navigate to the <code>Boards</code> tab.</li> <li>Click the green \"plus\" icon (+) and select \"Create New Board.\" </li> <li>When the save window pops up, save it as <code>ftp.board.xml</code> on your computer </li> </ul> </li> <li> <p>Import the Position data.</p> <ul> <li>From the \"Boards\" tab, select the newly created board and click <code>File &gt; Import Placements &gt; KiCAD .pos</code> </li> <li>Select the <code>ftp-top.pos</code> file you downloaded earlier as the \"Top File (.pos)\".</li> <li>Enable the <code>Assign Parts</code> checkbox.</li> <li>Enable the <code>Create Missing Parts</code> checkbox.</li> <li>Click <code>Import</code> to load component placements.\\&lt;3&gt;  </li> </ul> </li> <li> <p>Set Part Height.</p> <ul> <li>We need to tell OpenPnP how tall the part is so it can take that into consideration when picking that part.</li> <li>In the <code>Parts</code> tab, find <code>R_0603_1608_Metric-R_Small</code>.</li> <li>Find the <code>Height</code> column and change the height value from <code>0.0</code> to <code>0.5</code>mm by double-clicking the cell.</li> <li>Failing to set a part height will cause an error to pop up when trying to pick a part, so ensure you apply and save your changes after you are done.  </li> </ul> </li> <li> <p>Save your job file.</p> <ul> <li>Go to <code>File &gt; Save Job As</code> and save your FTP job.</li> <li>A pop-up window will appear asking if you want to save your changes to the ftp.board.xml. Select <code>Yes</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/1-board-setup/#installing-the-n045-nozzle","title":"Installing the N045 Nozzle","text":"<ol> <li> <p>Select the correct nozzle to control.</p> <ul> <li>In the bottom left of OpenPnP, select <code>Nozzle: N1 - N045 (Head:H1)</code> from the machine controls dropdown. </li> </ul> </li> <li> <p>Lubricate the brass Nozzle: N1.</p> <ul> <li>Apply a small amount of SuperLube to the brass nozzle on the left side. This prevents damage to the rubber O-rings when mounting nozzle tips. We pre-lubricate them before shipping, but adding extra ensures longevity. </li> <li>Wipe off any excess grease. </li> </ul> </li> <li> <p>Mount the <code>N045</code> Nozzle Tip.</p> <ul> <li>In OpenPnP, navigate to <code>Machine Setup &gt; Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code>. </li> <li>Select the <code>Nozzle Tips</code> tab, and check the <code>Compatible</code> and <code>Loaded?</code> checkboxes for the <code>N045</code> row. </li> <li>Your machine will jog the head to the front of the machine for easy tip loading.</li> <li>Slide the N045 nozzle tip onto the left nozzle (red tubing). Rotate the nozzle tip as you mount it to the brass nozzle to evenly distribute the lubricant around the O-rings. It should slide on and off smoothly after working it in. </li> </ul> </li> <li> <p>Assign the Nozzle Tip to Parts.</p> <ul> <li>In the <code>Packages</code> tab, select <code>R_0603_1608Metric</code>. </li> <li>In the lower-right pane, you'll be in the <code>Nozzle Tips</code> tab. Click the <code>Compatible</code> on the <code>N045</code> row. </li> </ul> </li> <li> <p>Save Your Configuration</p> <ul> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/1-board-setup/#finding-the-ftp-boards-location","title":"Finding the FTP Board's Location","text":"<p>Next, OpenPnP needs to know exactly where the board is. We will find and set the physical location of the FTP board.</p> <ol> <li> <p>Add the board to the job.</p> <ul> <li>Navigate to the <code>Job</code> tab in the top-right pane. </li> <li>Click the green \"plus\" icon (+)</li> <li>Select \"Existing board\" and choose the previously created board, named ftp.board.xml.</li> <li>Click <code>OK</code> to add ftp.board.xml to the Job tab. </li> </ul> </li> <li> <p>Identify Fiducial Markers.</p> <ul> <li>In the bottom-right pane, you'll see the <code>Placements</code> panel. Locate the fiducials, <code>FID1</code>, <code>FID2</code>, and <code>FID3</code>, within there. You can sort the list by <code>Part</code> to find them easily.</li> <li>Change their Type from <code>Placement</code> to <code>Fiducial</code> so OpenPnP recognizes them as reference points adn not actual components. </li> </ul> </li> <li> <p>Home the LumenPnP.</p> <ul> <li>Level the nozzles to prevent collisions before homing.</li> <li>Perform a homing of the LumenPnP to ensure that fiducial detection and nozzle tip calibration finish successfully for the <code>N1</code> and <code>N2</code> nozzles without errors. </li> </ul> </li> <li> <p>Set the Board\u2019s Origin.</p> <ul> <li>Move the top camera so that it's centered on the bottom-left corner of the PCB. </li> <li>Select the board in the <code>Job</code> tab and click <code>Capture Camera Position</code> to save the current camera position and set the board's origin point. </li> </ul> </li> <li> <p>Set the Board\u2019s Height.</p> <ul> <li>Jog the N1 Nozzle so that it's just barely touching the top surface of the FTP PCB. </li> <li>Enter the current Z position (visible in the green bar in the bottom right of the UI) into the board's <code>Z position</code> field.</li> <li>In Machine Controls, click the letter <code>P</code> between the Z up/down arrows to \u201cPark\u201d the nozzle at a safe height to prevent unwanted collisions. </li> </ul> </li> <li> <p>Run a Fiducial Scan.</p> <ul> <li>Click on the <code>Fiducial Scan</code> button to automatically align the board. The machine will move to the fiducial locations and use the camera to identify the center of the fiducial. Then, it calculates and adjusts for any angular offset. </li> <li>If the fiducial check fails for any reason, check out our instructions for adjusting the PCB fiducial vision pipeline. </li> </ul> </li> <li> <p>Verify Alignment.</p> <ul> <li>To confirm that the fiducial calibration was successful, select any placement in the <code>Placements</code> table and select the <code>jog camera to position</code> button. If the center of the camera is perfectly centered on the footprint, your fiducial calibration was successful. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/1-board-setup/#disable-the-led-components","title":"Disable the LED components","text":"<p>Disabling components on a board is a helpful feature in OpenPnP for DNP (Do Not Populate) parts, alternate parts, or other irregularities. We'll disable the LEDs in this job as an example.</p> <ol> <li> <p>Steps to Disable Components.</p> <ul> <li>Click on the first placement in the \"Job\" tab with the LED part assigned to it. </li> <li>Scroll down and find the last placement with the LED part assigned to it. Hold SHIFT and select the last LED placement to highlight all of them. </li> </ul> </li> <li> <p>Disable the LEDs.</p> <ul> <li>Right click the selected parts, and choose <code>Set Enabled &gt; Disabled</code>.</li> <li>These parts will no longer be populated in the job. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/1-board-setup/#next-step","title":"Next Step","text":"<p>Your board is now set up in OpenPnP! The next step is to set up a feeder so components can be loaded for assembly.</p>"},{"location":"openpnp/v4/ftp/2-feeder-setup/","title":"Feeder Setup (Video Guide)","text":"<p>Feeders hold and present components to the pick-and-place machine in a consistent manner. In this guide, we will focus on setting up an 8mm strip feeder for resistors.</p>"},{"location":"openpnp/v4/ftp/2-feeder-setup/#understanding-feeder-types","title":"Understanding Feeder Types","text":"<p>The FTP PCB uses two main types of components: resistors and LEDs. For this guide, we are focusing on resistors to illustrate how to disable placements effectively when needed.</p> <p>Powered Feeders</p> <p>If you purchased any 8mm Photon Feeders, we highly recommend using them for populating the FTP board. Follow the instructions for setting them up now, and then proceed to the test run once complete.</p>"},{"location":"openpnp/v4/ftp/2-feeder-setup/#mounting-a-strip-feeder","title":"Mounting a Strip Feeder","text":"<ol> <li> <p>Gather the necessary materials.</p> <ul> <li>Locate the 8mm strip feeder and mounting hardware from your Getting Started Kit. </li> </ul> </li> <li> <p>Position the feeder correctly.</p> <ul> <li>Place the strip feeder onto the staging plate, aligning it with columns 14, 15, and 16. </li> </ul> </li> <li> <p>Secure the feeder.</p> <ul> <li>Use the 2x M3 x 10mm super flat-head screws and M3 wingnuts to mount the strip feeder to your staging plate in holes <code>A15</code> and <code>G15</code>. </li> </ul> </li> <li> <p>Load the resistors.</p> <ul> <li>Insert the provided resistors into the left-most track, ensuring that the tape holes are on the left. Do not remove the clear covering tape yet; it will ensure the components stay in place. </li> </ul> </li> <li> <p>Prepare OpenPnP.</p> <ul> <li>In OpenPnP, connect to your LumenPnP, verify that both nozzles are free from running into obstructions, and home the machine to set its starting position. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/2-feeder-setup/#adding-feeders-in-openpnp","title":"Adding Feeders in OpenPnP","text":"<p>Once the feeder is physically installed, it needs to be configured in OpenPnP so the machine knows where and how to pick components. </p> <ol> <li> <p>Open the <code>Feeders</code> tab.</p> <ul> <li>It can be found in the top right pane. This section allows you to add and configure new feeders. </li> </ul> </li> <li> <p>Add a new feeder.</p> <ul> <li>Click on the \"Add Feeder\" icon button. </li> </ul> </li> <li> <p>Choose the correct feeder type.</p> <ul> <li>Select <code>ReferenceTrayFeeder</code> and click <code>Accept</code>. </li> </ul> </li> <li> <p>Assign the correct component.</p> <ul> <li>In the <code>Configuration</code> tab, Set the <code>Part</code> field to <code>R_0603_1608Metric-R_Small</code> </li> </ul> </li> <li> <p>Define feeder spacing.</p> <ul> <li>Set the <code>Y</code> <code>Offset</code> to <code>-4</code> to match the spacing between components on the tape. </li> </ul> </li> <li> <p>Set feeder capacity.</p> <ul> <li>Set Enter <code>30</code> in the <code>Y</code> <code>Tray Count</code>, indicating the number of resistors available before advancing the tape manually. </li> </ul> </li> <li> <p>Define pick location.</p> <ul> <li>Set the initial pick position to <code>X=130</code>, <code>Y=205</code>, <code>Z=20</code> as a starting point. These values act as a starting reference, which can be fine-tuned later. </li> </ul> </li> <li> <p>Adjust rotation if needed.</p> <ul> <li>If components are placed incorrectly, modify the Rotation value in 90-degree increments until placement orientation is correct. </li> </ul> </li> <li> <p>Align the camera to the feeder.</p> <ul> <li>Use the <code>Position Camera</code> button to move the top camera roughly over the left feeder. </li> </ul> </li> <li> <p>Fine-tune the alignment.</p> <ul> <li>Position the center of the top camera feed precisely over the center of the top-most slot holding a resistor in the tray. You can drag the reticle in the camera feed, or use the jog buttons. Don't forget, you want to align with the whole opening and not the resistor. </li> </ul> </li> <li> <p>Save the feeder position.</p> <ul> <li>Click the \"Capture Camera Location\" icon button to lock in the XY position of the start of the feeder. </li> </ul> </li> <li> <p>Apply and enable the feeder.</p> <ul> <li>Click <code>Apply</code> to save the feeder settings </li> <li>Click the <code>Enabled</code> checkbox in the feeder list. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/2-feeder-setup/#fine-tuning-feeder-height","title":"Fine-Tuning Feeder Height","text":"<ol> <li> <p>Select the Nozzle.</p> <ul> <li>In <code>Machine Controls</code>, select <code>Nozzle: N1</code> from the dropdown. To confirm, this should have the <code>N045</code> nozzle tip installed. </li> </ul> </li> <li> <p>Position nozzle: N1 over the feeder.</p> <ul> <li>Within the <code>Feeders</code> tab, select the feeder you just created and click on the <code>Position Nozzle</code> icon button to bring the nozzle over the feeder.</li> <li>Within <code>Machine Controls</code>, use the jog controls to lower the Z axis until the nozzle is touching the surface of the plastic tape cover. </li> </ul> </li> <li> <p>Capture the Z height.</p> <ul> <li>Click the <code>Capture Nozzle</code> icon button to store the new feeder Z height value. </li> </ul> </li> <li> <p>Apply and Save.</p> <ul> <li>Click <code>Apply</code> to save these changes to the feeder z height. </li> <li>Save your OpenPnP configuration now. <code>File &gt; Save Configuration</code>. </li> </ul> </li> <li> <p>Raise the nozzles to avoid collision.</p> <ul> <li>In <code>Machine Controls</code>, click the letter <code>P</code> between the Z up/down arrows to \u201cPark\u201d the nozzle at a safe height to prevent unwanted collisions.</li> <li>Jog the nozzles away from the feeder using the arrows in <code>Machine Controls</code>. It does not matter where. This will prepare us to test picking parts in the next steps. </li> </ul> </li> <li> <p>Test picking a component.</p> <ul> <li>Remove the cover tape.</li> <li>Click the <code>Pick</code> icon button, seen below, to have the LumenPnP attempt to pick a component from the feeder.</li> <li>If the component is picked up properly, your Z-height is correct. </li> <li>If unsuccessful:<ul> <li>Lower the Z height of the feeder by <code>0.1mm</code></li> <li>Press <code>Apply</code> to save the change</li> <li>Home the machine</li> <li>Retry picking</li> </ul> </li> </ul> <p>Effective Safe Z Coordinate Error</p> <p>If you see an \"Effective Safe Z Coordinate\" error, ensure that the part height is correctly set in the Parts tab.  </p> <p></p> </li> <li> <p>Recycle test components.</p> <ul> <li>Once a pick is successful, switch to the <code>Special</code> Tab in the <code>Machine Controls</code> pane. </li> <li>Click the <code>Recycle</code> button to instruct the LumenPnP to return the picked component back to its original location in the feeder. This allows you to confirm that the picking and placing of components is functioning correctly without wasting parts. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/2-feeder-setup/#next-steps","title":"Next Steps","text":"<p>Now that your feeder is properly set up and calibrated and you have your FTP PCB mounted and ready, let's verify that your LumenPnP is correctly processing through a job by performing a Test Run.</p>"},{"location":"openpnp/v4/ftp/3-test-run/","title":"Test Run (Video Guide)","text":"<p>Before running the job, you'll want to test the bottom vision pipeline, which uses the bottom camera to align components for more accurate placement.</p>"},{"location":"openpnp/v4/ftp/3-test-run/#test-bottom-vision","title":"Test Bottom Vision","text":"<ol> <li> <p>Pick a component.</p> <ul> <li>In the <code>Feeders</code> tab, select the feeder and click the <code>Feed and pick</code> button as seen in the photo below. This will have the machine pick a resistor. </li> </ul> </li> <li> <p>Test alignment.</p> <ul> <li>Switch to the <code>Parts</code> tab, select the part you just picked and click the \"Test Alignment\" button. </li> </ul> </li> <li> <p>Verify the bottom vision output.</p> <ul> <li>Watch the bottom camera feed. A red rectangle should outline the component perfectly before disappearing once the part has been checked. </li> <li>If the rectangle is misaligned on the part, adjust your part identification pipeline before proceeding. </li> </ul> </li> <li> <p>Recycle component.</p> <ul> <li>Once part identification is confirmed to be working, switch to the <code>Special</code> Tab in the <code>Machine Controls</code> pane. </li> <li>Click the <code>Recycle</code> button to instruct the LumenPnP to recycle the picked component. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/3-test-run/#step-through-the-job","title":"Step Through the Job","text":"<p>Home Your Machine</p> <p>It is crucial that you home your LumenPnP before starting each job. The stepper motors in the LumenPnP de-power and lose position after being idle for a while. Rehoming ensures accurate placement again.</p> <ol> <li>Start Placing Components.<ul> <li>Ensure the <code>Check Fids?</code> box in the <code>Job</code> tab is checked before proceeding.</li> <li>Click the green <code>Play</code> button. This initiates fiducial calibration. Once it is done checking the fiducials, click <code>Pause</code>.</li> <li>You can now use the yellow <code>Single job step</code> button, located beside the <code>Play</code> button, to proceed through the job one step at a time to ensure everything is going smoothly.</li> <li>The LumenPnP will step through picking a component, align it using the bottom camera, and place it on the board.</li> <li>Step through until a few parts are populated. </li> </ul> </li> </ol>"},{"location":"openpnp/v4/ftp/3-test-run/#next-steps","title":"Next Steps","text":"<ul> <li>With your feeder configured and the first components placed successfully, congratulations, your LumenPnP is now operational! If placements appear accurate, you\u2019re ready to continue populating your board. However, if components are misaligned or not picking correctly, proceed to the debugging guide to refine your calibration. Debugging will help you diagnose what is needing fine-tuned and walk you through fixing other key parameters to ensure consistent and reliable placements.</li> </ul>"},{"location":"openpnp/v4/install-config/import-config/","title":"Importing V4 Configuration Files","text":"<p>To properly use OpenPnP with the LumenPnP V4, you need to configure the software with your machine's specifications, such as size, camera setup, and other essential settings. To simplify this, we provide a set of pre-configured files. Follow the steps below to import them correctly.</p> <p>\u26a0\ufe0f If you are setting up a LumenPnP V3, you cannot use this page. Follow this link to the correct V3 config files. \u26a0\ufe0f</p>"},{"location":"openpnp/v4/install-config/import-config/#general-instructions","title":"General Instructions","text":"<p>We will be doing the following steps for the OS you have chosen.</p> <ul> <li> <p>Ensure OpenPnP is fully closed before proceeding.</p> </li> <li> <p>Download the latest V4 Config Files from the Software Updates Page.</p> </li> <li> <p>Extract the contents of the downloaded .zip file to a location you can easily access.</p> </li> <li> <p>Backup your current configuration files before replacing them.</p> </li> <li> <p>Follow the OS-specific instructions below to locate and replace the necessary configuration files.</p> </li> </ul>"},{"location":"openpnp/v4/install-config/import-config/#linux-instructions","title":"Linux Instructions","text":"<ol> <li> <p>Before continuing, it is imperative to ensure OpenPnP is not running and fully closed.</p> </li> <li> <p>Download the zipped OpenPnP V4 Config Files for the <code>LumenPnP V4</code> by going to the Software Updates Page and returning to this page after.</p> <ul> <li></li> </ul> </li> <li> <p>Unzip the V4 config files to a location you will remember, while confirming it contains a <code>machine.xml</code> and a <code>vision-settings.xml</code>.</p> </li> <li> <p>Locate OpenPnP\u2019s hidden configuration folder (.openpnp2)</p> <ul> <li>Open Ubuntu's file manager, named (Nautilus)</li> <li>Navigate to /home/[username]/ (depending on your setup, you may not have a /[username]/ folder. In this case, stay in /home/)</li> <li>Press <code>CTRL</code> + <code>H</code> to reveal hidden folders. (Alternatively, go to the <code>View</code> menu and select Show Hidden Files.)</li> <li>There should now be additional folders and files that are visible within the folder you are viewing.</li> <li>Locate and open the <code>.openpnp2</code> folder that is now visible.</li> </ul> </li> <li> <p>In the <code>.openpnp2</code> folder, backup the existing files <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code> by copying them to a safe location.</p> </li> <li> <p>Replace the old <code>machine.xml</code> and <code>vision-settings.xml</code> files in the <code>.openpnp2</code> folder with the new <code>machine.xml</code> and <code>vision-settings.xml</code> files you unzipped earlier.</p> </li> </ol>"},{"location":"openpnp/v4/install-config/import-config/#windows-instructions","title":"Windows Instructions","text":"<ol> <li> <p>Before continuing, it is imperative to ensure OpenPnP is not running and fully closed.</p> </li> <li> <p>Download the zipped OpenPnP V4 Config Files for the <code>LumenPnP V4</code> by going to the Software Updates Page and returning to this page after.</p> <ul> <li></li> </ul> </li> <li> <p>Unzip the V4 config files to a location you will remember, while confirming it contains a <code>machine.xml</code> and a <code>vision-settings.xml</code>.</p> </li> <li> <p>Locate OpenPnP\u2019s hidden configuration folder (.openpnp2)</p> <ul> <li>Enable hidden files by following these instructions.</li> <li>Navigate to:<ul> <li>Windows Vista or Newer: <code>C:\\Users\\[username]\\.openpnp2</code></li> <li>Windows XP or Older: <code>C:\\Documents and Settings\\[username]\\.openpnp2</code></li> </ul> </li> <li>Locate and open the <code>.openpnp2</code> folder that is now visible.</li> </ul> </li> <li> <p>In the <code>.openpnp2</code> folder, backup the existing files <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code> by copying them to a safe location.</p> </li> <li> <p>Replace the old <code>machine.xml</code> and <code>vision-settings.xml</code> files in the <code>.openpnp2</code> folder with the new <code>machine.xml</code> and <code>vision-settings.xml</code> files you unzipped earlier.</p> </li> </ol>"},{"location":"openpnp/v4/install-config/import-config/#macos-instructions","title":"MacOS Instructions","text":"<ol> <li> <p>Before continuing, it is imperative to ensure OpenPnP is not running and fully closed.</p> </li> <li> <p>Download the zipped OpenPnP V4 Config Files for the <code>LumenPnP V4</code> by going to the Software Updates Page and returning to this page after.</p> <ul> <li></li> </ul> </li> <li> <p>Unzip the V4 config files to a location you will remember, while confirming it contains a <code>machine.xml</code> and a <code>vision-settings.xml</code>.</p> </li> <li> <p>Locate OpenPnP\u2019s hidden configuration folder (.openpnp2)</p> <ul> <li>Open Finder and navigate to /Users/[username]/.</li> <li>Reveal hidden files by following these instructions.</li> <li>There should now be additional folders and files that are visible within the folder you are viewing.</li> <li>Locate and open the <code>.openpnp2</code> folder that is now visible.</li> </ul> </li> <li> <p>In the <code>.openpnp2</code> folder, backup the existing files <code>machine.xml</code>, <code>packages.xml</code>, <code>parts.xml</code>, and <code>vision-settings.xml</code> by copying them to a safe location.</p> </li> <li> <p>Replace the old <code>machine.xml</code> and <code>vision-settings.xml</code> files in the <code>.openpnp2</code> folder with the new <code>machine.xml</code> and <code>vision-settings.xml</code> files you unzipped earlier.</p> </li> </ol>"},{"location":"openpnp/v4/install-config/import-config/#next-steps","title":"Next Steps","text":"<p>The next step is LumenPnP V4 calibration.</p> <p></p>"},{"location":"openpnp/v4/install-config/install/","title":"Install OpenPnP","text":"<p>OpenPnP is open-source software designed to control pick and place machines. It supports a wide range of machines, with many features found in high-end commercial software. You can find out more about it here.</p> <p></p>"},{"location":"openpnp/v4/install-config/install/#recommended-hardware-and-operating-system","title":"Recommended Hardware and Operating System","text":"<p>OpenPnP is designed to run on many different kinds of host computers. However, USB drivers and internal USB hub bandwidth can vary between computers. For reliable connectivity and exposure control with the LumenPnP cameras, we recommend using a Lenovo Thinkpad (any model should be fine) running Ubuntu 20.04 LTS or Ubuntu 22.04 LTS. </p>"},{"location":"openpnp/v4/install-config/install/#download-and-install-openpnp","title":"Download and Install OpenPnP","text":"<p>Only use the OpenPnP version linked in the instructions below. OpenPnP undergoes frequent updates that can alter, break, or eliminate functionality. Sticking to our suggested version (the 2023-04-05 release) guarantees that everything operates correctly and that this documentation remains reliable. This version is also compatible with the LumenPnP feeders.</p> <p>Because OpenPnP has recently started creating stable releases, we will be adapting to the newest version that we can confirm works without issue. This page will be updated to reflect that change when it happens. Until then, please use the version recommended on this page.</p> <p>Use Linux if possible</p> <p>We highly recommend using Ubuntu Linux as the OS for running OpenPnP due to how well it handles communication with the cameras.</p>"},{"location":"openpnp/v4/install-config/install/#linux-ubuntu-install-guide","title":"Linux (Ubuntu Install Guide)","text":"<ol> <li> <p>Download and install OpenPnP for Linux.</p> <ul> <li>(Download .deb) or (Download .tar.gz)</li> <li>Use this version of OpenPnP. It is the version we use and based all of these docs on.</li> </ul> <p>Linux Users</p> <p>Linux requires two quick configuration steps to allow OpenPnP to run:</p> <ol> <li>For OpenPnP to communicate to the machine, the user must be added to the <code>dialout</code> group. This can be done by entering <code>sudo adduser [USERNAME] dialout</code> (where <code>[USERNAME]</code> is the user you're logged in as) into terminal and restarting the computer.</li> <li>OpenPnP requires that Java is installed. This can easily be done by entering <code>sudo apt-get install openjdk-17-jdk</code> into terminal.</li> </ol> <p>Please note that if Java is not installed, OpenPnP will fail silently when you attempt to start it by clicking on the icon.</p> </li> <li> <p>Launch OpenPnP and make sure it loads fully. Doing this will ensure that OpenPnP creates a configuration folder on your computer, which we'll need in the next step.</p> </li> <li> <p>OpenPnP might prompt you to download a new version. Click <code>Cancel</code> and then <code>Exit</code> to this prompt.</p> </li> <li> <p>Completely shut down the OpenPnP software.</p> </li> </ol>"},{"location":"openpnp/v4/install-config/install/#windows-not-recommended","title":"Windows (Not Recommended)","text":"<ol> <li> <p>Download and install OpenPnP for Windows.</p> <ul> <li>(Download 32 Bit .exe)</li> <li>(Download 64 Bit .exe)</li> <li>Use this version of OpenPnP. It is the version we use and based all of these docs on.</li> </ul> </li> <li> <p>Launch OpenPnP and make sure it loads fully. Doing this will ensure that OpenPnP creates a configuration folder on your computer, which we'll need in the next step.</p> </li> <li> <p>OpenPnP might prompt you to download a new version. Click <code>Cancel</code> and then <code>Exit</code> to this prompt.</p> </li> <li> <p>Completely shut down the OpenPnP software.</p> </li> </ol>"},{"location":"openpnp/v4/install-config/install/#macos-not-recommended","title":"MacOS (Not Recommended)","text":"<ol> <li> <p>Download and install OpenPnP for Mac.</p> <ul> <li>(Download .dmg)</li> <li>Use this version of OpenPnP. It is the version we use and based all of these docs on.</li> </ul> </li> <li> <p>Launch OpenPnP and make sure it loads fully. Doing this will ensure that OpenPnP creates a configuration folder on your computer, which we'll need in the next step.</p> </li> <li> <p>OpenPnP might prompt you to download a new version. Click <code>Cancel</code> and then <code>Exit</code> to this prompt.</p> </li> <li> <p>Completely shut down the OpenPnP software.</p> <p>Mac Users - Trouble Instaling?</p> <p>Because of a bug with how OpenPnP signs their releases, Mac users with ARM processors might experience a crash on boot, or not be able to access the cameras. You can still run OpenPnP by navigating to <code>Applications -&gt; OpenPnP</code> and right clicking on the OpenPnP app and selecting \"Show Package Contents\":  Then navigate to <code>Contents -&gt; MacOS</code> and double click on <code>JavaApplicationStub</code> to run OpenPnP.  NOTE: We do not recommend using MacOS with the LumenPnP. Please only use if there is no other option.</p> </li> </ol>"},{"location":"openpnp/v4/install-config/install/#next-step","title":"Next Step","text":""},{"location":"openpnp/v4/install-config/install/#lumenpnp-v4-users","title":"LumenPnP V4 Users","text":"<ul> <li>If you are setting up a LumenPnP V4, ensure you downloaded the <code>V4 Config Files</code> by following these steps for importing the LumenPnP V4 configuration files.  </li> </ul>"},{"location":"openpnp/v4/install-config/install/#lumenpnp-v3-users","title":"LumenPnP V3 Users","text":"<ul> <li>If you are setting up a LumenPnP V3, ensure you download the <code>V3 Config Files</code> by following these steps for importing the LumenPnP V3 configuration files.</li> </ul>"},{"location":"openpnp/v4/next-steps/","title":"Next Steps","text":"<p>Your machine now has basic calibration complete. There are still many metrics to tweak and adjust as you go through the process of placing your first board. OpenPnP is a large and complex piece of software, and it will take time to get used to it.</p> <p>Note</p> <p>Please fill out our survey about how setting up OpenPnP went for you. We appreciate your feedback so that we can continue to improve the setup process! (No spam or marketing, we just want your opinion.)</p> <p>The following links are extra resources to help with calibration and OpenPnP.</p> Powered Photon Feeders Follow this guide to install and set up your Photon Feeders if you haven't done it as part of your FTP. Vision Pipeline Adjustment Learn more about how to adjust your OpenPnP vision pipelines. Job Setup This is an incredibly useful document, illustrating the difference between parts, packages, and placements, and how to import information about your parts into the software. It shows the UI and explains what lots of things do, along with walking you through setting up a job. There's also information about setting up feeders. Mods Many folks in the community have developed mods and upgrades to the machine that are all organized here. Qwertymodo Full Calibration Video Community member Qwertymodo has put together a video of doing his calibration from scratch, instead of using the OpenPnP config files in the repository as a starting point. Many folks in the community have found it very useful, especially for understanding all the menus and features OpenPnP has to offer."},{"location":"openpnp/v4/vision-pipeline-adjustment/1-introduction/","title":"Vision Pipeline Adjustment","text":"<p>Computer vision is one of the most crucial and complex components of a pick-and-place machine. It plays a key role in four primary tasks:</p> <ul> <li>Finding the homing fiducial (Top Camera)</li> <li>Identifying PCB fiducials (Top Camera)</li> <li>Calibrating Nozzle Tips (Bottom Camera)</li> <li>Calibrating component position (Bottom Camera)</li> </ul> <p>The default vision settings provided in the configuration files are optimized for general use. But, due to variations in lighting conditions, component shapes, and other environmental factors, you may need to fine-tune them for optimal performance.</p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/1-introduction/#tutorial-video","title":"Tutorial Video","text":"<p>This video walks you through the process of calibrating vision for the LumenPnP. Each page in this section has a link to the relevant timestamp of the video.</p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/1-introduction/#ambient-light","title":"Ambient light","text":"<p>Caution</p> <p>Machine vision is highly sensitive to lighting conditions. We recommend maintaining consistent lighting in the workspace where the LumenPnP operates. Changes in ambient light may require readjustments to your vision settings.</p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/1-introduction/#understanding-computer-vision-in-openpnp","title":"Understanding Computer Vision in OpenPnP","text":"<p>The computer vision system in OpenPnP captures images from the top or bottom camera and processes them through a \"Pipeline\" consisting of multiple stages. These stages fall into three main categories:</p> <ol> <li>Image Processing: Modifies the image to make it easier for the computer to identify parts of the photo for better recognition. For example: <code>Threshold</code>, which converts an image to stark black and white.</li> <li>Feature Detection: Identifies specific elements in the image. For example: <code>DetectCirclesHough</code>, which detects circular shapes.</li> <li>Visualize and Debug: Vision overlays helpful markers to assist with your pipeline tuning by debugging, and tweaking it. For example: <code>DrawCircles</code>, which highlights detected circles on the image.</li> </ol> <p>Each stage has adjustable \"parameters\" that fine-tune its function. For instance, the <code>Threshold</code> stage applies a brightness cutoff to differentiate objects from the background. Adjusting its <code>threshold</code> parameter changes the brightness level at which this separation occurs.</p> <p></p> <p>For more advanced adjustments, you can add or remove processing stages in the pipeline. We do not recommend doing this.</p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/1-introduction/#pipeline-editing-view","title":"Pipeline Editing View","text":"<p>The pipeline editing view has several sections and features:</p> <ol> <li>Stage List: Displays all stages in the pipeline. Click on a stage to view its results in the main display and modify its parameters.</li> <li>Main view: Shows the output of the currently selected stage unless a specific stage is pinned (see #5).</li> <li>Stage output: Displays error messages if there's a problem with your stage or pipeline.</li> <li>Stage Settings: Allows you to change the settings for the selected stage.</li> <li>Pin Image:. Locks a specific stage\u2019s results in the main view, even when selecting other stages. This is useful for monitoring the impact of changes to a debugging stage in real time.</li> </ol> <p></p> <p>Next is Homing Fiducial Pipeline</p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/2-homing-fiducial-pipeline/","title":"Homing Fiducial Pipeline (Video Guide)","text":"<p>If you receive the error message <code>FIDUCIAL-HOME no matches found</code> when homing your LumenPnP, you likely need to adjust your homing vision pipeline. Follow the steps below for a guide on the iterative approach.</p> <p></p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/2-homing-fiducial-pipeline/#open-the-pipeline","title":"Open the Pipeline","text":"<ol> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane. </p> </li> <li> <p>Click on the \"Expand\" checkbox if necessary. </p> </li> <li> <p>Click on <code>Heads &gt; ReferenceHead H1</code>. </p> </li> <li> <p>Click on the \"Position Camera over location\" icon button show below. This will move the top camera to the location where your datum board is mounted. </p> </li> <li> <p>Verify that your top camera is positioned exactly over the homing fiducial. </p> </li> <li> <p>Adjust the exposure of your camera image as described in the Homing Fiducial Section.</p> </li> <li> <p>Navigate to the <code>Vision</code> tab. </p> </li> <li> <p>Select on <code>FiducialVision</code> from the type dropdown. </p> </li> <li> <p>Choose <code>- Default Machine Fiducial Locator -</code> from the pipeline list. </p> </li> <li> <p>Click <code>Edit</code> to open the Pipeline Editor. </p> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/2-homing-fiducial-pipeline/#edit-the-pipeline","title":"Edit the pipeline","text":"<p>This window allows you to modify the vision pipeline for detecting the homing fiducial. Detection is now based on circular symmetry, replacing the older threshold-based circle detection method. Both methods are included here for reference, but we strongly recommend using circular symmetry.</p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/2-homing-fiducial-pipeline/#circular-symmetry-method","title":"Circular symmetry method","text":"<p>Check your pipeline version</p> <p>If your vision pipeline does not match the image below, you are using the older method. Update your pipeline by following these steps.</p> <p></p> <ol> <li> <p>Click the \"Copy\" button in the code block below to save the vision pipeline to your clipboard.</p> <pre><code>&lt;cv-pipeline&gt;\n    &lt;stages&gt;\n        &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"image\" enabled=\"true\" default-light=\"true\" settle-first=\"true\" count=\"1\"/&gt;\n        &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"mask\" enabled=\"true\" diameter=\"500\" property-name=\"MaskCircle\"/&gt;\n        &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DetectCircularSymmetry\" name=\"cir\" enabled=\"true\" min-diameter=\"10\" max-diameter=\"150\" max-distance=\"250\" search-width=\"0\" search-height=\"0\" max-target-count=\"1\" min-symmetry=\"1.2\" corr-symmetry=\"0.0\" property-name=\"\" outer-margin=\"0.2\" inner-margin=\"0.4\" sub-sampling=\"8\" super-sampling=\"1\" diagnostics=\"true\" heat-map=\"true\"/&gt;\n        &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertModelToKeyPoints\" name=\"results\" enabled=\"true\" model-stage-name=\"cir\"/&gt;\n    &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> </li> <li> <p>Click the <code>Clipboard</code> icon in the vision pipeline window to insert the new pipeline into OpenPnP.</p> <p></p> </li> </ol> <ol> <li> <p>Check the output of the <code>mask</code> stage. This stage blacks out unnecessary parts of the image to reduce false detections. This reduces the chance that the pipeline will find a different circle in the image and detect it as the homing fiducial. Click on this stage to view and adjust its <code>diameter</code> settings.</p> <ul> <li>A diameter too large could allow other potential circles into the image and could be erroneously detected by the pipeline. A diameter too small could potentially mask out the actual homing fiducial. </li> </ul> </li> <li> <p>Check the output of the <code>cir</code> stage of the pipeline. This stage looks for circular symmetry in the image, and outputs a colored heatmap showing where it thinks the center of circular symmetry is. The goal is to have this stage put the brightest, most yellow point of the heatmap in the center of the homing fiducial. Click on this stage to view its settings.</p> <ul> <li>If OpenPnP detects circular symmetry, you will see a line similar to: <code>Circle [x=639.5, y=361.5, diameter=78.0, score=133.06040353848752]</code> in the field in the bottom right of the window. This means OpenPnP found circular symmetry, and it tells you about the circle that it found. </li> <li>If no circles are detected, adjust the max diameter circle so that it can find larger ones. Increasing the value for <code>maxDiameter</code> will tell the stage to accept circles of a larger diameter.</li> </ul> </li> </ol> <p>Legacy - Circle Deteection Method (Outdated)</p> <p>If your pipeline looks like this, we recommend you switch to the circle symmetry method.</p> <ol> <li> <p>Select the <code>DrawCircles</code> stage. </p> </li> <li> <p>The main view will show a detected circle if OpenPnP has identified the homing fiducial.</p> <ol> <li>If multiple circles are detected, or one detected circle is not correctly drawn around the homing fiducial, refine the filtering until the real homing fiducial is properly detected.</li> <li>If no circle appears, we need to adjust the detection setting to make the real homing fiducial easier to identify.</li> <li>If the image looks like the reference image, your pipeline is properly tuned. </li> </ol> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/2-homing-fiducial-pipeline/#adjust-pipeline","title":"Adjust Pipeline","text":"<ol> <li> <p>Click on the <code>Threshold</code> stage </p> </li> <li> <p>Adjust the <code>threshold</code> parameter as necessary until the image is precise.</p> <ol> <li>If the image is too dark, Increase the <code>threshold</code> setting.</li> <li>If the image is too bright, decrease the <code>threshold</code> setting.</li> </ol> </li> <li> <p>Select the <code>DrawCircles</code> stage and verify the fiducial has been correctly identified. </p> </li> <li> <p>If not, pin the <code>DrawCircles</code> stage view. </p> </li> <li> <p>Select the <code>DetectCirclesHough</code> stage. </p> </li> <li> <p>Adjust the <code>param2</code> parameter as necessary until the correct number of circles are identified.</p> <ol> <li>If no circles are detected, lower the <code>param2</code> setting.</li> <li>If too many circles are detected, raise the <code>param2</code> setting.</li> </ol> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/2-homing-fiducial-pipeline/#review-pipeline-output","title":"Review Pipeline Output","text":"<ol> <li> <p>Once the fiducial is correctly detected, close the pipeline editor. </p> </li> <li> <p>Save the changes when prompted. </p> </li> <li> <p>Attempt to <code>home</code> the LumenPnP to see if it can identify the homing fiducial. </p> </li> <li> <p>If you receive the same <code>FIDUCIAL-HOME no matches found</code> error, you'll need to keep tuning your pipeline. Go back to checking the debug results. </p> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/3-pcb-fiducial-pipeline/","title":"PCB Fiducials Pipeline (Video Guide)","text":"<p>Just like the homing fiducial, fiducial markers are used to precisely identify the location of your PCB. The tuning process is identical but takes place in a different section of the OpenPnP UI.</p> <ol> <li> <p>Go to the <code>Vision</code> tab. </p> </li> <li> <p>Select <code>FiducialVision</code> from the type dropdown. </p> </li> <li> <p>Choose <code>FIDUCIAL-1X2</code> from the pipeline list (or the pipeline assigned to your board\u2019s fiducial). </p> </li> <li> <p>Click <code>Edit</code> to open the Pipeline Editor. </p> </li> <li> <p>Follow the same procedure outlined in the Homing Fiducial Pipeline section.</p> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/","title":"Nozzle Calibration Pipeline (Video Guide)","text":"<p>If you receive the error message <code>Nozzle tip calibration: not enough results from vision. Check pipeline and threshold</code> when homing your LumenPnP, you likely need to adjust your nozzle tip calibration pipeline. Follow the steps below for a guide on the iterative approach. See also our setup video.</p> <p></p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#position-nozzle-over-bottom-camera","title":"Position Nozzle Over Bottom Camera","text":"<ol> <li> <p>Click on the <code>Machine Setup</code> tab in the top right pane. </p> </li> <li> <p>If necessary, click on the \"Expand\" checkbox. </p> </li> <li> <p>Navigate to <code>Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code> </p> </li> <li> <p>Select the <code>Nozzle Tips</code> tab. </p> </li> <li> <p>Ensure the <code>Loaded?</code> checkbox for nozzle tip N045 is checked. </p> </li> <li> <p>Continue to <code>Nozzle Tips &gt; ReferenceNozzleTip N045</code> (or the nozzle you're tuning). </p> </li> <li> <p>Click on the <code>Calibration</code> tab. </p> </li> <li> <p>Home your LumenPnP to ensure accurate toolhead positioning. Ignore the <code>Nozzle tip calibration: not enough results from vision. Check pipeline and threshold</code> error if it appears. </p> </li> <li> <p>From the machine controls dropdown, select <code>Nozzle: N1 - N045 (Head:H1)</code> </p> </li> <li> <p>Click the <code>Position tool over location</code> button to bring the left nozzle above the bottom camera. </p> </li> <li> <p>Click <code>Edit</code> in the Pipeline section. </p> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#edit-the-pipeline","title":"Edit the pipeline","text":""},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#circular-symmetry-method","title":"Circular symmetry method","text":"<p>Check your pipeline version</p> <p>If your vision pipeline doesn't look like the image below, you still have the old version of detecting nozzle tips. You can easily update your vision pipeline as follows.</p> <p></p> <ol> <li> <p>Click the \"Copy\" button in the code block below for the relevant nozzle tip to save the vision pipeline to your clipboard.</p> N045N08N14N24N40N75 <pre><code>&lt;cv-pipeline&gt;\n  &lt;stages&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"image\" enabled=\"true\" default-light=\"true\" settle-option=\"Settle\" count=\"1\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"mask\" enabled=\"true\" diameter=\"100\" property-name=\"MaskCircle\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DetectCircularSymmetry\" name=\"cir\" enabled=\"true\" min-diameter=\"5\" max-diameter=\"25\" max-distance=\"250\" search-width=\"0\" search-height=\"0\" max-target-count=\"1\" min-symmetry=\"1.2\" corr-symmetry=\"0.0\" outer-margin=\"0.2\" inner-margin=\"0.4\" sub-sampling=\"8\" super-sampling=\"1\" symmetry-score=\"OverallVarianceVsRingVarianceSum\" property-name=\"\" diagnostics=\"true\" heat-map=\"true\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertModelToKeyPoints\" name=\"results\" enabled=\"true\" model-stage-name=\"cir\"/&gt;\n  &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> <pre><code>&lt;cv-pipeline&gt;\n  &lt;stages&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"image\" enabled=\"true\" default-light=\"true\" settle-option=\"Settle\" count=\"1\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"mask\" enabled=\"true\" diameter=\"200\" property-name=\"MaskCircle\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DetectCircularSymmetry\" name=\"cir\" enabled=\"true\" min-diameter=\"20\" max-diameter=\"35\" max-distance=\"250\" search-width=\"0\" search-height=\"0\" max-target-count=\"1\" min-symmetry=\"2.0\" corr-symmetry=\"0.0\" outer-margin=\"0.2\" inner-margin=\"0.4\" sub-sampling=\"8\" super-sampling=\"1\" symmetry-score=\"OverallVarianceVsRingVarianceSum\" property-name=\"\" diagnostics=\"true\" heat-map=\"true\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertModelToKeyPoints\" name=\"results\" enabled=\"true\" model-stage-name=\"cir\"/&gt;\n  &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> <pre><code>&lt;cv-pipeline&gt;\n  &lt;stages&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"image\" enabled=\"true\" default-light=\"true\" settle-option=\"Settle\" count=\"1\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"mask\" enabled=\"true\" diameter=\"200\" property-name=\"MaskCircle\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DetectCircularSymmetry\" name=\"cir\" enabled=\"true\" min-diameter=\"35\" max-diameter=\"55\" max-distance=\"250\" search-width=\"0\" search-height=\"0\" max-target-count=\"1\" min-symmetry=\"1.2\" corr-symmetry=\"0.0\" outer-margin=\"0.2\" inner-margin=\"0.4\" sub-sampling=\"8\" super-sampling=\"1\" symmetry-score=\"OverallVarianceVsRingVarianceSum\" property-name=\"\" diagnostics=\"true\" heat-map=\"true\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertModelToKeyPoints\" name=\"results\" enabled=\"true\" model-stage-name=\"cir\"/&gt;\n  &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> <pre><code>&lt;cv-pipeline&gt;\n  &lt;stages&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"image\" enabled=\"true\" default-light=\"true\" settle-option=\"Settle\" count=\"1\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"mask\" enabled=\"true\" diameter=\"200\" property-name=\"MaskCircle\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DetectCircularSymmetry\" name=\"cir\" enabled=\"true\" min-diameter=\"70\" max-diameter=\"90\" max-distance=\"250\" search-width=\"0\" search-height=\"0\" max-target-count=\"1\" min-symmetry=\"1.2\" corr-symmetry=\"0.0\" outer-margin=\"0.2\" inner-margin=\"0.4\" sub-sampling=\"8\" super-sampling=\"1\" symmetry-score=\"OverallVarianceVsRingVarianceSum\" property-name=\"\" diagnostics=\"true\" heat-map=\"true\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertModelToKeyPoints\" name=\"results\" enabled=\"true\" model-stage-name=\"cir\"/&gt;\n  &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> <pre><code>&lt;cv-pipeline&gt;\n  &lt;stages&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"image\" enabled=\"true\" default-light=\"true\" settle-option=\"Settle\" count=\"1\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"mask\" enabled=\"true\" diameter=\"200\" property-name=\"MaskCircle\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DetectCircularSymmetry\" name=\"cir\" enabled=\"true\" min-diameter=\"40\" max-diameter=\"85\" max-distance=\"250\" search-width=\"0\" search-height=\"0\" max-target-count=\"1\" min-symmetry=\"1.2\" corr-symmetry=\"0.0\" outer-margin=\"0.2\" inner-margin=\"0.4\" sub-sampling=\"8\" super-sampling=\"1\" symmetry-score=\"OverallVarianceVsRingVarianceSum\" property-name=\"\" diagnostics=\"true\" heat-map=\"true\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertModelToKeyPoints\" name=\"results\" enabled=\"true\" model-stage-name=\"cir\"/&gt;\n  &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> <pre><code>&lt;cv-pipeline&gt;\n  &lt;stages&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"image\" enabled=\"true\" default-light=\"true\" settle-option=\"Settle\" count=\"1\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"mask\" enabled=\"true\" diameter=\"200\" property-name=\"MaskCircle\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DetectCircularSymmetry\" name=\"cir\" enabled=\"true\" min-diameter=\"40\" max-diameter=\"70\" max-distance=\"250\" search-width=\"0\" search-height=\"0\" max-target-count=\"1\" min-symmetry=\"1.2\" corr-symmetry=\"0.0\" outer-margin=\"0.2\" inner-margin=\"0.4\" sub-sampling=\"8\" super-sampling=\"1\" symmetry-score=\"OverallVarianceVsRingVarianceSum\" property-name=\"\" diagnostics=\"true\" heat-map=\"true\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertModelToKeyPoints\" name=\"results\" enabled=\"true\" model-stage-name=\"cir\"/&gt;\n  &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> </li> </ol> <ol> <li> <p>Check the output of the <code>mask</code> stage. This stage blacks out unnecessary parts of the image to reduce false detections. This reduces the chance that the pipeline will find a different circle in the image and detect it as the homing fiducial. Click on this stage to view and adjust its <code>diameter</code> settings.</p> <ul> <li>A diameter too large could allow other potential circles into the image and could be erroneously detected by the pipeline. A diameter too small could potentially mask out the actual homing fiducial. </li> </ul> </li> <li> <p>Check the output of the <code>cir</code> stage of the pipeline. This stage looks for circular symmetry in the image, and outputs a colored heatmap showing where it thinks the center of circular symmetry is. The goal is to have this stage put the brightest, most yellow point of the heatmap in the center of the homing fiducial. Click on this stage to view its settings.</p> <ul> <li> <p>If OpenPnP detects circular symmetry, you will see a line similar to: <code>Circle [x=639.5, y=361.5, diameter=78.0, score=133.06040353848752]</code> in the field in the bottom right of the window. This means OpenPnP found circular symmetry, and it tells you about the circle that it found. </p> </li> <li> <p>If no circles are detected, adjust the max diameter circle so that it can find larger ones. Increasing the value for <code>maxDiameter</code> will tell the stage to accept circles of a larger diameter.</p> </li> </ul> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#detect-circles-method-legacy","title":"Detect Circles Method (Legacy)","text":"<p>Legacy Method</p> <p>If your pipeline looks like this, we recommend you switch to the circle symmetry method.</p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#stage-breakdown","title":"Stage Breakdown","text":"<ol> <li>Stages 0-4 pre-process the image from the camera to make the tip of the nozzle clearer. Their goal is to outline the tip of the nozzle on its own so that it's exact position can be calculated. Of these stages, #3, <code>Threshold</code> is the most useful to tune. (See below for details)</li> <li>The Results stage, <code>DetectCirclesHough</code>, takes the highlighted nozzle tip and calculates it's exact location by fitting a perfect circle to the tip. It's important that this calculation be reliable and repeatable. It's also important not to have extra erroneous circles detected, which could throw off the nozzle tip calibration and lead to imprecise picking.</li> <li>Stages 5-7 are for debugging and showing you visually the output of the Results Stage. The most useful stage here is the #6 <code>DrawCircles</code> stage. After adjusting a setting, review the <code>DrawCircles</code> stage and check if the fiducial has been correctly identified.</li> </ol> <p>Tip</p> <p>It may be helpful to pin the <code>DrawCircles</code> stage so you can see the results of the pipeline. This saves you having to click back and forth between stages while making adjustments. </p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#general-strategy","title":"General Strategy","text":"<p>To reliably detect nozzle tips, tune the pipeline to recognize the internal hole of the nozzle tip rather than its outer edge. </p> <ul> <li>Multiple or incorrect circles detected: Adjust filtering until only the correct homing fiducial is found. We need to more clearly distinguish the real nozzle tip.</li> <li>No circle detected Adjust detection settings to improve identification.</li> <li>If the image looks like the reference image, your pipeline is properly tuned.</li> </ul> <p>Since each LumenPnP can have unique lighting conditions, tuning requires an iterative approach. Make small changes and observe the impact on detection.</p> <p>Check the Debug Results</p> <p>Unlike homing fiducial tuning, nozzle tip tuning needs to be able to identify the nozzle multiple times as it is rotated. This can make it slightly trickier to see the issues with your calibration pipeline. You may need to run a round of calibration and watch the results live to see which orientation of the toolhead gives the pipeline the most trouble. You can also increase the <code>Allowed Misdetects</code> option if you're getting good picking results, but homing still fails occasionally.  </p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#threshold-tuning","title":"Threshold Tuning","text":"<p>The <code>Threshold</code> stage converts the image to black and white, clearly defining the nozzle tip. Ensure the inner hole appears as a distinct white circle. Raise or lower the <code>threshold</code> parameter as necessary until the image is precise. (Note that the <code>invert</code> button is checked so that the nozzle tip hole is shown in white for the next steps.)</p> <ul> <li>If the image is too dark, raise the <code>threshold</code> value.</li> <li>If the image is too bright, lower the <code>threshold</code> value. </li> </ul>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#detectcircleshough-tuning","title":"DetectCirclesHough Tuning","text":"<p><code>DetectCirclesHough</code> is the other commonly edited stage. You'll need to experiment with the following adjustments:</p> <p><code>param2</code> adjusts how likely the algorithm will be to detect a circle.</p> <ul> <li>If there are no circles, lower the <code>param2</code> setting.</li> <li>If there are too many circles, raise the <code>param2</code> setting. </li> </ul> <p>Depending on your nozzle tip, may also need to adjust the <code>maxDiameter</code> setting.</p> <ul> <li>Raise the <code>maxDiameter</code> setting if there are no circles detected at all after adjusting the other settings.</li> <li>Lower the <code>maxDiameter</code> setting if very large circles are drawn around noise in the image. </li> </ul>"},{"location":"openpnp/v4/vision-pipeline-adjustment/4-nozzle-calibration-pipeline/#blurmedian-tuning","title":"BlurMedian Tuning","text":"<p><code>BlurMedian</code> can be useful if there are debris blocking the inner hole of your nozzle tip. That debris can cause the round silhouette of the hole to be interrupted and not be identified by the <code>DetectCirclesHough</code> stage. Use <code>BlurMedian</code> to remove artifacts in the photo, but don't blur so much that you significantly change the silhouette of the nozzle. </p> <ol> <li>Raise the <code>kernelSize</code> if the center of your nozzle tip doesn't make a perfect circle.</li> <li>Lower the <code>kernelSize</code> if the center of your nozzle tip is distorted from too much blur.</li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/5-part-identification-pipeline/","title":"Part Identification Pipeline (Video Guide)","text":"<p>Part identification is the most difficult pipeline to tune because it needs to accomodate every part in your job.</p> <p>If you receive an error after picking a component about <code>No Results Found</code>, you need to tune your vision pipeline.</p> <p></p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/5-part-identification-pipeline/#setup-nozzle","title":"Setup nozzle","text":"<ol> <li> <p>Install a nozzle tip on your first toolhead. In this example we'll work with the N045 nozzle tip. </p> </li> <li> <p>Navigate to the <code>Machine Setup</code> tab in the top right pane. </p> </li> <li> <p>Click on the \"Expand\" checkbox. </p> </li> <li> <p>Navigate to <code>Heads &gt; ReferenceHead H1 &gt; Nozzles &gt; ReferenceNozzle N1</code> </p> </li> <li> <p>Click on the <code>Nozzle Tips</code> tab. </p> </li> <li> <p>Click the <code>Loaded?</code> checkbox for the nozzle you're tuning. </p> </li> <li> <p>Navigate to <code>Nozzle Tips &gt; ReferenceNozzleTip N045</code> (or whichever nozzle you're working with). </p> </li> <li> <p>Verify that the correct toolhead is selected is selected in the <code>Machine Controls Tab</code>. </p> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/5-part-identification-pipeline/#pick-a-component","title":"Pick a Component","text":"<p>To fine-tune the part identification pipeline, first pick up the component you want to adjust. You can setup a feeder and use the <code>pick</code> button.</p> <p></p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/5-part-identification-pipeline/#open-the-pipeline","title":"Open the pipeline","text":"<ol> <li> <p>Once a part is picked and on the nozzle, navigate to the <code>Packages</code> tab. </p> </li> <li> <p>Select the package corresponding to the component you are tuning. </p> </li> <li> <p>Ensure your nozzle tip is compatible with the selected package. </p> </li> <li> <p>Click on the <code>Bottom Vision Settings Tab</code>. </p> </li> <li> <p>Click the <code>Edit</code> button in the Pipeline. </p> <p>Affects all other parts</p> <p>Clicking the \"Edit\" button directly will modify the vision pipeline for every package assigned to this pipeline. To adjust the pipeline only for this package, click on the \"Specialize for <code>PACKAGE_NAME</code>\" button before making changes.</p> </li> <li> <p>Allow OpenPnP to jog the nozzle to the bottom camera position. </p> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/5-part-identification-pipeline/#edit-the-pipeline","title":"Edit the pipeline","text":"<p>Reset pipeline to default</p> <p>If you want to reset your part identification pipeline to the clean default configuration, you can easily update your vision pipeline as follows.</p> <p></p> <ol> <li> <p>Click the \"Copy\" button in the code block below to save the vision pipeline to your clipboard.</p> <pre><code>&lt;cv-pipeline&gt;\n  &lt;stages&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageCapture\" name=\"CaptureImage\" enabled=\"true\" default-light=\"true\" settle-option=\"Settle\" count=\"1\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageWriteDebug\" name=\"SaveDebugImage\" enabled=\"false\" prefix=\"bv_source_\" suffix=\".png\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MaskCircle\" name=\"MaskCircle\" enabled=\"true\" diameter=\"250\" property-name=\"\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ConvertColor\" name=\"ConvertToGray\" enabled=\"true\" conversion=\"Bgr2Gray\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.BlurGaussian\" name=\"InitialBlur\" enabled=\"true\" kernel-size=\"9\" property-name=\"BlurGaussian\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.Threshold\" name=\"Threshold\" enabled=\"true\" threshold=\"230\" auto=\"false\" invert=\"false\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.BlurGaussian\" name=\"SecondBlur\" enabled=\"true\" kernel-size=\"3\" property-name=\"BlurGaussian\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.MinAreaRect\" name=\"results\" enabled=\"true\" threshold-min=\"149\" threshold-max=\"256\" expected-angle=\"0.0\" search-angle=\"45.0\" left-edge=\"true\" right-edge=\"true\" top-edge=\"true\" bottom-edge=\"true\" diagnostics=\"false\" property-name=\"MinAreaRect\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageRecall\" name=\"RecallOriginal\" enabled=\"true\" image-stage-name=\"CaptureImage\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.DrawRotatedRects\" name=\"DrawRectangle\" enabled=\"true\" rotated-rects-stage-name=\"results\" thickness=\"2\" draw-rect-center=\"false\" rect-center-radius=\"20\" show-orientation=\"false\"/&gt;\n      &lt;cv-stage class=\"org.openpnp.vision.pipeline.stages.ImageWriteDebug\" name=\"SaveDebugWithCV\" enabled=\"false\" prefix=\"bv_result_\" suffix=\".png\"/&gt;\n  &lt;/stages&gt;\n&lt;/cv-pipeline&gt;\n</code></pre> </li> <li> <p>Click the \"Clipboard\" icon in the vision pipeline window to insert the new pipeline into OpenPnP.</p> <p></p> </li> </ol> <ol> <li> <p>Click on the <code>DrawRotatedRects</code> stage. </p> </li> <li> <p>Review the rectangle around your component's silhouette:</p> <ol> <li>If the rectangle is not precise around your component, then we need to more clearly distinguish the real component from the toolhead.</li> <li>If there is no rectangle, we need to loosen the threshold to make the component easier to identify.</li> <li>If the image looks like the good one above, your pipeline is properly tuned. If you've still been getting failures when homing, you may need to slightly adjust the filtering parameters. </li> </ol> </li> </ol>"},{"location":"openpnp/v4/vision-pipeline-adjustment/5-part-identification-pipeline/#threshold-tuning","title":"Threshold tuning","text":"<p>The <code>Threshold</code> stage is the most frequently adjusted stage. It converts the camera image to black and white, ensuring a sharp contrast between the nozzle tip and the component. This step is critical, as the camera's upward-facing LEDs should illuminate the component fully, making it appear bright white in the image. We need to detect both the position and rotation of the picked component, so a tight, precise rectangle identifying its body is very important. Raise or lower the <code>threshold</code> parameter as necessary until the picked component is outlined precisely.</p> <ul> <li>If the image is too dark, lower the <code>threshold</code> value.</li> <li>If the image is too bright, raise the <code>threshold</code> value.</li> </ul> <p>Exposure settings</p> <p>If you\u2019re struggling to achieve the \"Good Threshold\" result below, your bottom camera\u2019s exposure might be too high. This can make it difficult for OpenPnP to distinguish the part from the nozzle tip.  Adjust your bottom camera's exposure, then retry tuning your threshold value.</p> <p></p>"},{"location":"openpnp/v4/vision-pipeline-adjustment/5-part-identification-pipeline/#test-part-identification","title":"Test part identification","text":"<ol> <li>Click the <code>Test Alignment</code> button to evaluate your pipeline. </li> </ol> <p>Note</p> <p>If you receive the <code>Part height unknown and camera Bottom does not support part height sensing.</code> error, you need to set your part's height. This lets OpenPnP position it appropriately above the bottom camera.</p> <ol> <li>Go to the <code>Parts Tab</code></li> <li>Select your Component</li> <li>Double-click the Height Column to modify it.</li> </ol> <p> </p>"},{"location":"semi-assembly/","title":"Semi Assembly (v3.0)","text":"<p>These are assembly instructions for the Semi-Assembled LumenPnP. If you're looking for the instructions for the \"BYOP\" bring-your-own-printer kit, you can find them here.</p>"},{"location":"semi-assembly/#what-is-the-lumenpnp","title":"What is the LumenPnP?","text":"<p>The LumenPnP is an open source Pick and Place project led by Opulo. The LumenPnP is designed to be low cost and suited towards mid-scale manufacturing.</p> <p></p> <p>The LumenPnP is an ongoing project. The current version, V3, can reliably place components as small as 0402 using 8mm powered feeders and/or 3D printed strip feeders.</p> <p>The LumenPnP is completely open source and has an active community with ongoing mechanical, electrical, and software modifications.</p> <p>It is completely open source and hackable. The main controller has three AUX ports, allowing anyone to add on peripherals or communicate with other machines.</p> <p>Warning</p> <p>This documentation corresponds with a specific machine Version Number. The Version Number represents what version of hardware your machine has. If you're building a Semi-Assembled LumenPnP, you have a v3 machine, and these docs are for you! You should see \"v3.X.X\" on the pamphlet that was included in your kit. If you see \"v2\" on your pamphlet, use these instructions for your machine.</p>"},{"location":"semi-assembly/#before-you-begin","title":"Before you begin","text":""},{"location":"semi-assembly/#machine-orientation-and-terminology","title":"Machine Orientation and Terminology","text":"<p>Throughout this guide we'll be referring to different orientations and directions of the machine as \"left, right, front, back, up, and down.\" In general, these words are in reference to the typical view of the machine, facing it directly, as shown below.</p> <p></p> <p>We'll also refer to putting the machine \"back on its haunches.\" This refers to a feature of the LumenPnP where it can be lifted up by the front rail and let to rest upright on its back feet. This orientation is tremendously helpful for installing things to the staging plate and plugging things into the motherboard. Whenever putting your machine back, make sure the Y gantry is pushed all the way to the back of the machine to prevent backdriving the Y stepper motor driver.</p>"},{"location":"semi-assembly/#help","title":"Help","text":"<p>If you find that there's something unclear in this documentation, please submit a ticket on Github about it! You can also file an issue using the link in the upper right of any page on this site. We're trying to make this as clear and understandable as possible, so every issue you tag helps us make it better for everyone else. You can also check out the Discord server and ask questions to the community.</p>"},{"location":"semi-assembly/#assembly-video","title":"Assembly Video","text":"<p>We have an instructional video that walks you through the process of assembling your LumenPnP. This video is just to help visualize how parts go together; you'll still need this guide to complete your build. You can find the video embedded below:</p> <p>Keep In Mind</p> <pre><code>Don't worry if something in the video doesn't look exactly like what you have in the box. We\u2019re constantly tuning and tweaking things to make them better and easier to use, so you might find things look slightly different.\n</code></pre>"},{"location":"semi-assembly/#timing","title":"Timing","text":"<p>Expect assembly to take about 50 minutes.</p>"},{"location":"semi-assembly/#youll-need","title":"You'll Need","text":"<ul> <li>Your packaged Semi-Assembled LumenPnP</li> <li>A clear tabletop for assembly</li> <li>A computer</li> <li>The ability to plug in three high-bandwidth USB-A ports - Your computer will need to communicate with both the data stream that controls the machine, along with two webcam feeds. It might be possible to handle all of this data through one USB port on your computer with an external USB hub, but you might find you need to plug into a few different ports on your computer, depending on the hardware you have.</li> </ul>"},{"location":"semi-assembly/#next-steps","title":"Next steps","text":"<p>Let's dive in! The first step is unboxing your machine.</p>"},{"location":"semi-assembly/assembling-frame/","title":"Assembling the Frame","text":""},{"location":"semi-assembly/assembling-frame/#assembling-frame","title":"Assembling Frame","text":"<p>In this step, you will assemble the main frame of the machine.</p> <p>Note</p> <p>If your LumenPnP is a <code>v3.1.0</code> or later machine, then it will have linear rails on the X and Y axes. The installation steps will be largely the same, though the photos in this guide may show previous versions of the machine. Any unique directions for <code>v3.1.0</code> and later machines will be called out specifically.</p> <ol> <li> <p>Remove the left and right leg assemblies from the second tray.    </p> </li> <li> <p>Remove the two aluminum rails from underneath the cable chain in the first tray.  </p> </li> <li> <p>Remove the X gantry assembly from the second tray.   </p> </li> <li> <p>Stand the left and right leg assemblies upright on the tabletop as shown below. The left leg assembly has a cable harness labeled <code>Y1</code>, and the tensioner arm pivot is on the left. The right leg assembly has a cable harness labeled <code>Y2</code> and the tensioner arm pivot is on the right. Check the photos below for reference.    </p> </li> <li> <p>Remove two M5x10mm socket head screws and two t-slot nuts from your hardware bag.   </p> </li> <li> <p>Insert one of the M5x10mm screws into the front left leg as shown.    </p> </li> <li> <p>Attach a t-slot nut onto the screw. Make sure that the nut is oriented vertically as shown in the images below.    </p> </li> <li> <p>Find your front rail. This is one of the two aluminum extrusions you removed from the packaging earlier. It only has one right-angle bracket attached to each side instead of two.    </p> </li> <li> <p>Align the front rail and left leg subassembly as shown in the image below. Make sure that the rotation of the t-slot nut in the front rail matches with the image as well. It should be perpendicular to the axis of the front rail.   </p> </li> <li> <p>Rotate the front rail upward as shown in the pictures below. Make sure the t-slot nut in the bracket on the front rail fits inside the bottom extrusion of the left leg subassembly. The front rail and right angle bracket should sit flush against the extrusion.    </p> </li> <li> <p>Slide the front rail into the front left leg. Make sure it's completely pushed into the leg with no gaps. Tighten the two screws shown below to hold the front rail in place.    </p> </li> <li> <p>Attach the remaining M5x10mm socket head and t-slot nut into the front right leg in the same way as you did for the front left leg.    </p> </li> <li> <p>Place the front and right leg subassemblies upright as shown in the image below.   </p> </li> <li> <p>Ensure the t-slot nut on right side of the front rail is oriented as shown below. Lift the front rail up into the bottom extrusion of the right leg subassembly, and slide it towards you into the front right leg as shown. Tighten the front screw in place.    </p> </li> <li> <p>Lift up the machine onto its back legs, and tighten in the final loose screw.    </p> </li> <li> <p>Find the back rail. This is the remaining aluminum extrusion that you removed from the first tray. It should have two right angle brackets on each side. Align the t-slot nuts perpendicular to the rail as shown in the image below. Do this for both sides.    </p> </li> <li> <p>Place the back rail across the back legs as shown. Rotate it upwards into the bottom extrusion of the left leg subassembly, ensuring that both t-slot nuts fit into the v-slot. It should be flush against the rail.    </p> </li> <li> <p>Make sure that the right side of the back rail has fit into the right leg extrusion. You might find that the back legs need to be pulled together or apart a little in order to get them to fit; this is ok. The back rail should be flush with the extrusion if the t-slot nuts have been inserted into the extrusion correctly.    </p> </li> <li> <p>Slide the back rail up and let the left side of it rest on the spacing bracket included in your tool kit. Make sure it's resting on the short side (50mm). Lightly tighten the top screw on the left side, making sure to keep the end of the extrusion and right angle brackets perfectly flush with the side of the extrusion. Note that you may need to loosen the screws a little to back them out of the bracket before tightening the assembly together.    </p> </li> <li> <p>Use the bracket to set the spacing on the right side, and tighten both screws into place. Make sure the right angle brackets are perfectly flush with the right side extrusion as well. Go back to the left side and tighten the bottom screw.    </p> </li> <li> <p>Bring your machine back down onto four legs and get the X gantry assembly (shown below).    </p> </li> <li> <p>Slide both Y gantries to the back of the machine (opposite the tension arms), and drop the X gantry assembly onto them as shown. Make sure the toolhead motors are facing you like the image below.    </p> </li> <li> <p>Attach the X gantry to the Y gantries by tightening four M5x25 socket head screws found in your hardware bag into the two holes on each side of the X gantry assembly.    </p> </li> <li> <p>Your machine frame is done!   </p> </li> </ol>"},{"location":"semi-assembly/assembling-frame/#next-steps","title":"Next Steps","text":"<p>Time to move on to mounting the staging plates.</p>"},{"location":"semi-assembly/mounting-staging-plates/","title":"Mounting Staging Plates","text":""},{"location":"semi-assembly/mounting-staging-plates/#mounting-staging-plates","title":"Mounting Staging Plates","text":"<p>In this step, you will mount the Staging Plate and Build Plate to the machine's frame.</p> <ol> <li> <p>Remove the staging plate and build plate from the first tray. The staging plate has the motherboard, camera, pumps, valves, wiring, and tubing mounted on it. The build plate is bare.    </p> </li> <li> <p>Get 8x M5x8mm button head screws and 8x t-slot nuts from your hardware bag.   </p> </li> <li> <p>Insert the button head screws through the large holes in the four corners of each plate. Make sure you are inserting them from the side of the plate that has the description text as shown, and not from the side with the Opulo logo. Loosely thread a t-slot nut onto the opposite side of each screw.    </p> </li> <li> <p>Place the staging plate into the machine as shown below. Have it rest on the lower of the two extrusions in each leg assembly. Make sure the staging plate's orientation matches the images below.    </p> </li> <li> <p>Make sure that the staging plate is sitting flush on the extrusions. The t-slot nut should fit inside the slot in the extrusion.    </p> </li> <li> <p>Grab the alignment bracket that you used earlier.   </p> </li> <li> <p>Place the bracket along the front rail with the long side pointing away from you. Arrange the staging plate so that it is flat against the bracket.    </p> </li> <li> <p>While ensuring that the flat edge of the staging is flush against the side of the extrusion, tighten the screw closest to the front of the machine. Don't tighten the back one just yet.    </p> </li> <li> <p>Move the alignment bracket to the right side, and while ensuring the staging plate is right up against it, tighten both screws on the right side.    </p> </li> <li> <p>Tighten the second screw on the left side of the machine.   </p> </li> <li> <p>Place the build plate onto the same rail as the staging plate. Ensure the t-slot nuts are fully inserted into the extrusion.    </p> </li> <li> <p>Slide the build plate flush against the staging plate, and tighten all four screws.   </p> </li> <li> <p>Lift the machine up onto its back legs.    </p> </li> <li> <p>Grab the build plate foot from the second tray, and unscrew the screw in the print.    </p> </li> <li> <p>Mount the build plate foot in the center of the circle cutout, right beneath the goblin icon. Tighten the screw you removed earlier in from the top side to secure it in place.    </p> </li> </ol>"},{"location":"semi-assembly/mounting-staging-plates/#next-steps","title":"Next Steps","text":"<p>The plates are fully mounted! Time to move on to wiring.</p>"},{"location":"semi-assembly/unboxing/","title":"Unboxing","text":""},{"location":"semi-assembly/unboxing/#unboxing","title":"Unboxing","text":"<ol> <li> <p>First, take a look at what's in the box! The first thing you'll see when you open the package is the getting started card. This card has your machine's version number on it. Make sure your version number begins with <code>v3.0</code>.    </p> </li> <li> <p>Remove the top protective layer of foam revealing the first tray of components. This tray contains:</p> <ul> <li>Staging plate</li> <li>Build plate</li> <li>Cable chain assembly</li> <li>Cable chain frame mount</li> <li>IEC power cable</li> <li>Front rail</li> <li>Back rail </li> </ul> </li> <li> <p>Grab the foam as shown below, rotate the tray up, then pull it out and set it aside, revealing the second tray of parts.      </p> </li> <li> <p>The second tray contains the following parts:</p> <ul> <li>Left and right leg assemblies</li> <li>X gantry assembly</li> <li>Feet for the build and staging plates</li> <li>Power supply</li> <li>Getting started kit</li> <li>Tool bag </li> </ul> </li> <li> <p>Open up the tool bag. Inside, you'll find the following items:</p> <ul> <li>Hobby knife</li> <li>Flush snips</li> <li>135 degree tweezers</li> <li>Allen wrench set</li> <li>Small Phillips screwdriver</li> <li>Alignment bracket</li> <li>Bottom camera cable</li> <li>ESD wrist strap</li> <li>USB-A to USB-B cable</li> <li>Hardware bag</li> <li>Zip ties  </li> </ul> </li> </ol>"},{"location":"semi-assembly/unboxing/#next-steps","title":"Next Steps","text":"<p>Alright, let's move on to assembling the frame.</p>"},{"location":"semi-assembly/wiring/","title":"Wiring","text":""},{"location":"semi-assembly/wiring/#wiring","title":"Wiring","text":"<p>In this step, you will mount and connect all the wiring and pneumatic tubing.</p>"},{"location":"semi-assembly/wiring/#installing-front-drag-chain-mount","title":"Installing Front Drag Chain Mount","text":"<ol> <li> <p>Find the <code>front-drag-chain-mount</code> print in the first tray, and grab an M5x25mm and M5x16mm socket head screw from the hardware bag.   </p> </li> <li> <p>Place the <code>front-drag-chain-mount</code> on top of the front left leg as shown.   </p> </li> <li> <p>Insert the screws through the print into the front left leg, with the M5x25mm screw on the bottom, and the M5x16mm screw on top.    </p> </li> </ol>"},{"location":"semi-assembly/wiring/#installing-drag-chain-assembly","title":"Installing Drag Chain Assembly","text":"<ol> <li> <p>Grab the cable harness from the first tray. One side of the cable chain will have shorter wires, and the other will have longer wires with a print zip tied to it. Place your harness as shown in the image below.   </p> </li> <li> <p>Check the clip holding the cable that exits the cable chain part way through. If it has popped out during shipping, press it back into place.    </p> </li> <li> <p>Lift up the harness and place it onto your machine as shown below. Place the side of the cable chain with the longer wires on the ledge in the <code>front-drag-chain-mount</code>. It can help to pull your Y gantries forward to give the right side of the harness a place to rest for the next few steps.    </p> </li> <li> <p>Screw two M5x10mm socket head screws through the mounting holes in the cable chain and into the <code>front-drag-chain-mount</code>. (This may be a tight fit.) If you notice that a cable chain clip pops out at any point, it can easily be pressed right back into place.    </p> </li> <li> <p>Your machine should now look like the image below.   </p> </li> <li> <p>On the other side of the cable chain, you'll notice two wires are sticking out of the back of the chain. Pull these out of the way as shown, and mount the other side of the cable chain to the X gantry using two M5x16mm socket head screws.    </p> </li> <li> <p>Look at your machine from the back. You should see the two cables you pulled aside earlier. Take the connector with four wires and plug it into the port on the back side of the camera, as shown below.</p> <p>Note</p> <p>For this and the following steps, the wire connectors only fit in one direction. If you ever need to remove the connectors, make sure to unlatch them and pull from the connector -- not from the wires themselves -- to avoid damage.</p> <p></p> </li> <li> <p>Take the remaining cable on the back side of the X gantry with only three wires and plug it into the top light, as shown below.   </p> </li> <li> <p>On the front side of the X gantry, take the connector with four holes but only three wires and plug it into the limit switch PCB.   </p> </li> <li> <p>Take the unlabeled connector with six holes and four wires and plug it into the Z motor.   </p> </li> <li> <p>Grab two zip ties from the bag in your tool kit and fit them through the channels in the top side of the X gantry.    </p> </li> <li> <p>Find the cable labeled <code>LM</code>, route it over the top of the Z motor, and secure it in place with the zip tie on the left side of the X gantry. Trim the excess zip tie.    </p> </li> <li> <p>Plug the cable labeled <code>LM</code> into the left motor on the X gantry. This cable is inserted from the bottom.   </p> </li> <li> <p>Find the cable labeled <code>RM</code> and secure it in place using the zip tie on the right side of the X gantry. Trim the excess zip tie.    </p> </li> <li> <p>Plug the cable labeled <code>RM</code> into the right motor on the X gantry. This cable is inserted from the bottom.   </p> </li> <li> <p>Find the two pieces of tubing labeled <code>LH</code> and <code>RH</code>, and insert <code>LH</code> into the left motor, and <code>RH</code> into the right motor. Make sure that the tubing is in between the <code>LH</code> and <code>RH</code> cable harness going to the motors as shown in the image below.    </p> <p>Note</p> <p>If you ever need to remove the tubing, press down on the blue plastic circle while pulling upward on the tubing.</p> </li> <li> <p>Your X gantry should look like the image below.   </p> </li> <li> <p>Take the print attached to the wire exiting from the middle of the cable chain, and align it with the back of the X motor as shown in the image below.   </p> </li> <li> <p>Using two M5x16mm socket head screws, mount the X cable guide to the Y gantry. Then plug the cable into the X motor.    </p> </li> <li> <p>Your machine should look like the image below. Lift it up onto its back legs for final wiring steps.    </p> </li> </ol>"},{"location":"semi-assembly/wiring/#wiring-the-motherboard","title":"Wiring the Motherboard","text":"<ol> <li> <p>Remove the motherboard cover by unscrewing the two M3x30mm screws, and removing the two plastic spacers. Lift the top edge away from the board and rotate it out from underneath the pneumatic tubing.    </p> </li> <li> <p>Take the <code>Y1</code> cable harness that came attached to the left leg assembly and guide it underneath the motherboard from the left side, and out through the top as shown. Plug the connector into the second port from the left and tuck any excess cabling underneath the motherboard.    </p> </li> <li> <p>Using the cable clips as shown below, guide the <code>Y2</code> cable harness from the right leg assembly across the top of the staging plate, under the motherboard, and out through the top. You'll have to loosen the clips using an allen key to get the cable underneath them. Be sure to clamp them down tight so the cable doesn't hang loosely.    </p> </li> <li> <p>Plug the <code>Y2</code> cable harness into the third port from the left. Tuck any excess cabling underneath the motherboard.   </p> </li> <li> <p>Take a look at the bundle of cables coming from the cable chain. One cable with a USB connector will not be zip tied into the print. Move this cable out of the way for now, as we won't be routing it with the rest of the cables.   </p> </li> <li> <p>Isolate the following items from the bundle, and guide them under the motherboard from the left side, and out through the top as shown below.</p> <ul> <li><code>RH</code> tubing</li> <li><code>LH</code> tubing</li> <li><code>XM</code> cable harness</li> <li><code>ZM</code> cable harness</li> <li><code>LM</code> cable harness    </li> </ul> </li> <li> <p>Plug the <code>XM</code> cable harness into the first port from the left (labeled \"X\"), plug the <code>ZM</code> cable harness into the fourth port from the left (labeled \"Z\"), and plug the <code>LM</code> cable harness into the port on the far left (labeled \"L\").    </p> </li> <li> <p>Take the two tubes left and stick them back under the motherboard, out the right side, and plug them into the pneumatic fitting that matches the label on the tubing.    </p> </li> <li> <p>With the remaining three cable harness from the bundle, plug the harness labeled <code>RM</code> into the first port in the second row (labeled \"R\"), plug the harness labeled <code>ZL</code> into the Z Limit Switch port, and plug the harness labeled <code>DL</code> into the Top Light port.    </p> </li> <li> <p>Tuck any excess cabling underneath the motherboard. Your machine should look like the image below.   </p> </li> <li> <p>Use two M5x10mm screws and two T-slot nuts to attach the strain relief print into the bottom of the bottom rail in the left leg assembly.     </p> <p>Note</p> <p>If you purchased any 8mm Photon Feeders, follow the steps for installing the Slot Harness now, and then come back here to plug in the last few wires below.</p> </li> </ol>"},{"location":"semi-assembly/wiring/#installing-feeder-slots-optional","title":"Installing Feeder Slots [Optional]","text":"<p>If you have Feeder Slots to install, you should do this now.</p> <ul> <li>Follow the steps for installing the Slot Harness here.</li> <li>Afterwards, return to this page for guidance on plugging in the last few wires in the section below.</li> </ul>"},{"location":"semi-assembly/wiring/#finalize-wiring","title":"Finalize Wiring","text":"<ol> <li> <p>If you have not done so already, fit the cover back onto the motherboard by rotating it underneath the pneumatic tubing, and pressing down around the stepper driver pins and heatsinks. Remount using the original two M3x30mm screws and the two plastic spacers.    </p> </li> <li> <p>Grab the USB &lt;-&gt; 4 pin connector cable from your tool bag, and plug the 4 pin connector into the back of the bottom camera. Attach the cable to the bottom camera mount using a zip tie and snip off the excess.    </p> </li> <li> <p>Find the staging plate foot from the second tray, and press fit it onto the bottom camera mount, taking care to align the cutout with the bottom camera cable.    </p> </li> <li> <p>Route the USB cable underneath the motherboard.    </p> </li> <li> <p>Plug the power supply into a wall outlet, and plug the barrel jack into the port in the upper-right corner of the motherboard. You should see a light come on underneath the cover.</p> </li> <li>Plug the USB-B cable located in your tool bag into the USB port on the bottom-left corner of the motherboard.</li> <li>Lower your machine down onto all four legs.</li> <li>Plug the three USB cables coming from your machine into your computer. Depending on your computer's hardware, you might need to plug these all into separate USB ports on your computer and not use an external hub. We'll cover more about this later during calibration.</li> </ol> <p>You're done with your build! Time to head over to the OpenPnP section of the docs for calibration and running your first job:</p>"},{"location":"semi-assembly/wiring/#next-steps","title":"Next Steps","text":"<p>You're done with your build! Next, you'll set up OpenPnP.</p>"},{"location":"semi-assembly-3-1/","title":"Semi Assembly (v3.1)","text":"<p>These are assembly instructions for the Semi-Assembled LumenPnP. If you're looking for the instructions for the \"BYOP\" bring-your-own-printer kit, you can find them here.</p>"},{"location":"semi-assembly-3-1/#what-is-the-lumenpnp","title":"What is the LumenPnP?","text":"<p>The LumenPnP is an open source Pick and Place project led by Opulo. The LumenPnP is designed to be low cost and suited towards mid-scale manufacturing.</p> <p></p> <p>The LumenPnP is an ongoing project. The current version, V3, can reliably place components as small as 0402 using 8mm powered feeders and/or 3D printed strip feeders.</p> <p>The LumenPnP is completely open source and has an active community with ongoing mechanical, electrical, and software modifications.</p> <p>It is completely open source and hackable. The main controller has three AUX ports, allowing anyone to add on peripherals or communicate with other machines.</p> <p>Warning</p> <p>This documentation corresponds with a specific machine Version Number. The Version Number represents what version of hardware your machine has. If you're building a Semi-Assembled LumenPnP, you have a v3.1.0+ machine, and these docs are for you! You should see \"v3.1.X\" on the pamphlet that was included in your kit. If you see \"v2\" on your pamphlet, use these instructions for your machine. If you see \"v3.0.X\" on your pamphlet, use these instructions.</p>"},{"location":"semi-assembly-3-1/#before-you-begin","title":"Before you begin","text":""},{"location":"semi-assembly-3-1/#machine-orientation-and-terminology","title":"Machine Orientation and Terminology","text":"<p>Throughout this guide we'll be referring to different orientations and directions of the machine as \"left, right, front, back, up, and down.\" In general, these words are in reference to the typical view of the machine, facing it directly, as shown below.</p> <p></p> <p>We'll also refer to putting the machine \"back on its haunches.\" This refers to a feature of the LumenPnP where it can be lifted up by the front rail and let to rest upright on its back feet. This orientation is tremendously helpful for installing things to the staging plate and plugging things into the motherboard. Whenever putting your machine back, make sure the Y gantry is pushed all the way to the back of the machine to prevent backdriving the Y stepper motor driver.</p>"},{"location":"semi-assembly-3-1/#usage","title":"Usage","text":"<p>Make sure to keep the LumenPnP in a cool, dry environment. Do NOT expose to warm environments or direct sunlight for prolonged periods of time.  Use on a flat, stable surface.</p>"},{"location":"semi-assembly-3-1/#help","title":"Help","text":"<p>If you find that there's something unclear in this documentation, please submit a ticket on Github about it! You can also file an issue using the link in the upper right of any page on this site. We're trying to make this as clear and understandable as possible, so every issue you tag helps us make it better for everyone else. You can also check out the Discord server and ask questions to the community.</p>"},{"location":"semi-assembly-3-1/#timing","title":"Timing","text":"<p>Expect assembly to take about 50 minutes.</p>"},{"location":"semi-assembly-3-1/#youll-need","title":"You'll Need","text":"<ul> <li>Your packaged Semi-Assembled LumenPnP</li> <li>A clear, smooth, flat tabletop for assembly</li> <li>A computer</li> <li>The ability to plug in three high-bandwidth USB-A ports - Your computer will need to communicate with both the data stream that controls the machine, along with two webcam feeds. It might be possible to handle all of this data through one USB port on your computer with an external USB hub, but you might find you need to plug into a few different ports on your computer, depending on the hardware you have.</li> </ul>"},{"location":"semi-assembly-3-1/#next-steps","title":"Next steps","text":"<p>Let's dive in! The first step is unboxing your machine.</p>"},{"location":"semi-assembly-3-1/assembling-frame-3-1/","title":"Assembling the Frame","text":""},{"location":"semi-assembly-3-1/assembling-frame-3-1/#assembling-frame","title":"Assembling Frame","text":"<p>In this step, you will assemble the main frame of the machine.</p> <ol> <li> <p>Remove the left and right leg assemblies from the second tray.    </p> </li> <li> <p>Remove the two aluminum rails from underneath the cable chain in the first tray.    </p> </li> <li> <p>Remove the X gantry assembly from the second tray.   </p> </li> <li> <p>Stand the left and right leg assemblies upright on the tabletop as shown below. The left leg assembly has a cable harness labeled <code>Y1</code>, and the tensioner arm pivot is on the left. The right leg assembly has a cable harness labeled <code>Y2</code> and the tensioner arm pivot is on the right. Check the photos below for reference.    </p> </li> <li> <p>Remove two M5x10mm socket head screws and two t-slot nuts from your hardware bag.   </p> </li> <li> <p>Insert one of the M5x10mm screws into the front left leg as shown.    </p> </li> <li> <p>Attach a t-slot nut onto the screw. Make sure that the nut is oriented vertically as shown in the images below.    </p> </li> <li> <p>Find your front rail. This is one of the two aluminum extrusions you removed from the packaging earlier. It only has one right-angle bracket attached to each side instead of two.    </p> </li> <li> <p>Align the front rail and left leg subassembly as shown in the image below. Make sure that the rotation of the t-slot nut in the front rail matches with the image as well. It should be perpendicular to the axis of the front rail.   </p> </li> <li> <p>Rotate the front rail upward as shown in the pictures below. Make sure the t-slot nut in the bracket on the front rail fits inside the bottom extrusion of the left leg subassembly. The front rail and right angle bracket should sit flush against the extrusion.    </p> </li> <li> <p>Slide the front rail into the front left leg. Make sure it's completely pushed into the leg with no gaps. Tighten the two screws shown below to hold the front rail in place.    </p> </li> <li> <p>Attach the remaining M5x10mm socket head and t-slot nut into the front right leg in the same way as you did for the front left leg.    </p> </li> <li> <p>Place the front and right leg subassemblies upright as shown in the image below.   </p> </li> <li> <p>Ensure the t-slot nut on right side of the front rail is oriented as shown below. Lift the front rail up into the bottom extrusion of the right leg subassembly, and slide it towards you into the front right leg as shown. Tighten the front screw in place.    </p> </li> <li> <p>Lift up the machine onto its back legs, and tighten in the final loose screw.    </p> </li> <li> <p>Find the back rail. This is the remaining aluminum extrusion that you removed from the first tray. It should have two right angle brackets on each side. Align the t-slot nuts perpendicular to the rail as shown in the image below. Do this for both sides.    </p> </li> <li> <p>Place the back rail across the back legs as shown. Rotate it upwards into the bottom extrusion of the left leg subassembly, ensuring that both t-slot nuts fit into the v-slot. It should be flush against the rail.    </p> </li> <li> <p>Make sure that the right side of the back rail has fit into the right leg extrusion. You might find that the back legs need to be pulled together or apart a little in order to get them to fit; this is ok. The back rail should be flush with the extrusion if the t-slot nuts have been inserted into the extrusion correctly.    </p> </li> <li> <p>Slide the back rail up and let the left side of it rest on the spacing bracket included in your tool kit. Make sure it's resting on the short side (50mm). Lightly tighten the top screw on the left side, making sure to keep the end of the extrusion and right angle brackets perfectly flush with the side of the extrusion. Note that you may need to loosen the screws a little to back them out of the bracket before tightening the assembly together.    </p> </li> <li> <p>Use the bracket to set the spacing on the right side, and tighten both screws into place. Make sure the right angle brackets are perfectly flush with the right side extrusion as well. Go back to the left side and tighten the bottom screw.    </p> </li> <li> <p>Bring your machine back down onto four legs and get the X gantry assembly (shown below).    </p> </li> <li> <p>Slide both Y gantries to the back of the machine (opposite the tension arms), and drop the X gantry assembly onto them as shown. Make sure the toolhead motors are facing you like the image below.    </p> </li> <li> <p>Attach the X gantry to the Y gantries by installing a M5x25 socket head screw and M5x16mm socket head screw into the two holes on each side of the X gantry assembly.    </p> </li> <li> <p>Install front-leg-extension onto front left leg and front right leg with 2x M5x16 socket head screw per leg    </p> </li> <li> <p>Install a back-leg-extension onto each back leg with 1x M5x16 socket head screw per leg    </p> </li> <li> <p>Your machine frame is done!   </p> </li> </ol>"},{"location":"semi-assembly-3-1/assembling-frame-3-1/#next-steps","title":"Next Steps","text":"<p>Time to move on to mounting the staging plates.</p>"},{"location":"semi-assembly-3-1/mounting-staging-plates-3-1/","title":"Mounting Staging Plates","text":"<p>In this step, you will mount the Staging Plate and Build Plate to the machine's frame.</p> <ol> <li> <p>Remove the staging plate and build plate from the first tray. The staging plate has the motherboard, camera, pumps, valves, wiring, and tubing mounted on it. The build plate is bare.    </p> </li> <li> <p>Remove the rubber band from around the nozzle rack. The nozzle rack is mounted to the Staging Plate. The nozzle rack is where all the nozzle tips on your machine are stored.   </p> </li> <li> <p>Get 8x M5x8mm button head screws and 8x t-slot nuts from your hardware bag.   </p> </li> <li> <p>Insert the button head screws through the large holes in the four corners of each plate. Make sure you are inserting them from the side of the plate that has the description text as shown, and not from the side with the Opulo logo. Loosely thread a t-slot nut onto the opposite side of each screw.    </p> </li> <li> <p>Place the staging plate into the machine as shown below. Have it rest on the lower of the two extrusions in each leg assembly. Make sure the staging plate's orientation matches the images below.    </p> </li> <li> <p>Make sure that the staging plate is sitting flush on the extrusions. The t-slot nut should fit inside the slot in the extrusion.    </p> </li> <li> <p>Grab the alignment bracket that you used earlier.   </p> </li> <li> <p>Place the bracket along the front rail with the long side pointing away from you. Arrange the staging plate so that it is flat against the bracket.    </p> </li> <li> <p>While ensuring that the flat edge of the staging is flush against the side of the extrusion, tighten the screw closest to the front of the machine. Don't tighten the back one just yet.    </p> </li> <li> <p>Move the alignment bracket to the right side, and while ensuring the staging plate is right up against it, tighten both screws on the right side.    </p> </li> <li> <p>Tighten the second screw on the left side of the machine.   </p> </li> <li> <p>Use the alignment bracket again to confirm that the staging plate is still aligned correctly.</p> </li> <li> <p>Place the build plate onto the same rail as the staging plate. Ensure the t-slot nuts are fully inserted into the extrusion.    </p> </li> <li> <p>Slide the build plate flush against the staging plate, and tighten all four screws.   </p> </li> <li> <p>Grab the build plate foot from the second tray, and unscrew the screw in the print.    </p> </li> <li> <p>Lift the machine up onto its back legs.</p> </li> <li> <p>Mount the build plate foot in the center of the circle cutout, right beneath the goblin icon. Tighten the screw you removed earlier in from the top side to secure it in place.    </p> </li> </ol>"},{"location":"semi-assembly-3-1/mounting-staging-plates-3-1/#next-steps","title":"Next Steps","text":"<p>The plates are fully mounted! Time to move on to wiring.</p>"},{"location":"semi-assembly-3-1/unboxing-3-1/","title":"Unboxing","text":"<ol> <li> <p>First, take a look at what's in the box! The first thing you'll see when you open the package is the getting started card. This card has your machine's version number on it.</p> <p>Make sure your version number begins with <code>v3.1</code> or <code>v3.2</code>.</p> <p> </p> </li> <li> <p>Remove the top protective layer of foam revealing the first tray of components. This tray contains:</p> <ul> <li>Staging plate</li> <li>Build plate</li> <li>Feet for the build and staging plates</li> <li>Cable chain assembly</li> <li>Cable chain frame mount</li> <li>IEC power cable and power supply</li> <li>Front rail w/25 feeder slots installed</li> <li>Back rail w/25 feeder slots installed</li> <li>10x Extrusion cable clips</li> </ul> <p></p> </li> <li> <p>Grab the foam as shown below, rotate the tray up, then pull it out and set it aside, revealing the second tray of parts.</p> <p> </p> </li> <li> <p>The second tray contains the following parts:</p> <ul> <li>Y gantry left/right leg assemblies</li> <li>X gantry assembly</li> <li>Getting started kit</li> <li>Tool bag</li> <li>4x Extension feet for the y-gantry left/right leg assemblies</li> <li>Feeder Slot Cable Harness</li> </ul> <p></p> </li> <li> <p>Open up the tool bag. Inside, you'll find the following items:</p> <ul> <li>Hobby knife</li> <li>Flush snips</li> <li>135 degree tweezers</li> <li>Allen wrench set w/separate 1.3mm driver for adjusting feeder drive wheels</li> <li>Small Phillips screwdriver</li> <li>Alignment bracket</li> <li>Bottom camera cable</li> <li>ESD wrist strap</li> <li>USB-A to USB-B cable</li> <li>Hardware bag</li> <li>Zip ties</li> <li>Feeder programmer</li> </ul> <p> </p> </li> </ol>"},{"location":"semi-assembly-3-1/unboxing-3-1/#next-steps","title":"Next Steps","text":"<p>Alright, let's move on to assembling the frame.</p>"},{"location":"semi-assembly-3-1/wiring-3-1/","title":"Wiring","text":"<p>In this step, you will mount and connect all the wiring and pneumatic tubing.</p>"},{"location":"semi-assembly-3-1/wiring-3-1/#installing-front-drag-chain-mount","title":"Installing Front Drag Chain Mount","text":"<ol> <li> <p>Find the <code>front-drag-chain-mount</code> print in the first tray, and grab a M5x25mm socket head screw from the hardware bag.   </p> </li> <li> <p>Place the <code>front-drag-chain-mount</code> on top of the front left leg as shown.   </p> </li> <li> <p>Insert the M5x25mm socket head screw through the print into the front left leg before tightening it down with an allen wrench.    </p> </li> </ol>"},{"location":"semi-assembly-3-1/wiring-3-1/#installing-drag-chain-assembly","title":"Installing Drag Chain Assembly","text":"<ol> <li> <p>Grab the cable harness from the first tray. One side of the cable chain will have shorter wires, and the other will have longer wires with a print zip tied to it. Place your harness as shown in the image below.   </p> </li> <li> <p>Check the clip holding the cable that exits the cable chain part way through. If it has popped out during shipping, press it back into place.    </p> </li> <li> <p>Lift up the harness and place it onto your machine as shown below. Place the side of the cable chain with the longer wires on the ledge in the <code>front-drag-chain-mount</code>. It can help to pull your Y gantries forward to give the right side of the harness a place to rest for the next few steps.    </p> </li> <li> <p>Screw two M5x10mm socket head screws through the mounting holes in the cable chain and into the <code>front-drag-chain-mount</code>. (This may be a tight fit.) If you notice that a cable chain clip pops out at any point, it can easily be pressed right back into place.    </p> </li> <li> <p>Your machine should now look like the image below.   </p> </li> <li> <p>Remove the plastic wrapping from toolhead-side of the cable chain.    </p> </li> <li> <p>On the other side of the cable chain, you'll notice two wires are sticking out of the back of the chain. Pull these out of the way as shown, and mount the other side of the cable chain to the X gantry using two M5x16mm socket head screws.      </p> </li> <li> <p>Look at your machine from the back. You should see the two cables you pulled aside earlier. Take the connector with four wires and plug it into the port on the back side of the camera, as shown below.</p> <p>Note</p> <p>For this and the following steps, the wire connectors only fit in one direction. If you ever need to remove the connectors, make sure to unlatch them and pull from the connector -- not from the wires themselves -- to avoid damage.</p> <p></p> </li> <li> <p>Take the remaining cable on the back side of the X gantry with only three wires and plug it into the top light, as shown below.      </p> </li> <li> <p>On the front side of the X gantry, take the connector with four holes but only three wires and plug it into the limit switch PCB.     </p> </li> <li> <p>Take the unlabeled connector with six holes and four wires and plug it into the Z motor.     </p> </li> <li> <p>Grab two zip ties from the bag in your tool kit and fit them through the channels in the top side of the X gantry.      </p> </li> <li> <p>Find the cable labeled <code>LM</code>, route it over the top of the Z motor, and loosely secure the zip tie on the left side of the X gantry.</p> <p></p> <p>Secure zip tie loosely</p> <p>When tightening the zip tie, do not tighten it fully. Tighten until there's about a 15mm diameter opening as shown below. If the zip tie is tightened too tightly, it can cause excessive wear to the cabling.</p> <p></p> </li> <li> <p>Fit a zip tie through the outer slot on the left Z gantry.   </p> </li> <li> <p>Plug the cable labeled <code>LM</code> into the left motor on the X gantry. This cable is inserted from the bottom.   </p> </li> <li> <p>Tighten left Z gantry zip tie to secure the LM cable in place.</p> <p>This zip tie is not optional</p> <p>This zip tie provides critical strain relief for the cable harness and motor connector. Failure to do so will result in excessive wear on your cable harness. Please be sure that you install it.</p> <p></p> <p>Warning</p> <p>Be sure to secure the zip tie around the thicker black insulation of the cable. Failure to do so will cause undue stress on the cabling, which can result in the cable failing. Be sure to secure the zip tie securly around the black insulation, and not around the four individual wires within.</p> <p></p> </li> <li> <p>Find the cable labeled <code>RM</code> and secure it in place using the zip tie on the right side of the X gantry.</p> <p>Secure zip tie loosely</p> <p>When tightening the zip tie, do not tighten it fully. Tighten until there's about a 15mm diameter opening as shown below. If the zip tie is tightened too tightly, it can cause excessive wear to the cabling.</p> <p></p> </li> <li> <p>Fit a zip tie through the outer slot on the right Z gantry.</p> </li> <li> <p>Plug the cable labeled <code>RM</code> into the right motor on the X gantry. This cable is inserted from the bottom.     </p> </li> <li> <p>Tighten the right Z gantry zip tie to secure the RM cable in place.</p> <p>This zip tie is not optional</p> <p>This zip tie provides critical strain relief for the cable harness and motor connector. Failure to do so will result in excessive wear on your cable harness. Please be sure that you install it.</p> <p></p> <p>Warning</p> <p>Be sure to secure the zip tie around the thicker black insulation of the cable. Failure to do so will cause undue stress on the cabling, which can result in the cable failing. Be sure to secure the zip tie securly around the black insulation, and not around the four individual wires within.</p> <p></p> </li> <li> <p>Trim the excess zip ties from the LM and RM cables.      </p> </li> <li> <p>Find the two pieces of tubing labeled <code>LH</code> and <code>RH</code>, and insert <code>LH</code> into the left motor, and <code>RH</code> into the right motor. Make sure that the tubing is in between the <code>LH</code> and <code>RH</code> cable harness going to the motors as shown in the image below.      </p> <p>Note</p> <p>If you ever need to remove the tubing, press down on the blue plastic circle while pulling upward on the tubing.</p> </li> <li> <p>Your X gantry should look like the image below.   </p> </li> <li> <p>Take the print attached to the wire exiting from the middle of the cable chain, and align it with the back of the X motor as shown in the image below.   </p> </li> <li> <p>Using two M5x16mm socket head screws, mount the X cable guide to the Y gantry. Then plug the cable into the X motor.    </p> </li> <li> <p>Your machine should look like the image below. Lift it up onto its back legs for final wiring steps.    </p> </li> </ol>"},{"location":"semi-assembly-3-1/wiring-3-1/#wiring-the-motherboard","title":"Wiring the Motherboard","text":"<ol> <li> <p>Remove the motherboard cover by unscrewing the two M3x30mm screws. Lift the top edge away from the board and rotate it out from underneath the pneumatic tubing.    </p> </li> <li> <p>Take the <code>Y1</code> cable harness that came attached to the left leg assembly and guide it underneath the motherboard from the left side, and out through the top as shown. Plug the connector into the second port from the left and tuck any excess cabling underneath the motherboard.    </p> </li> <li> <p>Using the cable clips as shown below, guide the <code>Y2</code> cable harness from the right leg assembly across the top of the staging plate, under the motherboard, and out through the top. You'll have to loosen the clips using an allen key to get the cable underneath them. Be sure to clamp them down tight so the cable doesn't hang loosely.    </p> </li> <li> <p>Plug the <code>Y2</code> cable harness into the third port from the left. Tuck any excess cabling underneath the motherboard.   </p> </li> <li> <p>Remove two M5x10mm socket head screws and two t-slot nuts from your hardware bag.</p> </li> <li> <p>Insert both of the M5x10mm screws through the strain relief print and loosely attach a t-slot nut onto each screw from the backside as shown.    </p> </li> <li> <p>Remove the plastic wrapping from motherboard-side of the cable chain.    </p> </li> <li> <p>Take a look at the bundle of cables coming from the cable chain. One cable with a USB connector will not be zip tied into the print. Move this cable out of the way for now, as we won't be routing it with the rest of the cables.   </p> </li> <li> <p>Isolate the following items from the bundle, and guide them under the motherboard from the left side, and out through the top as shown below.</p> <ul> <li><code>RH</code> tubing</li> <li><code>LH</code> tubing</li> <li><code>XM</code> cable harness</li> <li><code>ZM</code> cable harness</li> <li><code>LM</code> cable harness   </li> </ul> </li> <li> <p>Use two M5x10mm screws and two T-slot nuts to attach the strain relief print into the bottom of the bottom rail in the left leg assembly.     </p> </li> <li> <p>Plug the <code>XM</code> cable harness into the first port from the left (labeled \"X\"), plug the <code>ZM</code> cable harness into the fourth port from the left (labeled \"Z\"), and plug the <code>LM</code> cable harness into the port on the far left (labeled \"L\").    </p> </li> <li> <p>Take the two tubes left and stick them back under the motherboard, out the right side, and plug them into the pneumatic fitting that matches the label on the tubing.    </p> </li> <li> <p>Route the remaining three cable harness from the bundle underneath the red and blue vacuum sensor tubing.   </p> </li> <li> <p>Plug the harness labeled <code>RM</code> into the first port in the second row (labeled \"R\").   </p> </li> <li> <p>Plug the harness labeled <code>ZL</code> into the Z Limit Switch port.   </p> </li> <li> <p>Plug the harness labeled <code>DL</code> into the Top Light port.   </p> </li> <li> <p>Tuck any excess cabling underneath the motherboard. Your machine should look like the image below.   </p> </li> </ol>"},{"location":"semi-assembly-3-1/wiring-3-1/#installing-feeder-slots","title":"Installing Feeder Slots","text":"<p>The next step is installing the Feeder Slot Cable Harness. Select the appropriate installation instructions linked below based off your machine version.</p> <ul> <li>If your machine is a <code>v3.1</code>, install the harness for Individual Feeder Slots.</li> <li>If your machine is a <code>v3.2</code> or greater, install the harness for Feeder Slot Blades.</li> </ul> <p>After you complete this step return to this page for guidance on plugging in the last few wires in the next section.</p>"},{"location":"semi-assembly-3-1/wiring-3-1/#finalize-wiring","title":"Finalize Wiring","text":"<ol> <li> <p>Grab the USB &lt;-&gt; 4 pin connector cable from your tool bag, and plug the 4 pin connector into the back of the bottom camera. Attach the cable to the bottom camera mount using a zip tie and snip off the excess.    </p> </li> <li> <p>Find the staging plate foot from the second tray, and press fit it onto the bottom camera mount, taking care to align the cutout with the bottom camera cable.    </p> </li> <li> <p>Route the USB cable underneath the motherboard.    </p> </li> <li> <p>Plug the power supply into a wall outlet, and plug the barrel jack into the port in the upper-right corner of the motherboard. You should see a light come on underneath the cover.</p> </li> <li>Plug the USB-B cable located in your tool bag into the USB port on the bottom-left corner of the motherboard.</li> <li>Lower your machine down onto all four legs.</li> <li>Plug the three USB cables coming from your machine into your computer. Depending on your computer's hardware, you might need to plug these all into separate USB ports on your computer and not use an external hub. We'll cover more about this later during calibration.</li> </ol> <p>You're done with your build! Time to head over to the OpenPnP section of the docs for calibration and running your first job:</p>"},{"location":"semi-assembly-3-1/wiring-3-1/#next-steps","title":"Next Steps","text":"<p>You're done with your build! Next, you'll set up OpenPnP.</p>"},{"location":"semi-assembly-4-0/","title":"LumenPnP v4 Assembly","text":"<p>These are assembly instructions for the v4 LumenPnP.</p> <p>Check Your Machine's Version Number</p> <p>Make sure your LumenPnP version begins with \"v4\" before continuing with this section. You can find your machine's version number on the insert included in the box.</p>"},{"location":"semi-assembly-4-0/#what-is-the-lumenpnp","title":"What is the LumenPnP?","text":"<p>The LumenPnP is an open source Pick and Place project led by Opulo. The LumenPnP is designed to be accessible and suited towards mid-scale manufacturing and rapid in-house prototyping.</p> <p></p> <p>The LumenPnP can reliably place components as small as 0402, and supports both passive and powered feeders. The LumenPnP is completely open source and has an active community with ongoing mechanical, electrical, and software improvements.</p>"},{"location":"semi-assembly-4-0/#before-you-begin","title":"Before you begin","text":""},{"location":"semi-assembly-4-0/#machine-orientation-and-terminology","title":"Machine Orientation and Terminology","text":"<p>Throughout this guide we'll be referring to different orientations and directions of the machine as \"left, right, front, back, up, and down.\" In general, these words are in reference to the typical view of the machine, facing it directly, as shown below.</p> <p></p> <p>We'll also refer to putting the machine \"back on its haunches.\" This refers to a feature of the LumenPnP where it can be lifted up by the front rail and let to rest upright on its back feet. This orientation is tremendously helpful for installing things to the staging plate and plugging things into the motherboard. Whenever putting your machine back, make sure the Y gantry is pushed all the way to the back of the machine to prevent backdriving the Y stepper motor driver.</p>"},{"location":"semi-assembly-4-0/#usage","title":"Usage","text":"<p>Make sure to keep the LumenPnP in a cool, dry environment. Do NOT expose to warm environments or direct sunlight for prolonged periods of time.  Use on a flat, stable surface.</p> <p>The LumenPnP should be used in a room with consistent lighting. The machine vision operations that the machine performs can be affected by ambient lighting changes, so be sure to keep the lighting the same throughout calibration and operation.</p>"},{"location":"semi-assembly-4-0/#help","title":"Help","text":"<p>If you find that there's something unclear in this documentation, please submit a ticket on Github about it! You can also file an issue using the link in the upper right of any page on this site. Every issue you tag helps us make it better for everyone else. You can also check out the Discord server and ask questions to the community. For notices, see here.</p>"},{"location":"semi-assembly-4-0/#timing","title":"Timing","text":"<p>Expect assembly to take about 90 minutes.</p>"},{"location":"semi-assembly-4-0/#youll-need","title":"You'll Need","text":"<ul> <li>Your packaged LumenPnP v4</li> <li>A clear, smooth, flat tabletop for assembly</li> <li>A computer</li> <li>The ability to plug in three high-bandwidth USB-A ports - Your computer will need to communicate with both the data stream that controls the machine, along with two webcam feeds. It might be possible to handle all of this data through one USB port on your computer with an external USB hub, but you might find you need to plug into a few different ports on your computer, depending on the hardware you have.</li> </ul>"},{"location":"semi-assembly-4-0/#next-steps","title":"Next steps","text":"<p>Let's dive in! The first step is unboxing your machine.</p>"},{"location":"semi-assembly-4-0/notices/","title":"LumenPnP v4 Notices","text":""},{"location":"semi-assembly-4-0/notices/#fcc-compliance-notice","title":"FCC Compliance Notice","text":"<p>Supplier's Declaration of Conformity Product Name: LumenPnP Responsible Party: Opulo Inc Website: https://www.opulo.io/</p> <p>This equipment has been tested and found to comply with the limits for a Class B digital device, pursuant to part 15 of the FCC Rules. These limits are designed to provide reasonable protection against harmful interference in a residential installation. This equipment generates, uses and can radiate radio frequency energy and, if not installed and used in accordance with the instructions, may cause harmful interference to radio communications. However, there is no guarantee that interference will not occur in a particular installation. If this equipment does cause harmful interference to radio or television reception, which can be determined by turning the equipment off and on, the user is encouraged to try to correct the interference by one or more of the following measures:</p> <ul> <li>Reorient or relocate the receiving antenna.</li> <li>Increase the separation between the equipment and receiver.</li> <li>Connect the equipment into an outlet on a circuit different from that to which the receiver is connected.</li> <li>Consult the dealer or an experienced radio/TV technician for help.</li> </ul> <p>Changes or modifications not expressly approved by the party responsible for compliance could void the user's authority to operate the equipment.</p>"},{"location":"semi-assembly-4-0/electronics/","title":"LumenPnP v4 Assembly - Electronics","text":""},{"location":"semi-assembly-4-0/electronics/#control-box-installation","title":"Control Box Installation","text":"<ol> <li> <p>Remove the control box from the packaging.</p> <p> </p> </li> <li> <p>Remove the cover by lifting by the tab on the bottom. Set the cover aside.</p> <p> </p> </li> <li> <p>Get <code>2x</code> M5x10mm socket head bolts and <code>2x</code> T-slot nuts from your hardware kit.</p> <p></p> </li> <li> <p>Drop the M5x10mm bolts into the channels in the control box and ensure they stick out the back side of the box. Loosely thread the T-slot nuts onto both of them using an allen key.</p> <p> </p> </li> <li> <p>Loosely attach onto the left Y-gantry as shown.</p> <p> </p> </li> <li> <p>Get the X drag chain support from the packaging.</p> <p></p> </li> <li> <p>Use the straight side of the X drag chain support to correctly space the control box from the front left leg.</p> <p> </p> </li> <li> <p>Tighten the control box in place at the correct spacing.</p> <p> </p> </li> </ol>"},{"location":"semi-assembly-4-0/electronics/#underside-wiring","title":"Underside Wiring","text":"<ol> <li> <p>Gently move the head all the way back, and lift the machine onto its back legs as shown.</p> <p> </p> </li> <li> <p>Find the Y2 cable on the right side of the machine. It has a \"Y2 Motor\" label near the connector.</p> <p></p> </li> <li> <p>Using an allen key, loosen the cable clamp on the staging plate, route the cable under the clamp, and tighten it in place.</p> <p> </p> </li> <li> <p>Route the Y2 cable across the staging plate and secure in place using the other cable clamp. Make sure to pull the cable taut before securing in place. It should not hang or droop.</p> <p> </p> </li> <li> <p>Route the Y2 cable up and over the control box as shown, along with the Y1 cable that's pre-routed on the left Y gantry as shown below. The Y1 cable has a \"Y1 Motor\" label near the connector.</p> <p></p> </li> <li> <p>Get the Feeder Blade Harness Set from the packaging, and remove the longer cable with a <code>FRONT BLADES</code> and <code>BACK BLADES</code> label on either end.</p> <p> </p> </li> <li> <p>Plug the <code>FRONT BLADES</code> end into the connector on the right side of the top rail.</p> <p> </p> </li> <li> <p>Push the cable into four extrusion cable clips found in a bag from the packaging, and snap them into the extrusion as shown below.</p> <p> </p> </li> <li> <p>Plug the other end into the connector on the right side of the bottom rail, and secure in place using another extrusion cable clip.</p> <p> </p> </li> <li> <p>Get the other cable from the Feeder Blade Harness Set with a <code>FEEDERS-BLADE</code> and <code>FEEDERS-MOBO</code> label on either end.</p> <p></p> </li> <li> <p>Plug the <code>FEEDERS-BLADE</code> end into the connector on the left side of the top rail, and secure in place using an extrusion cable clip as shown. Route the other end over the control box.</p> <p> </p> </li> <li> <p>Remove the rubber band holding the bundle of two cables on the staging plate together, and route over the control box.</p> <p> </p> </li> <li> <p>Separate the USB cable from the rest of the cables, and route the remaining four into the cable retention feature in the control box.</p> <p> </p> </li> <li> <p>Bring the machine back down onto four legs with the control box facing you.</p> <p> </p> </li> <li> <p>Plug the four routed cables into their respective ports. Match the labels on the cables with the labels on the control board. Use the images below for reference.</p> <p>Fully Insert Connectors</p> <p>Make sure that you have fully inserted all connectors. This is critical to ensure proper operation of your LumenPnP.</p> <p> </p> </li> <li> <p>Your control box interior should look like the image below.</p> <p></p> </li> </ol>"},{"location":"semi-assembly-4-0/electronics/#drag-chains","title":"Drag Chains","text":"<ol> <li> <p>Rotate the machine so you're facing the back. Pull the gantry towards you as shown below.</p> <p></p> </li> <li> <p>Get the drag chain assembly from the packaging.</p> <p></p> </li> <li> <p>Remove the rubber band from the end shown below. This side of the chain attaches to the machine's head.</p> <p> </p> </li> <li> <p>Lay the drag chain assembly around the machine as shown.</p> <p>Check the polarity</p> <p>Ensure the end with the attached 3D print is on the left side of the machine, and the side with a bundle of cables is laying along the right side.</p> <p></p> </li> <li> <p>Grab the print on the end of the chain on the left side. Find the two cables attached to the back side of the print. These cables will fit into the slot on the back side of the machine's head.</p> <p> </p> </li> <li> <p>While guiding the cables into the channel, rotate the end of the drag chain in place as shown. Make sure it's sitting flush against the back side of the machine's head.</p> <p> </p> </li> <li> <p>Bolt the head in place using an M5x16mm socket head bolt. Double check that this print is flush with the back side of the machine's head.</p> <p></p> </li> <li> <p>Plug in the top ring light and top camera using the two cables you just routed through the channel.</p> <p> </p> </li> <li> <p>Find the Z motor and Z limit cables on the head, and tuck them into the slot as shown.</p> <p> </p> </li> <li> <p>Plug the Z limit cable into the connector on the back side of the circuit board mounted to the front of the head. Plug the Z motor cable into the Z motor.</p> <p>Fully Insert Connectors</p> <p>Make sure that you have fully inserted all connectors. This is critical to ensure proper operation of your LumenPnP.</p> <p> </p> </li> <li> <p>Check that your machine looks like the image below.</p> <p></p> </li> <li> <p>Pick up the X drag chain and hang it over the back leg as shown below.</p> <p> </p> </li> <li> <p>Get the X gantry drag chain support panel and orient it as shown below, with the text on the right and facing upwards.</p> <p> </p> </li> <li> <p>Lift the drag chain, slide the support panel underneath it, and rest the drag chain on top.</p> <p> </p> </li> <li> <p>On the left side, align the holes in the support panel with the holes in the Y gantry. The X drag chain should be centered on the support panel.</p> <p> </p> </li> <li> <p>Bolt the left side of the support panel into the Y gantry using <code>2x</code> M5x10mm socket head bolts.</p> <p></p> <p>A Bit of Resistance</p> <p>You should expect to feel some resistance when bolting these three together. The slot in the cable chain is slightly undersized for the bolt, so don't worry if you need to use a little bit of extra force to thread these bolts through.</p> <p></p> </li> <li> <p>On the right side, align the holes in the drag chain with the holes in the support panel, and with the holes in the other Y gantry.</p> <p> </p> </li> <li> <p>Bolt the three together using <code>2x</code> M5x16mm flat head bolts.</p> <p></p> <p>A Bit of Resistance</p> <p>You should expect to feel some resistance when bolting these three together. The slot in the cable chain is slightly undersized for the bolt, so don't worry if you need to use a little bit of extra force to thread these bolts through.</p> <p></p> </li> <li> <p>Thread <code>2x</code> more M5x16mm flat head bolts through the holes in the Y drag chain by the X motor as shown.</p> <p> </p> </li> <li> <p>Align these bolts with the holes in the drag chain support by the text \"Y Drag Chain Mounts Here\" and drop it into place. Loosely thread <code>2x</code> M5 nuts onto the bolts.</p> <p> </p> </li> <li> <p>Use the cutout in the squaring bracket to hold the nuts in place while you tighten the bolts using an allen key.</p> <p> </p> </li> <li> <p>Plug the X motor cable into the X motor, and plug the XY limit cable into the XY limit switch PCB as shown. Use a zip tie to secure the XY limit cable in place as shown, and snip off the excess using the snips in your tool kit.</p> <p>Fully Insert Connectors</p> <p>Make sure that you have fully inserted all connectors. This is critical to ensure proper operation of your LumenPnP.</p> <p> </p> </li> <li> <p>Lay the Y drag chain on top of the control box as shown, align it with the holes in the box, and secure in place with <code>2x</code> M5x16mm flat head bolts.</p> <p> </p> </li> <li> <p>Rotate the machine so the control box is facing you. Remove the rubber band holding the cable bundle together.</p> <p></p> </li> <li> <p>Separate the USB cable from the bundle and route the rest of the cables into the control box as shown.</p> <p> </p> </li> <li> <p>Plug the cables you just routed into their respective ports. Match the labels on the cables with the labels on the control board. Use the images below for reference.</p> <p>Fully Insert Connectors</p> <p>Make sure that you have fully inserted all connectors. This is critical to ensure proper operation of your LumenPnP.</p> <p> </p> </li> <li> <p>Reattach the cover by fitting the top edge, then pushing on the bottom until it snaps into place.</p> <p> </p> </li> <li> <p>Push the blue tubing into the <code>R</code> pneumatic port, and push the red tubing into the <code>L</code> pneumatic port.</p> <p> </p> </li> <li> <p>Your control box should look like the image below.</p> <p></p> </li> <li> <p>Rotate the machine so you're facing the front, and pull the gantry all the way toward you.</p> <p></p> </li> <li> <p>Plug the R motor cable into the right nozzle motor port, secure it in place using a zip tie, and snip off the remainder. Press the blue tubing into the pneumatic coupler on top of the R motor.</p> <p>Fully Insert Connectors</p> <p>Make sure that you have fully inserted all connectors. This is critical to ensure proper operation of your LumenPnP.</p> <p> </p> </li> <li> <p>Plug the L motor cable into the left nozzle motor port, secure it in place using a zip tie, and snip off the remainder. Press the red tubing into the pneumatic coupler on top of the L motor.</p> <p> </p> </li> </ol>"},{"location":"semi-assembly-4-0/electronics/#next-step","title":"Next Step","text":"<p>Next you'll install OpenPnP.</p>"},{"location":"semi-assembly-4-0/frame/","title":"LumenPnP v4 Assembly - Frame","text":""},{"location":"semi-assembly-4-0/frame/#rails","title":"Rails","text":"<ol> <li> <p>Remove the left and right leg assemblies from the second tray.</p> <p> </p> </li> <li> <p>Remove the two aluminum rails from underneath the cable chain in the first tray.</p> <p> </p> </li> <li> <p>Stand the left and right leg assemblies upright on the tabletop as shown below. The left leg assembly has a cable harness labeled <code>Y1</code>, and the tensioner arm pivot is on the left. The right leg assembly has a cable harness labeled <code>Y2</code> and the tensioner arm pivot is on the right. Check the photos below for reference.</p> <p> </p> </li> <li> <p>Tilt the left Y gantry on its side as shown.</p> <p></p> </li> <li> <p>Remove <code>2x</code> M5x10mm socket head screws and <code>2x</code> T-slot nuts from your hardware bag.</p> <p></p> <p>Tip</p> <p>Use the sillouettes of the bolts on the hardware kit bag to easily identify bolts.</p> <p></p> </li> <li> <p>Insert one of the M5x10mm screws into the front left leg as shown.</p> <p> </p> </li> <li> <p>Attach a T-slot nut onto the screw.</p> <p> </p> </li> <li> <p>Orient the nuts vertically as shown.</p> <p> </p> </li> <li> <p>Grab the front rail. It only has one right-angle bracket attached to each side, and has slots labeled 1-25.</p> <p> </p> </li> <li> <p>Grab <code>2x</code> M5x8mm button head bolts and <code>2x</code> T-slot nuts from the hardware kit bag. Drop the bolts into the open holes in the right angle brackets and loosely thread the T-slot nuts onto them.</p> <p> </p> </li> <li> <p>Align the nuts perpendicular to the rail as shown.</p> <p> </p> </li> <li> <p>Align the front rail and left leg subassembly as shown in the image below. Make sure that the rotation of the t-slot nuts match the image.</p> <p></p> </li> <li> <p>Rotate the front rail upward as shown in the pictures below. Make sure the t-slot nut in the bracket on the front rail fits inside the bottom extrusion of the left leg subassembly. The front rail and right angle bracket should sit flush against the extrusion.</p> <p> </p> </li> <li> <p>Slide the front rail into the front left leg. Make sure it's completely pushed into the leg with no gaps. Tighten the two screws to hold the front rail in place as shown below.</p> <p> </p> </li> <li> <p>Rotate the assembly down flat on the table.</p> <p> </p> </li> <li> <p>Attach the remaining M5x10mm socket head and t-slot nut into the front right leg in the same way as you did for the front left leg.</p> <p> </p> </li> <li> <p>Orient the nut as shown.</p> <p> </p> </li> <li> <p>Lift the front rail up into the bottom extrusion of the right leg subassembly, and slide it towards you into the front right leg as shown. Tighten the front screw in place.</p> <p> </p> </li> <li> <p>Lift up the machine onto its back legs, and tighten in the final loose screw on the front right leg.</p> <p> </p> </li> <li> <p>Get the back rail. It has two right angle brackets on each side, and slots numbered 26-50. Get <code>4x</code> M5x8mm button heads and <code>4x</code> T-slot nuts and mount them into the open holes in the right angle brackets as shown below. Do this for all four brackets.</p> <p> </p> </li> <li> <p>Align the t-slot nuts perpendicular to the rail as shown.</p> <p></p> </li> <li> <p>Place the back rail across the back legs as shown. Rotate it upwards into the bottom extrusion of the left leg subassembly, ensuring that both t-slot nuts fit into the v-slot. It should be flush against the rail.</p> <p> </p> </li> <li> <p>Make sure that the right side of the back rail has fit into the right leg extrusion. You might find that the back legs need to be pulled together or apart a little in order to get them to fit; this is ok. The back rail should be flush with the extrusion if the t-slot nuts have been inserted into the extrusion correctly.</p> <p></p> </li> <li> <p>Slide the back rail up and let the left side of it rest on the spacing bracket included in your tool kit. Make sure it's resting on the short side (50mm). Lightly tighten the top screw on the left side, making sure to keep the end of the extrusion and right angle brackets perfectly flush with the side of the extrusion.</p> <p> </p> </li> <li> <p>Use the bracket to set the spacing on the right side, and make sure the right angle brackets are perfectly flush with the right side extrusion. Tighten both screws into place.  Go back to the left side and tighten the bottom screw.</p> <p> </p> </li> <li> <p>Bring the machine back down onto four legs.</p> <p> </p> <p>Check for Squareness</p> <p>Now is the best time to adjust your frame to ensure it's been assembled square.</p> <p>Take the build plate from your packaging and drop it onto the rails.</p> <p></p> <p>Pull the staging plate completely forward in the machine, and make sure the edge is flush with the extrusion on both sides of the machine. Then slide to the back of the machine and do the same. Loosen any frame bolts you just mounted to adjust until both sides of the staging plate are flush with the extrusion both at the front and back of the machine.</p> <p></p> </li> <li> <p>Slide both Y gantries to the back of the machine (opposite the tension arms).</p> <p> </p> </li> <li> <p>Grab the X gantry from the packaging and fit it onto the Y gantries as shown. Make sure the toolhead motors are facing you like the image below.</p> <p> </p> </li> <li> <p>Attach the X gantry to the Y gantries by installing a M5x25 socket head screw and M5x16mm socket head screw into the two holes on each side of the X gantry assembly.</p> <p> </p> </li> <li> <p>Tip the machine back up onto its back legs, and install front leg extensions onto the front legs with <code>2x</code> M5x16mm socket head screws for each leg.</p> <p> </p> </li> <li> <p>Install a back leg extension onto each of the back legs with an M5x16mm socket head screw for each leg.</p> <p> </p> </li> <li> <p>Bring the machine back down onto four legs.</p> <p> </p> </li> </ol>"},{"location":"semi-assembly-4-0/frame/#plates","title":"Plates","text":"<ol> <li> <p>Remove the staging plate and build plate from the first tray. The staging plate is packed under the control box.</p> <p> </p> </li> <li> <p>The staging plate has the bottom camera mounted to it. The build plate is bare.</p> <p> </p> </li> <li> <p>Get the static camera foot and the gold thumb screws from the packaging.</p> <p> </p> </li> <li> <p>Line up the bottom camera cable with the cutout in the static camera foot as shown, and secure it in place using the two thumb screws.</p> <p> </p> </li> <li> <p>Grab the build plate foot from the packaging, and remove the screw threaded into one end.</p> <p> </p> </li> <li> <p>Drop the screw through the very center of the build plate, making sure that it's facing upwards by looking for the \"LumenPnP Staging Plate\" text in the corner to confirm. Attach the build plate foot with the bolt using an allen key.</p> <p> </p> </li> <li> <p>Get 8x M5x8mm button head screws and 8x t-slot nuts from your hardware bag.</p> <p></p> </li> <li> <p>Insert the button head screws through the large holes in the four corners of each plate. Make sure you are inserting them from the side of the plate that has the \"LumenPnP Staging Plate\" text in the corner, and not from the side with the Opulo logo. Loosely thread a t-slot nut onto the opposite side of each screw.</p> <p> </p> </li> <li> <p>The plates should look like the image below.</p> <p></p> </li> <li> <p>Pull out any wires tucked into the Y gantries, and leave them loose in the center of the machine to clear way for the plates to be mounted.</p> <p> </p> </li> <li> <p>Place the staging plate into the machine as shown below. Have it rest on the lower of the two extrusions in each leg assembly. Make sure the staging plate's orientation matches the images below.</p> <p> </p> </li> <li> <p>Make sure that the staging plate is sitting flush on the extrusions. The T-slot nut should fit inside the slot in the extrusion.</p> <p> </p> </li> <li> <p>Get the alignment bracket that you used earlier.</p> <p></p> </li> <li> <p>Place the bracket along the front rail with the long side pointing away from you. Arrange the staging plate so that it is flat against the bracket.</p> <p> </p> </li> <li> <p>While ensuring that the flat edge of the staging is flush against the side of the extrusion, tighten the screw closest to the front of the machine. Don't tighten the back one yet.</p> <p> </p> </li> <li> <p>Move the alignment bracket to the right side. Tighten both screws on the right side while ensuring the staging plate is pushed up against the alignment bracket.</p> <p> </p> </li> <li> <p>Tighten the second screw on the left side of the machine.</p> <p></p> </li> <li> <p>Place the build plate onto the same rail as the staging plate. Ensure the t-slot nuts are fully inserted into the extrusion.</p> <p> </p> </li> <li> <p>Slide the build plate against the staging plate.</p> <p></p> </li> <li> <p>Make sure the build plate is flush with the extrusion, and tighten all four screws.</p> <p> </p> </li> <li> <p>Get the Y striker from the packaging.</p> <p></p> </li> <li> <p>Slide the Y striker into the slot in the front left leg as shown, and secure in place using an M5x25mm socket head bolt.</p> <p> </p> </li> </ol> <p>You've completed the LumenPnP frame assembly. Next is installing the electronics.</p>"},{"location":"semi-assembly-4-0/unboxing/","title":"LumenPnP v4 Assembly - Unboxing","text":"<ol> <li> <p>Open the LumenPnP box and look for the <code>Getting Started</code> card attached to the top sheet of foam. This has your machine's version number.</p> <p> </p> <p>Make sure your version number begins with <code>v4</code>.</p> <p></p> </li> <li> <p>Remove the top protective layer of foam and reveal the first tray of components.</p> <p></p> </li> <li> <p>This tray contains:</p> <ul> <li>Staging plate</li> <li>Build plate</li> <li>Feet for the build and staging plates</li> <li>Cable chain assembly</li> <li>Y Limit Switch Striker</li> <li>IEC power cable and power supply</li> <li>Front rail w/25 feeder slots installed</li> <li>Back rail w/25 feeder slots installed</li> <li>10x Extrusion cable clips</li> <li>Alignment bracket</li> <li>Control Box</li> </ul> <p></p> </li> <li> <p>Grab the foam as shown below, rotate the tray up, then pull it out and set it aside, revealing the second tray of parts.</p> <p> </p> </li> <li> <p>The second tray contains the following parts:</p> <ul> <li>Left and right Y gantry assemblies</li> <li>X gantry assembly</li> <li>Getting started kit</li> <li>Tool bag</li> <li>Leg extensions</li> <li>Feeder Blade Cable Harnesses</li> <li>Nozzle Rack</li> </ul> <p></p> </li> <li> <p>Inside the tool bag you'll find the following items:</p> <ul> <li>Hobby knife</li> <li>Flush snips</li> <li>135 degree tweezers</li> <li>Allen wrench set w/separate 1.3mm driver for adjusting feeder drive wheels</li> <li>ESD wrist strap</li> <li>USB-A to USB-B cable</li> <li>Hardware Kit</li> <li>Zip ties</li> <li>Feeder programmer</li> </ul> <p></p> </li> </ol>"},{"location":"semi-assembly-4-0/unboxing/#next-steps","title":"Next Steps","text":"<p>Next, you'll assemble the frame.</p>"},{"location":"software-updates/","title":"Software Updates","text":"<p>This page contains the most up-to-date or recommended version of all the firmware, software, and configuration files for your Opulo hardware.</p>"},{"location":"software-updates/#openpnp-config-files-xml","title":"OpenPnP Config Files (.XML)","text":"<p>It is important that you pick the right config file for the Version of the LumenPnP you own. Example:</p> <p>If you own a LumenPnP V3, you must use the V3 config files.</p> <p>If you own a LumenPnP V4, you must use the V4 config files.</p> <ul> <li> <p>For V4</p> <ul> <li>LumenPnP V4 Config Download</li> </ul> </li> <li> <p>For V3</p> <ul> <li>LumenPnP V3 Config Download</li> </ul> </li> <li> <p>For V2</p> <ul> <li>LumenPnP V2 Config Download</li> </ul> </li> </ul>"},{"location":"software-updates/#latest-lumenpnp-firmware","title":"Latest LumenPnP Firmware","text":"<p>(Instructions)</p>"},{"location":"software-updates/#v4-firmware","title":"V4 Firmware","text":"<ul> <li>LumenPnP v4.X.X Firmware Download</li> </ul>"},{"location":"software-updates/#v31-v32-firmware","title":"V3.1 &amp; V3.2 Firmware","text":"<ul> <li>LumenPnP v3.1.X / v3.2.X Firmware Download</li> </ul>"},{"location":"software-updates/#v30-firmware","title":"V3.0 Firmware","text":"<ul> <li>LumenPnP v3.0.X Firmware Download</li> </ul>"},{"location":"software-updates/#v2-firmware","title":"V2 Firmware","text":"<ul> <li>LumenPnP v2.X.X Firmware Download</li> </ul>"},{"location":"software-updates/#latest-photon-feeder-firmware","title":"Latest Photon Feeder Firmware","text":"<p>(Instructions)</p> <ul> <li>Photon Feeder Firmware Download</li> </ul>"},{"location":"software-updates/#download-openpnp-2023-04-05","title":"Download OpenPnP (2023-04-05)","text":"<p>Recommended!</p>"},{"location":"software-updates/#linux-download","title":"Linux Download","text":"<ul> <li> <p>Download .deb</p> </li> <li> <p>Download .tar.gz</p> </li> </ul> <p>Not Recommended</p>"},{"location":"software-updates/#macos-download","title":"MacOS Download","text":"<ul> <li>Download .dmg</li> </ul>"},{"location":"software-updates/#windows-os-download","title":"Windows OS Download","text":"<ul> <li> <p>Download 32-bit .exe</p> </li> <li> <p>Download 64-bit .exe</p> </li> </ul>"},{"location":"software-updates/#next-step","title":"Next Step","text":"<ul> <li> <p>LumenPnP V4 Users.</p> <p></p> <ul> <li>If you came here from V4 Configuration Docs, ensure you downloaded the <code>V4 Config Files</code>.</li> <li>Then, head back to importing LumenPnP V4 configuration files. </li> </ul> </li> <li> <p>LumenPnP V3 Users.</p> <p></p> <ul> <li>If you came here from V3 Configuration Docs, ensure you downloaded the <code>V3 Config Files</code>.</li> <li>Then, head back to import the LumenPnP V3 configuration files.</li> </ul> </li> </ul>"}]}